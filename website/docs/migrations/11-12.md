---
id: 11-12
title: Version 11 to 12
---

This migration guide contains migration instructions for:

- [eightshift/boilerplate](https://github.com/infinum/eightshift-boilerplate/releases/tag/12.0.0) - **11+ --> 12.0.0**
- [eightshift/boilerplate-plugin](https://github.com/infinum/eightshift-boilerplate-plugin/releases/tag/5.0.0) - **4+ --> 5.0.0**
- [eightshift/frontend-libs](https://github.com/infinum/eightshift-frontend-libs/releases/tag/12.0.0) - **11+ --> 12.0.0**
- [eightshift/libs](https://github.com/infinum/eightshift-libs/releases/tag/8.0.0) - **7+ --> 8.0.0**

**This release contains a couple of breaking changes!**
Check the list below for details about changes that will have to be made.

Also, a couple of changes are optional, but recommended.

The major update on this release is the cache loading functionality and refactoring helpers.

## Important changes

This version was focused on improving speed and performance of the project and we set the minimum PHP version to **8.2** so if you project is using older PHP version you should update it before updating the setup.

## Setup scripts

We changed the setup script repository and flow so if you are creating a new project you should use the new setup script.

Theme:
```bash
// Old setup script
npx create-wp-project

// New setup script
npx eightshift-create theme
```

Plugin:
```bash
// Old setup script
npx create-wp-project plugin

// New setup script
npx eightshift-create plugin
```

## Required changes

The following changes are required to update your project to the latest version.

### Remove Manifest class

**Migration time: ~1min.**

The `Manifest` class has been removed from the libs. If you used this class in your project, you should remove it.

### Update Enqueue classes

**Migration time: ~5min.**

1. If you are using `EnqueueTheme`, `EnqueueBlocks` or `EnqueueAdmin` classes, you should remove the `$this->manifest` dependency from the constructor.

2. If you are using `$this->manifest->getAssetsManifestItem` method in your project you should replace it with the new `Helpers::getAsset` method.

3. If you are using `getBlockFrontentScriptHandle` method rename it to `getBlockFrontendScriptHandle`.

4. If you are using custom `wp_register_script` you should update the `wp_register_script` function to use the new `Helpers::getAsset` method and update the script handle if you are using WP 6.3+.

### Add Cache class

**Migration time: ~5min.**

1. You should run WP-CLI command `wp boilerplate manifest-cache` to add the cache functionality to your project.

2. Open your `functions.php` file or `<plugins-name>.php` file and add the following code before the `Main` class initialization. You can check the [example](https://github.com/infinum/eightshift-libs/blob/main/src/Init/theme/functions.php) from the boilerplate or [example](https://github.com/infinum/eightshift-libs/blob/main/src/Init/plugin/eightshift-boilerplate-plugin.php) from the plugin.

```php
if (\class_exists(ManifestCache::class)) {
	(new ManifestCache())->setAllCache();
}
```

### Replace ManifestItem filter with Asset helper

**Migration time: ~2min.**

If you are using the `apply_filters(Manifest::MANIFEST_ITEM, '<key>')` filter in your project, you should replace it with the new `Helpers::getAsset('<key>')` helper.

### Update helpers

**Migration time: ~5min.**

1. Find all instances of `outputCssVariablesGlobal(array $globalManifest = [])` function in your project and remove the global settings variable, eg. `outputCssVariablesGlobal()`.

2. Find all instances of `outputCssVariables(array $attributes, array $manifest, string $unique, array $globalManifest = [], string $customSelector = '')` function in your project and remove the global settings variable, eg. `outputCssVariables(array $attributes, array $manifest, string $unique, string $customSelector = '')`.

### Update all renderPartial methods

**Migration time: ~15min.**

Find all instances of `renderPartial` method in your project and replace it with the new `render` method.

**Before:**
```php
echo Components::renderPartial(
	'component',
	'utils',
	'debug-field-details',
	[
		'name' => Components::checkAttr('fieldName', $attributes, $manifest),
	]
);
```

**After:**
```php
echo Components::render(
	'debug-field-details',
	[
		'name' => Components::checkAttr('fieldName', $attributes, $manifest),
	],
	'components',
	false,
	'utils/partials'
);
```

### Update render method

**Migration time: ~10min.**

Find all instances of `render` method in your project where you are using more than 2 arguments and check the new method signature.

**Before:**
```php
return Components::render(
	'form',
	Components::props('form', [], $formProps),
	'',
	true
);
```

**After:**
```php
return Components::render(
	'form',
	Components::props('form', [], $formProps),
	'components',
	true
);
```

### Update wrapper and all blocks with innerBlockContent

**Migration time: ~15min.**

1. You should find all instances of `$this->renderWrapperView` method in your project and replace it with the new `echo $renderContent` method.
2. You should find all instances of `$innerBlockContent` param in your project and replace it with the new `echo $renderContent` method. (Wrapper, Group, Columns, etc.)
3. Remove `wrapperManualContent` param from all `wrapper` instances.
You can check the [example](https://github.com/infinum/eightshift-frontend-libs/blob/feature/new-libs/blocks/init/src/Blocks/wrapper/wrapper.php)

**Before:**
```php
$this->renderWrapperView(
	$templatePath,
	$attributes,
	$innerBlockContent
);
```

**After:**
```php
echo $renderContent;
```

### Replace Components helper with new one

**Migration time: ~5min.**

If you are using the `Components` helper in your project, you should replace it with the new `Helpers` helper.
Fastest way to do this is to search and replace `Components::` with `Helpers::` in your project and `EightshiftLibs\Helpers\Components` with `EightshiftLibs\Helpers\Helpers`.

### Fix Custom Post Type or Taxonomy registration

**Migration time: ~5min.**

We removed `getGeneratedLabels` helper so you should update your custom post type or taxonomy registration.

You can check the [custom post type example](https://github.com/infinum/eightshift-libs/blob/main/src/CustomPostType/PostTypeExample.php) or [custom taxonomy example](https://github.com/infinum/eightshift-libs/blob/main/src/CustomTaxonomy/TaxonomyExample.php) from the boilerplate.
