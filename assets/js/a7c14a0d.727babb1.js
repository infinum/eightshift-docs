/*! For license information please see a7c14a0d.727babb1.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[3830],{5597:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>v,contentTitle:()=>f,default:()=>g,frontMatter:()=>m,metadata:()=>t,toc:()=>b});const t=JSON.parse('{"id":"es-ui-components/async-select","title":"Async single select","description":"{(data, setData) => (","source":"@site/ui-components/es-ui-components/async-select.mdx","sourceDirName":"es-ui-components","slug":"/es-ui-components/async-select","permalink":"/components/es-ui-components/async-select","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"components","previous":{"title":"Multi-select","permalink":"/components/es-ui-components/multi-select"},"next":{"title":"Async multi-select","permalink":"/components/es-ui-components/async-multi-select"}}');var o=s(74848),i=s(28453),l=s(72301),a=s(89029),r=s(82685),c=s(23338),d=s(49290),u=s(91772);const p=e=>{const{label:n,help:s,icon:t,subtitle:i,actions:l,inline:p,loadOptions:h,preloadOptions:m=!0,value:f,onChange:v,noSearch:b=!1,disabled:x=!1,clearable:g=!1,keepMenuOpenAfterSelect:j=!1,className:y,placeholder:w,customMenuOption:O,customValueDisplay:C,customDropdownArrow:S,customClearIndicator:I,processLoadedOptions:A=e=>e,hidden:N,...P}=e;if(N)return null;return(0,o.jsx)(c.p,{label:n,icon:t,subtitle:i,actions:l,help:s,inline:p,children:(0,o.jsx)(a.A,{unstyled:!0,loadOptions:async e=>{const n=await h(e);return A((null==n?void 0:n.map((e=>({id:e.value,...e}))))??[])},defaultOptions:m,value:f,onChange:e=>{e&&"id"in e&&delete e.id,v(e)},closeMenuOnSelect:!j,isClearable:g,isSearchable:!b,isDisabled:x,className:y,placeholder:w,classNames:d.U,components:{Option:O??u.c.Option,SingleValue:C??u.c.SingleValue,IndicatorSeparator:null,DropdownIndicator:S??r.D,ClearIndicator:I??r.P1},menuPortalTarget:document.body,...P})})};var h=s(97610);const m={},f="Async single select",v={},b=[];function x(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"async-single-select",children:"Async single select"})}),"\n","\n",(0,o.jsx)(l.d,{children:(e,n)=>(0,o.jsx)(p,{value:e,onChange:n,loadOptions:h.I_})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const getOptions = async () => {\n\t...\n};\n\n<AsyncSelect\n\tvalue={value}\n\tonChange={(value) => setValue(value)}\n\tloadOptions={getOptions}\n/>\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Props are mostly the same as for the ",(0,o.jsx)(n.a,{href:"/components/es-ui-components/select",children:"Single select"}),",\nwith the exceptions of ",(0,o.jsx)(n.code,{children:"options"})," (which is replaced with ",(0,o.jsx)(n.code,{children:"loadOptions"}),") and ",(0,o.jsx)(n.code,{children:"simpleValue"}),", which is not supported."]})}),"\n",(0,o.jsx)(n.p,{children:"For the complete list of props, use your IDE's autocomplete functionality."})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(x,{...e})}):x(e)}},72301:(e,n,s)=>{s.d(n,{d:()=>r});var t=s(96540),o=s(82972),i=s(34164),l=s(35363),a=s(74848);const r=e=>{let{children:n,defaultValue:s,className:r,fitWidth:c=!1,resettable:d=!1,preContent:u}=e;const[p,h]=(0,t.useState)(s),m=(0,t.useRef)();return(0,a.jsx)(l.A,{children:()=>(0,a.jsxs)("div",{className:"es:flex es:font-sans",children:[(0,a.jsxs)("div",{className:(0,i.$)("es:border es:border-dashed es:border-gray-200 es:p-4 es:rounded-lg esd-space-v es:shrink-0 esd-showcase",c?"es:w-fit":"esd-showcase-w",r),children:["function"==typeof n&&n(p,h),"function"!=typeof n&&n]}),(0,a.jsxs)("div",{className:"esd-space-v es:ml-3 es:grow",children:[u&&u(p,h,m),d&&(0,a.jsx)(o.$,{size:"small",onPress:()=>h(s),disabled:p===s,children:"Reset"})]})]})})}},97610:(e,n,s)=>{s.d(n,{I_:()=>a,KW:()=>r,QV:()=>d,Y5:()=>p,YP:()=>l,dZ:()=>u,qy:()=>c,uB:()=>h});var t=s(51857),o=s(13731),i=s(74848);const l=[{label:"Item 1",value:"item-1"},{label:"Item 2",value:"item-2"},{label:"Item 3",value:"item-3"},{label:"Item 4 with veeeery very long label",value:"item-4"},{label:"Item 5",value:"item-5"},{label:"Item 6",value:"item-6"}],a=e=>{const n=n=>{let{label:s}=n;return s.toLowerCase().includes(e.toLowerCase())};return new Promise((s=>{setTimeout((()=>{e||s(l.slice(0,3)),s(l.filter(n))}),1500)}))},r=e=>(0,i.jsx)(t.am,{...e,children:(0,i.jsx)("div",{className:"[&>svg]:es:text-red-500",children:e.selectProps.menuIsOpen?o.Pt.arrowUpCircleAlt:o.Pt.arrowDownCircleAlt})}),c=e=>(0,i.jsx)(t.pP,{...e,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{role:"img",children:o.Pt.emptyCircle}),(0,i.jsx)("span",{children:e.label})]})}),d=e=>(0,i.jsx)(t.mw,{...e,children:o.Pt.errorCircleFill}),u=e=>(0,i.jsx)(t.XS,{...e,children:(0,i.jsx)("span",{className:"es:text-red-500 es:font-mono es:font-semibold",children:e.children})}),p=e=>(0,i.jsx)(t.C6,{...e,children:o.Pt.remove}),h=e=>{const n=["es:bg-red-500","es:bg-blue-500","es:bg-green-500","es:bg-yellow-500","es:bg-slate-900"],s=e.options.findIndex((n=>n.value===e.data.value))%n.length;return(0,i.jsx)(t.ym,{...e,children:(0,i.jsx)("span",{className:`${n[s]} es:font-semibold es:p-1 es:text-white`,children:e.children})})}},89029:(e,n,s)=>{s.d(n,{A:()=>a});var t=s(91772),o=s(96540),i=s(33306),l=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var a=(0,o.forwardRef)((function(e,n){var s=function(e){var n=e.defaultOptions,s=void 0!==n&&n,i=e.cacheOptions,a=void 0!==i&&i,r=e.loadOptions;e.options;var c=e.isLoading,d=void 0!==c&&c,u=e.onInputChange,p=e.filterOption,h=void 0===p?null:p,m=(0,t.a)(e,l),f=m.inputValue,v=(0,o.useRef)(void 0),b=(0,o.useRef)(!1),x=(0,o.useState)(Array.isArray(s)?s:void 0),g=(0,t.b)(x,2),j=g[0],y=g[1],w=(0,o.useState)(void 0!==f?f:""),O=(0,t.b)(w,2),C=O[0],S=O[1],I=(0,o.useState)(!0===s),A=(0,t.b)(I,2),N=A[0],P=A[1],k=(0,o.useState)(void 0),D=(0,t.b)(k,2),V=D[0],R=D[1],_=(0,o.useState)([]),L=(0,t.b)(_,2),M=L[0],E=L[1],F=(0,o.useState)(!1),T=(0,t.b)(F,2),$=T[0],U=T[1],W=(0,o.useState)({}),Y=(0,t.b)(W,2),q=Y[0],z=Y[1],B=(0,o.useState)(void 0),J=(0,t.b)(B,2),K=J[0],Q=J[1],X=(0,o.useState)(void 0),Z=(0,t.b)(X,2),G=Z[0],H=Z[1];a!==G&&(z({}),H(a)),s!==K&&(y(Array.isArray(s)?s:void 0),Q(s)),(0,o.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var ee=(0,o.useCallback)((function(e,n){if(!r)return n();var s=r(e,n);s&&"function"==typeof s.then&&s.then(n,(function(){return n()}))}),[r]);(0,o.useEffect)((function(){!0===s&&ee(C,(function(e){b.current&&(y(e||[]),P(!!v.current))}))}),[]);var ne=(0,o.useCallback)((function(e,n){var s=(0,t.h)(e,n,u);if(!s)return v.current=void 0,S(""),R(""),E([]),P(!1),void U(!1);if(a&&q[s])S(s),R(s),E(q[s]),P(!1),U(!1);else{var o=v.current={};S(s),P(!0),U(!V),ee(s,(function(e){b&&o===v.current&&(v.current=void 0,P(!1),R(s),E(e||[]),U(!1),z(e?(0,t.d)((0,t.d)({},q),{},(0,t.e)({},s,e)):q))}))}}),[a,ee,V,q,u]),se=$?[]:C&&V?M:j||[];return(0,t.d)((0,t.d)({},m),{},{options:se,isLoading:N||d,onInputChange:ne,filterOption:h})}(e),a=(0,i.u)(s);return o.createElement(i.S,(0,t._)({ref:n},a))}))}}]);