"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[13089],{96156:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>m,contentTitle:()=>d,default:()=>g,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"legacy-component-docs","title":"Legacy component docs","description":"","source":"@site/ui-components/legacy-component-docs.mdx","sourceDirName":".","slug":"/legacy-component-docs","permalink":"/components/legacy-component-docs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"components","previous":{"title":"Introduction","permalink":"/components/fe-libs-components/introduction"}}');var i=s(74848),a=s(28453),o=s(96540),c=s(23271),r=s(13731);const p=()=>{const[e,t]=(0,o.useState)(!0),[s,n]=(0,o.useState)("Initializing");(0,o.useEffect)((()=>{(async()=>{const e=await(0,c.QH)({iframe:a.current,remoteUrl:"https://playground.wordpress.net/remote.html",blueprint:{preferredVersions:{php:"8.3",wp:"6.4"},phpExtensionBundles:["kitchen-sink"],features:{networking:!0},landingPage:"/wp-admin",steps:[{step:"login",username:"admin",password:"password"}]},sapiName:"cli"});n("Loading theme");const s="devkit-components.zip",i=await fetch(`/${s}`,{headers:{"Content-Type":"application/octet-stream"},credentials:"include"});n("Unpacking theme");const o=await i.blob(),r=new File([o],s);n("Installing theme"),await(0,c.XT)(e,{themeZipFile:r,options:{activate:!0}}),n("Setting up WP-CLI");const p="/wordpress/wp-cli.phar",l=await fetch("https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar"),d=await l.arrayBuffer();await e.writeFile(p,new Uint8Array(d)),n("Initializing block");const{text:m}=await(0,c.gT)(e,{command:"wp post create --post_title='Welcome to Eightshift DevKit!' --post_content='\x3c!-- wp:eightshift-boilerplate/devkit-components /--\x3e' --post_status='publish'",wpCliPath:p}),h=m.substring(m.indexOf("Created post ")+13,m.lastIndexOf(".")).trim();n("Finalizing"),await e.goTo(`/wp-admin/post.php?post=${h}&action=edit`),await new Promise((e=>setTimeout(e,1500))),t(!1)})()}),[]);const a=(0,o.useRef)(null);return(0,i.jsxs)("div",{className:"es:size-full",children:[e&&(0,i.jsxs)("div",{className:"es:flex es:gap-4",children:[(0,i.jsx)("div",{className:"es:mt-2 es:py-1 [&>svg]:es:size-6 text-infinum",children:r.Pt.componentGeneric}),(0,i.jsxs)("div",{className:"es:flow-root",children:[(0,i.jsx)("h3",{className:"!es:mt-2",children:"Preparing component docs"}),(0,i.jsx)("span",{className:"text-12",children:s})]})]}),(0,i.jsx)("iframe",{className:"es:size-full es:aspect-video esd-legacy-docs-iframe",allow:"clipboard-read; clipboard-write",ref:a,style:{visibility:e?"hidden":"visible"}})]})},l={},d="Legacy component docs",m={},h=[];function u(e){const t={h1:"h1",header:"header",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"legacy-component-docs",children:"Legacy component docs"})}),"\n","\n",(0,i.jsx)(p,{})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);