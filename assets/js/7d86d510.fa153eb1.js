/*! For license information please see 7d86d510.fa153eb1.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[40474],{40241:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>b,default:()=>C,frontMatter:()=>v,metadata:()=>x,toc:()=>j});var s=n(74848),i=n(28453),o=n(34842),l=n(96540),a=n(80597),c=n(46816),r=n(2522),u=n(82685),d=n(23338),p=n(49290),m=n(7486);const h=e=>{const{label:t,help:n,icon:i,subtitle:o,actions:h,inline:f,loadOptions:v,preloadOptions:b=!0,value:x,onChange:g,disabled:j=!1,noSearch:y=!1,clearable:C=!1,keepMenuOpenAfterSelect:w=!1,className:O,placeholder:S,customMenuOption:I,customValueRemove:A,customValueDisplay:V,customDropdownArrow:M,customValueContainer:N,customClearIndicator:P,processLoadedOptions:k=e=>e,hidden:D,...R}=e,_=(0,l.useId)(),L=x.map(((e,t)=>({...e,id:(null==e?void 0:e.value)??`${_}-${t}`}))),E=e=>{g(null==e?void 0:e.map((e=>({...e,id:void 0}))))};if(D)return null;return(0,s.jsx)(d.p,{label:t,icon:i,subtitle:o,actions:h,help:n,inline:f,children:(0,s.jsx)(c.D,{modifiers:[r.r],onDragEnd:(0,c.g)(E,L),children:(0,s.jsx)(c.S,{items:L.map((({id:e})=>e)),children:(0,s.jsx)(a.A,{isMulti:!0,unstyled:!0,loadOptions:async e=>{const t=await v(e);return k((null==t?void 0:t.map((e=>({id:e.value,...e}))))??[])},defaultOptions:b,value:L,onChange:E,closeMenuOnSelect:!w,isClearable:C,isSearchable:!y,isDisabled:j,className:O,placeholder:S,classNames:p.U,components:{MultiValue:(0,c.a)(V??m.c.MultiValue),MultiValueContainer:N??m.c.MultiValueContainer,MultiValueRemove:(0,c.b)(A??u.Xb),Option:I??m.c.Option,IndicatorSeparator:null,DropdownIndicator:M??u.D,ClearIndicator:P??u.P1},...R})})})})};var f=n(20329);const v={},b="Async multi-select",x={id:"es-ui-components/async-multi-select",title:"Async multi-select",description:"{(data, setData) => (",source:"@site/ui-components/es-ui-components/async-multi-select.mdx",sourceDirName:"es-ui-components",slug:"/es-ui-components/async-multi-select",permalink:"/components/es-ui-components/async-multi-select",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"components",previous:{title:"Async single select",permalink:"/components/es-ui-components/async-select"},next:{title:"Customization",permalink:"/components/es-ui-components/select-customization"}},g={},j=[];function y(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"async-multi-select",children:"Async multi-select"}),"\n","\n",(0,s.jsx)(o.d,{defaultValue:[],children:(e,t)=>(0,s.jsx)(h,{value:e,onChange:t,loadOptions:f.I_})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"const getOptions = async () => {\n\t...\n};\n\n<AsyncMultiSelect\n\tvalue={value}\n\tonChange={(value) => setValue(value)}\n\tloadOptions={getOptions}\n/>\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["Props are mostly the same as for the ",(0,s.jsx)(t.a,{href:"/components/es-ui-components/select",children:"Single select"}),",\nwith the exceptions of ",(0,s.jsx)(t.code,{children:"options"})," (which is replaced with ",(0,s.jsx)(t.code,{children:"loadOptions"}),") and ",(0,s.jsx)(t.code,{children:"simpleValue"}),", which is not supported."]})}),"\n",(0,s.jsx)(t.p,{children:"For the complete list of props, use your IDE's autocomplete functionality."})]})}function C(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}},34842:(e,t,n)=>{n.d(t,{d:()=>c});var s=n(96540),i=n(82972),o=n(34164),l=n(78478),a=n(74848);const c=e=>{let{children:t,defaultValue:n,className:c,fitWidth:r=!1,resettable:u=!1,preContent:d}=e;const[p,m]=(0,s.useState)(n),h=(0,s.useRef)();return(0,a.jsx)(l.A,{children:()=>(0,a.jsxs)("div",{className:"es-uic-flex es-uic-font-sans",children:[(0,a.jsxs)("div",{className:(0,o.$)("es-uic-border es-uic-border-dashed es-uic-border-gray-200 es-uic-p-4 es-uic-rounded-lg es-uic-space-y-2.5 es-uic-shrink-0",r?"es-uic-w-fit":"es-uic-w-96",c),children:["function"==typeof t&&t(p,m),"function"!=typeof t&&t]}),(0,a.jsxs)("div",{className:"es-uic-space-y-2.5 es-uic-ml-3 es-uic-grow",children:[d&&d(p,m,h),u&&(0,a.jsx)(i.$,{size:"small",onPress:()=>m(n),disabled:p===n,children:"Reset"})]})]})})}},20329:(e,t,n)=>{n.d(t,{I_:()=>a,KW:()=>c,QV:()=>u,Y5:()=>p,YP:()=>l,dZ:()=>d,qy:()=>r,uB:()=>m});var s=n(51857),i=n(13731),o=n(74848);const l=[{label:"Item 1",value:"item-1"},{label:"Item 2",value:"item-2"},{label:"Item 3",value:"item-3"},{label:"Item 4 with veeeery very long label",value:"item-4"},{label:"Item 5",value:"item-5"},{label:"Item 6",value:"item-6"}],a=e=>{const t=t=>{let{label:n}=t;return n.toLowerCase().includes(e.toLowerCase())};return new Promise((n=>{setTimeout((()=>{e||n(l.slice(0,3)),n(l.filter(t))}),1500)}))},c=e=>(0,o.jsx)(s.am,{...e,children:(0,o.jsx)("div",{className:"[&>svg]:es-uic-text-red-500",children:e.selectProps.menuIsOpen?i.Pt.arrowUpCircleAlt:i.Pt.arrowDownCircleAlt})}),r=e=>(0,o.jsx)(s.pP,{...e,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{role:"img",children:i.Pt.emptyCircle}),(0,o.jsx)("span",{children:e.label})]})}),u=e=>(0,o.jsx)(s.mw,{...e,children:i.Pt.errorCircleFill}),d=e=>(0,o.jsx)(s.XS,{...e,children:(0,o.jsx)("span",{className:"es-uic-text-red-500 es-uic-font-mono es-uic-font-semibold",children:e.children})}),p=e=>(0,o.jsx)(s.C6,{...e,children:i.Pt.remove}),m=e=>{const t=["es-uic-bg-red-500","es-uic-bg-blue-500","es-uic-bg-green-500","es-uic-bg-yellow-500","es-uic-bg-slate-900"],n=e.options.findIndex((t=>t.value===e.data.value))%t.length;return(0,o.jsx)(s.ym,{...e,children:(0,o.jsx)("span",{className:`${t[n]} es-uic-font-semibold es-uic-p-1 es-uic-text-white`,children:e.children})})}},80597:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(7486),i=n(96540),o=n(12448),l=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var a=(0,i.forwardRef)((function(e,t){var n=function(e){var t=e.defaultOptions,n=void 0!==t&&t,o=e.cacheOptions,a=void 0!==o&&o,c=e.loadOptions;e.options;var r=e.isLoading,u=void 0!==r&&r,d=e.onInputChange,p=e.filterOption,m=void 0===p?null:p,h=(0,s.a)(e,l),f=h.inputValue,v=(0,i.useRef)(void 0),b=(0,i.useRef)(!1),x=(0,i.useState)(Array.isArray(n)?n:void 0),g=(0,s.b)(x,2),j=g[0],y=g[1],C=(0,i.useState)(void 0!==f?f:""),w=(0,s.b)(C,2),O=w[0],S=w[1],I=(0,i.useState)(!0===n),A=(0,s.b)(I,2),V=A[0],M=A[1],N=(0,i.useState)(void 0),P=(0,s.b)(N,2),k=P[0],D=P[1],R=(0,i.useState)([]),_=(0,s.b)(R,2),L=_[0],E=_[1],$=(0,i.useState)(!1),F=(0,s.b)($,2),z=F[0],T=F[1],U=(0,i.useState)({}),W=(0,s.b)(U,2),X=W[0],Y=W[1],q=(0,i.useState)(void 0),B=(0,s.b)(q,2),K=B[0],Q=B[1],Z=(0,i.useState)(void 0),G=(0,s.b)(Z,2),H=G[0],J=G[1];a!==H&&(Y({}),J(a)),n!==K&&(y(Array.isArray(n)?n:void 0),Q(n)),(0,i.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var ee=(0,i.useCallback)((function(e,t){if(!c)return t();var n=c(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[c]);(0,i.useEffect)((function(){!0===n&&ee(O,(function(e){b.current&&(y(e||[]),M(!!v.current))}))}),[]);var te=(0,i.useCallback)((function(e,t){var n=(0,s.h)(e,t,d);if(!n)return v.current=void 0,S(""),D(""),E([]),M(!1),void T(!1);if(a&&X[n])S(n),D(n),E(X[n]),M(!1),T(!1);else{var i=v.current={};S(n),M(!0),T(!k),ee(n,(function(e){b&&i===v.current&&(v.current=void 0,M(!1),D(n),E(e||[]),T(!1),Y(e?(0,s.d)((0,s.d)({},X),{},(0,s.e)({},n,e)):X))}))}}),[a,ee,k,X,d]),ne=z?[]:O&&k?L:j||[];return(0,s.d)((0,s.d)({},h),{},{options:ne,isLoading:V||u,onInputChange:te,filterOption:m})}(e),a=(0,o.u)(n);return i.createElement(o.S,(0,s._)({ref:t},a))}))}}]);