"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[52848],{16300:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=t(74848),i=t(28453);const r={id:"webpack",title:"Webpack"},s=void 0,a={id:"legacy/v4/advanced/webpack",title:"Webpack",description:"docs-source",source:"@site/docs/legacy/v4/advanced/webpack.md",sourceDirName:"legacy/v4/advanced",slug:"/legacy/v4/advanced/webpack",permalink:"/docs/legacy/v4/advanced/webpack",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"webpack",title:"Webpack"},sidebar:"docs",previous:{title:"Sass",permalink:"/docs/legacy/v4/advanced/docs-sass"},next:{title:"Browsersync",permalink:"/docs/legacy/v4/advanced/browsersync"}},c={},l=[{value:"Override built-in functionality",id:"override-built-in-functionality",level:2},{value:"Add Custom build",id:"add-custom-build",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/infinum/eightshift-boilerplate/tree/v4.0.0/webpack.config.js",children:(0,o.jsx)(n.img,{src:"https://img.shields.io/badge/source-eigthshift--boilerplate-red?style=for-the-badge&logo=wordpress&labelColor=2a2a2a",alt:"docs-source"})})}),"\n",(0,o.jsxs)(n.p,{children:["At its core, webpack is a static module bundler for modern JavaScript applications. When webpack processes your application, it internally builds a dependency graph which maps every module your project needs and generates one or more bundles. Learn more about webpack ",(0,o.jsx)(n.a,{href:"https://webpack.js.org/concepts/",children:"here"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Look at how the config is set up on ",(0,o.jsx)(n.a,{href:"https://github.com/infinum/eightshift-boilerplate/tree/v4.0.0/webpack.config.js",children:"Eightshift Boilerplate repo"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["In order to use this library, you'll need to have a ",(0,o.jsx)(n.code,{children:"webpack.config.js"})," file in the root of your project."]}),"\n",(0,o.jsx)(n.p,{children:"This file holds basic configuration that will build your assets correctly and provide browsersync functionality."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"webpack.config.js"})," is a main entrypoint for webpack config and looks like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"/* eslint-disable import/no-dynamic-require, global-require */\n\nmodule.exports = (env, argv) => {\n\n  const projectConfig = {\n    config: {\n      projectDir: __dirname, // Current project directory absolute path.\n      projectUrl: 'local-url.test', // Used for providing browsersync functionality.\n      projectPath: 'wp-content/themes/your-theme-name', // Project path relative to project root.\n      assetsPath: 'src/blocks/assets', // Assets path after projectPath location. (add this key only to override the default value.)\n      blocksAssetsPathConfig: 'src/blocks/assets', // Blocks assets path after projectPath location. (add this key only to override the default value.)\n      outputPath: 'public', // Public output path after projectPath location. (add this key only to override the default value.)\n    },\n  };\n\n  // Generate webpack config for this project using options object.\n  const project = require('./node_modules/@eightshift/frontend-libs/webpack')(argv.mode, projectConfig);\n\n  return {\n    ...project,\n  };\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"override-built-in-functionality",children:"Override built-in functionality"}),"\n",(0,o.jsxs)(n.p,{children:["To remove built-in functionality, add a new array to the config called ",(0,o.jsx)(n.code,{children:"overrides"}),".\nIf you provide any of the ",(0,o.jsx)(n.code,{children:"overrides keys"}),", it will remove that config from the build.\nHere is a list of all the features that we use and how to remove them."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"\nconst projectConfig = {\n  config: {\n    ...\n  },\n  overrides: [\n    'application',\n    'applicationAdmin',\n    'applicationBlocks',\n    'applicationBlocksEditor',\n    'filename',\n    'cleanWebpackPlugin',\n    'terserPlugin',\n    'browserSyncPlugin',\n    'providePlugin',\n    'manifestPlugin',\n    'miniCssExtractPlugin',\n    'copyWebpackPlugin',\n    'optimizeCSSAssetsPlugin',\n    'js',\n    'scss',\n    'images',\n    'fonts',\n    'runtimeChunk',\n  ],\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"add-custom-build",children:"Add Custom build"}),"\n",(0,o.jsxs)(n.p,{children:["If you want to add something custom to your build, you can simply use all the native ",(0,o.jsx)(n.a,{href:"https://webpack.js.org/guides/",children:"webpack features"})," by providing it like in the example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"/* eslint-disable import/no-dynamic-require, global-require */\n\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = (env, argv) => {\n\n  ...\n\n  return {\n    ...project,\n    plugins: [\n      ...project.plugins,\n      new HtmlWebpackPlugin(),\n    ],\n  };\n};\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you want to override the defaults from the libs, first put it in the ",(0,o.jsx)(n.code,{children:"overrides"})," array, then provide your own config as described above."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(96540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);