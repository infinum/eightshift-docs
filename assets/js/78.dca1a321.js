/*! For license information please see 78.dca1a321.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[78],{78:(e,t,l)=>{l.d(t,{$:()=>fe,a:()=>ce,b:()=>ve,c:()=>le,d:()=>U,e:()=>_,f:()=>j,g:()=>Se,h:()=>ge,i:()=>Z,j:()=>y,k:()=>te,l:()=>ae,m:()=>Ke,n:()=>be,p:()=>X,q:()=>F,r:()=>W});var n=l(89328),i=l(31066),o=l(79021),r=l(96540),s=l(44640),u=l(8659),c=l(14644),a=l(78940),d=l(80089);function h(e,t){const l=(0,r.useRef)(!0),n=(0,r.useRef)(null);(0,s.k)((()=>(l.current=!0,()=>{l.current=!1})),[]),(0,s.k)((()=>{l.current?l.current=!1:n.current&&!t.some(((e,t)=>!Object.is(e,n[t])))||e(),n.current=t}),t)}function y(e,t){if(!e)return!1;let l=window.getComputedStyle(e),n=/(auto|scroll)/.test(l.overflow+l.overflowX+l.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}let f=0;const p=new Map;function v(e,t){let l=g(e,t,"left"),n=g(e,t,"top"),i=t.offsetWidth,o=t.offsetHeight,r=e.scrollLeft,s=e.scrollTop,{borderTopWidth:u,borderLeftWidth:c,scrollPaddingTop:a,scrollPaddingRight:d,scrollPaddingBottom:h,scrollPaddingLeft:y}=getComputedStyle(e),f=r+parseInt(c,10),p=s+parseInt(u,10),v=f+e.clientWidth,K=p+e.clientHeight,m=parseInt(a,10)||0,S=parseInt(h,10)||0,b=parseInt(d,10)||0,w=parseInt(y,10)||0;l<=r+w?r=l-parseInt(c,10)-w:l+i>v-b&&(r+=l+i-v+b),n<=p+m?s=n-parseInt(u,10)-m:n+o>K-S&&(s+=n+o-K+S),e.scrollLeft=r,e.scrollTop=s}function g(e,t,l){const n="left"===l?"offsetLeft":"offsetTop";let i=0;for(;t.offsetParent&&(i+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){i-=e[n];break}t=t.offsetParent}return i}function K(e,t){if(e&&document.contains(e)){let r=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(r).overflow){let t=function(e,t){const l=[];for(;e&&e!==document.documentElement;)y(e,t)&&l.push(e),e=e.parentElement;return l}(e);for(let l of t)v(l,e)}else{var l;let{left:r,top:s}=e.getBoundingClientRect();null==e||null===(l=e.scrollIntoView)||void 0===l||l.call(e,{block:"nearest"});let{left:u,top:c}=e.getBoundingClientRect();var n,i,o;if(Math.abs(r-u)>1||Math.abs(s-c)>1)null==t||null===(i=t.containingElement)||void 0===i||null===(n=i.scrollIntoView)||void 0===n||n.call(i,{block:"center",inline:"center"}),null===(o=e.scrollIntoView)||void 0===o||o.call(e,{block:"nearest"})}}}const m="react-aria-clear-focus",S="react-aria-focus";function b(e){return(0,o.A)()?e.metaKey:e.ctrlKey}class w{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new w(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=e,this.key=t}}class k{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=null!=this.firstKey?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=null!=e.nextKey?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),n=null!=(null==l?void 0:l.firstChildKey)?t.get(l.firstChildKey):null;for(;n;)yield n,n=null!=n.nextKey?t.get(n.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(null!=t.prevKey){for(t=this.keyMap.get(t.prevKey);t&&"item"!==t.type&&null!=t.lastChildKey;)t=this.keyMap.get(t.lastChildKey);var l;return null!==(l=null==t?void 0:t.key)&&void 0!==l?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if("item"!==t.type&&null!=t.firstChildKey)return t.firstChildKey;for(;t;){if(null!=t.nextKey)return t.nextKey;if(null==t.parentKey)return null;t=this.keyMap.get(t.parentKey)}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=null!=this.lastKey?this.keyMap.get(this.lastKey):null;for(;null!=(null==e?void 0:e.lastChildKey);)e=this.keyMap.get(e.lastChildKey);var t;return null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null}getItem(e){var t;return null!==(t=this.keyMap.get(e))&&void 0!==t?t:null}at(){throw new Error("Not implemented")}clone(){let e=new(0,this.constructor);return e.keyMap=new Map(this.keyMap),e.firstKey=this.firstKey,e.lastKey=this.lastKey,e}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}UNSTABLE_filter(e){let t=new k,l=null;for(let n of this)if("section"===n.type&&n.hasChildNodes){let i=n.clone(),o=null;for(let l of this.getChildren(n.key))if(C(l,e,this,t)){let e=l.clone();null==o&&(i.firstChildKey=e.key),null==t.firstKey&&(t.firstKey=i.key),o&&o.parentKey===e.parentKey?(o.nextKey=e.key,e.prevKey=o.key):e.prevKey=null,e.nextKey=null,t.addNode(e),o=e}o&&("header"!==o.type?(i.lastChildKey=o.key,null==l?i.prevKey=null:"section"!==l.type&&"separator"!==l.type||(l.nextKey=i.key,i.prevKey=l.key),i.nextKey=null,l=i,t.addNode(i)):(t.firstKey===i.key&&(t.firstKey=null),t.removeNode(o.key)))}else if("separator"===n.type){let e=n.clone();e.nextKey=null,"section"===(null==l?void 0:l.type)&&(l.nextKey=e.key,e.prevKey=l.key,l=e,t.addNode(e))}else{let i=n.clone();C(i,e,this,t)&&(null==t.firstKey&&(t.firstKey=i.key),null!=l&&"section"!==l.type&&"separator"!==l.type&&l.parentKey===i.parentKey?(l.nextKey=i.key,i.prevKey=l.key):i.prevKey=null,i.nextKey=null,t.addNode(i),l=i)}if("separator"===(null==l?void 0:l.type)&&null===l.nextKey){let e;null!=l.prevKey&&(e=t.getItem(l.prevKey),e.nextKey=null),t.removeNode(l.key),l=e}return t.lastKey=(null==l?void 0:l.key)||null,t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}function C(e,t,l,n){if("subdialogtrigger"===e.type||"submenutrigger"===e.type){let i=[...l.getChildren(e.key)][0];if(i&&t(i.textValue)){let e=i.clone();return n.addNode(e),!0}return!1}return"header"===e.type||t(e.textValue)}class x{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return(null===(e=this.parentNode)||void 0===e?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),null==this.firstChild&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(null==t)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let l=t;for(;l;)l.index++,l=l.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class E extends x{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof E?this.parentNode.level+("item"===this.node.type?1:0):0}updateNode(){var e,t,l,n;let i=this.ownerDocument.getMutableNode(this);var o,r,s,u;if(i.index=this.index,i.level=this.level,i.parentKey=this.parentNode instanceof E?this.parentNode.node.key:null,i.prevKey=null!==(o=null===(e=this.previousSibling)||void 0===e?void 0:e.node.key)&&void 0!==o?o:null,i.nextKey=null!==(r=null===(t=this.nextSibling)||void 0===t?void 0:t.node.key)&&void 0!==r?r:null,i.hasChildNodes=!!this.firstChild,i.firstChildKey=null!==(s=null===(l=this.firstChild)||void 0===l?void 0:l.node.key)&&void 0!==s?s:null,i.lastChildKey=null!==(u=null===(n=this.lastChild)||void 0===n?void 0:n.node.key)&&void 0!==u?u:null,(null!=i.colSpan||null!=i.colIndex)&&this.nextSibling){var c,a;let e=(null!==(c=i.colIndex)&&void 0!==c?c:i.index)+(null!==(a=i.colSpan)&&void 0!==a?a:1);if(e!==this.nextSibling.node.colIndex){this.ownerDocument.getMutableNode(this.nextSibling).colIndex=e}}}setProps(e,t,l,n){let i=this.ownerDocument.getMutableNode(this),{value:o,textValue:r,id:s,...u}=e;if(u.ref=t,i.props=u,i.rendered=l,i.render=n,i.value=o,i.textValue=r||("string"==typeof u.children?u.children:"")||e["aria-label"]||"",null!=s&&s!==i.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");i.key=s}null!=u.colSpan&&(i.colSpan=u.colSpan),this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new w(e,"react-aria-"+ ++t.nodeId),this.ownerDocument.startTransaction()}}class D extends x{get isConnected(){return this.isMounted}createElement(e){return new E(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return this.isSSR||this.collectionMutated||(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let t of e)this.addNode(t)}this.markDirty(e)}removeNode(e){for(let t of e)this.removeNode(t);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0||this.updateCollection(),this.collection}updateCollection(){for(let i of this.dirtyNodes)i instanceof E&&i.isConnected&&i.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let i=this.getMutableCollection();for(let e of this.mutatedNodes)e.isConnected&&i.addNode(e.node);var l,n;this.mutatedNodes.clear(),i.commit(null!==(l=null===(e=this.firstChild)||void 0===e?void 0:e.node.key)&&void 0!==l?l:null,null!==(n=null===(t=this.lastChild)||void 0===t?void 0:t.node.key)&&void 0!==n?n:null,this.isSSR)}this.collectionMutated=!1}queueUpdate(){if(!(0===this.dirtyNodes.size||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function N(e){let{children:t,items:l,idScope:n,addIdAndValue:i,dependencies:o=[]}=e,s=(0,r.useMemo)((()=>new WeakMap),o);return(0,r.useMemo)((()=>{if(l&&"function"==typeof t){let u=[];for(let c of l){let l=s.get(c);if(!l){var e,o;l=t(c);let u=null!==(o=null!==(e=l.props.id)&&void 0!==e?e:c.key)&&void 0!==o?o:c.id;if(null==u)throw new Error("Could not determine key for item");n&&(u=n+":"+u),l=(0,r.cloneElement)(l,i?{key:u,id:u,value:c}:{key:u}),s.set(c,l)}u.push(l)}return u}if("function"!=typeof t)return t}),[t,l,s,n,i])}const M=500;function F(e){let{isDisabled:t,onLongPressStart:l,onLongPressEnd:n,onLongPress:i,threshold:c=M,accessibilityDescription:a}=e;const d=(0,r.useRef)(void 0);let{addGlobalListener:h,removeGlobalListener:y}=(0,o.g)(),{pressProps:v}=(0,u.$)({isDisabled:t,onPressStart(e){if(e.continuePropagation(),("mouse"===e.pointerType||"touch"===e.pointerType)&&(l&&l({...e,type:"longpressstart"}),d.current=setTimeout((()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),(0,o.d)(e.target).activeElement!==e.target&&(0,o.y)(e.target),i&&i({...e,type:"longpress"}),d.current=void 0}),c),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};h(e.target,"contextmenu",t,{once:!0}),h(window,"pointerup",(()=>{setTimeout((()=>{y(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd(e){d.current&&clearTimeout(d.current),!n||"mouse"!==e.pointerType&&"touch"!==e.pointerType||n({...e,type:"longpressend"})}}),g=function(e){let[t,l]=(0,r.useState)();return(0,s.k)((()=>{if(!e)return;let t=p.get(e);if(t)l(t.element.id);else{let n="react-aria-description-"+f++;l(n);let i=document.createElement("div");i.id=n,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},p.set(e,t)}return t.refCount++,()=>{t&&0==--t.refCount&&(t.element.remove(),p.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}(i&&!t?a:void 0);return{longPressProps:(0,s.d)(v,g)}}var P,T={exports:{}},I={};var A;var R=(A||(A=1,T.exports=function(){if(P)return I;P=1;var e=r,t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=e.useState,n=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(e){var l=e.getSnapshot;e=e.value;try{var n=l();return!t(e,n)}catch(i){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),u=l({inst:{value:r,getSnapshot:t}}),c=u[0].inst,a=u[1];return i((function(){c.value=r,c.getSnapshot=t,s(c)&&a({inst:c})}),[e,r,t]),n((function(){return s(c)&&a({inst:c}),e((function(){s(c)&&a({inst:c})}))}),[e]),o(r),r};return I.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u,I}()),T.exports);const L=(0,r.createContext)(!1),B=(0,r.createContext)(null);function _(e){if((0,r.useContext)(B))return e.content;let{collection:t,document:l}=function(e){let[t]=(0,r.useState)((()=>new D((null==e?void 0:e())||new k))),l=(0,r.useCallback)((e=>t.subscribe(e)),[t]),n=(0,r.useCallback)((()=>{let e=t.getCollection();return t.isSSR&&t.resetAfterSSR(),e}),[t]),i=(0,r.useCallback)((()=>(t.isSSR=!0,t.getCollection())),[t]),o=$(l,n,i);return(0,s.k)((()=>(t.isMounted=!0,()=>{t.isMounted=!1})),[t]),{collection:o,document:t}}(e.createCollection);return r.createElement(r.Fragment,null,r.createElement(n.a,null,r.createElement(B.Provider,{value:l},e.content)),r.createElement(z,{render:e.children,collection:t}))}function z({collection:e,render:t}){return t(e)}const $="function"==typeof r.useSyncExternalStore?r.useSyncExternalStore:function(e,t,l){let n=(0,s.n)(),i=(0,r.useRef)(n);i.current=n;let o=(0,r.useCallback)((()=>i.current?l():t()),[t,l]);return R.useSyncExternalStore(e,o)};const O=(0,r.createContext)(null);function V(e,t,l,n,i,o){let s=(0,r.useCallback)((e=>{null==e||e.setProps(t,l,n,o)}),[t,l,n,o]),u=(0,r.useContext)(O);if(u){let s=u.ownerDocument.nodesByProps.get(t);return s||(s=u.ownerDocument.createElement(e),s.setProps(t,l,n,o),u.appendChild(s),u.ownerDocument.updateCollection(),u.ownerDocument.nodesByProps.set(t,s)),i?r.createElement(O.Provider,{value:s},i):null}return r.createElement(e,{ref:s},i)}function U(e,t){let l=({node:e})=>t(e.props,e.props.ref,e),n=(0,r.forwardRef)(((n,i)=>{let s=(0,r.useContext)(o.I);if(!(0,r.useContext)(L)){if(t.length>=3)throw new Error(t.name+" cannot be rendered outside a collection.");return t(n,i)}return V(e,n,i,"children"in n?n.children:null,null,(e=>r.createElement(o.I.Provider,{value:s},r.createElement(l,{node:e}))))}));return n.displayName=t.name,n}function W(e,t,l=q){let n=({node:e})=>t(e.props,e.props.ref,e),i=(0,r.forwardRef)(((t,i)=>{let o=l(t);var s;return null!==(s=V(e,t,i,null,o,(e=>r.createElement(n,{node:e}))))&&void 0!==s?s:r.createElement(r.Fragment,null)}));return i.displayName=t.name,i}function q(e){return N({...e,addIdAndValue:!0})}const H=(0,r.createContext)(null);function j(e){let t=(0,r.useContext)(H),l=((null==t?void 0:t.dependencies)||[]).concat(e.dependencies),n=e.idScope||(null==t?void 0:t.idScope),i=q({...e,idScope:n,dependencies:l});return(0,r.useContext)(B)&&(i=r.createElement(G,null,i)),t=(0,r.useMemo)((()=>({dependencies:l,idScope:n})),[n,...l]),r.createElement(H.Provider,{value:t},i)}function G({children:e}){let t=(0,r.useContext)(B),l=(0,r.useMemo)((()=>r.createElement(B.Provider,{value:null},r.createElement(L.Provider,{value:!0},e))),[e]);return(0,s.n)()?r.createElement(O.Provider,{value:t},l):i.r.createPortal(l,t)}function J(e){let t=function(e){let t=(0,o.i)(e),l=null==t?void 0:t.getAttribute("aria-activedescendant");return l&&e.getElementById(l)||t}((0,o.d)(e));t!==e&&(t&&function(e,t){e.dispatchEvent(new FocusEvent("blur",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:t}))}(t,e),e&&X(e,t))}function X(e,t){e.dispatchEvent(new FocusEvent("focus",{relatedTarget:t})),e.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:t}))}function Y(e){return(0,o.J)()?e.altKey:e.ctrlKey}function Z(e,t){var l,n;let i=`[data-key="${CSS.escape(String(t))}"]`,o=null===(l=e.current)||void 0===l?void 0:l.dataset.collection;return o&&(i=`[data-collection="${CSS.escape(o)}"]${i}`),null===(n=e.current)||void 0===n?void 0:n.querySelector(i)}const Q=new WeakMap;const ee=1e3;function te(e){let{selectionManager:t,keyboardDelegate:l,ref:n,autoFocus:y=!1,shouldFocusWrap:f=!1,disallowEmptySelection:p=!1,disallowSelectAll:g=!1,selectOnFocus:w="replace"===t.selectionBehavior,disallowTypeAhead:k=!1,shouldUseVirtualFocus:C,allowsTabNavigation:x=!1,isVirtualized:E,scrollRef:D=n,linkBehavior:N="action"}=e,{direction:M}=(0,d.$)(),F=(0,u.b)(),P=(0,r.useRef)({top:0,left:0});(0,c.$)(D,"scroll",E?void 0:()=>{var e,t,l,n;P.current={top:null!==(l=null===(e=D.current)||void 0===e?void 0:e.scrollTop)&&void 0!==l?l:0,left:null!==(n=null===(t=D.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==n?n:0}});let T=(0,r.useRef)(!1);(0,c.$)(n,S,C?e=>{let{detail:l}=e;e.stopPropagation(),t.setFocused(!0),"first"===(null==l?void 0:l.focusStrategy)&&(T.current=!0)}:void 0);let I=(0,s.f)((()=>{var e,i;let o=null!==(i=null===(e=l.getFirstKey)||void 0===e?void 0:e.call(l))&&void 0!==i?i:null;null==o?(J(n.current),t.collection.size>0&&(T.current=!1)):(t.setFocusedKey(o),T.current=!1)}));h((()=>{T.current&&I()}),[t.collection,I]);let A=(0,s.f)((()=>{t.collection.size>0&&(T.current=!1)}));h((()=>{A()}),[t.focusedKey,A]),(0,c.$)(n,m,C?e=>{var l;e.stopPropagation(),t.setFocused(!1),(null===(l=e.detail)||void 0===l?void 0:l.clearFocusKey)&&t.setFocusedKey(null)}:void 0);const R=(0,r.useRef)(y),L=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(R.current){var e,i;let u=null;var r,s;"first"===y&&(u=null!==(r=null===(e=l.getFirstKey)||void 0===e?void 0:e.call(l))&&void 0!==r?r:null),"last"===y&&(u=null!==(s=null===(i=l.getLastKey)||void 0===i?void 0:i.call(l))&&void 0!==s?s:null);let c=t.selectedKeys;if(c.size)for(let e of c)if(t.canSelectItem(e)){u=e;break}t.setFocused(!0),t.setFocusedKey(u),null==u&&!C&&n.current&&(0,o.t)(n.current),t.collection.size>0&&(R.current=!1,L.current=!0)}}));let B=(0,r.useRef)(t.focusedKey);(0,r.useEffect)((()=>{if(t.isFocused&&null!=t.focusedKey&&(t.focusedKey!==B.current||L.current)&&D.current&&n.current){let e=(0,o.w)(),l=Z(n,t.focusedKey);if(!(l instanceof HTMLElement))return;("keyboard"===e||L.current)&&(v(D.current,l),"virtual"!==e&&K(l,{containingElement:n.current}))}!C&&t.isFocused&&null==t.focusedKey&&null!=B.current&&n.current&&(0,o.t)(n.current),B.current=t.focusedKey,L.current=!1})),(0,c.$)(n,"react-aria-focus-scope-restore",(e=>{e.preventDefault(),t.setFocused(!0)}));let _,z={onKeyDown:e=>{var r;if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!(null===(r=n.current)||void 0===r?void 0:r.contains(e.target)))return;const s=(l,o)=>{if(null!=l){if(t.isLink(l)&&"selection"===N&&w&&!Y(e)){i.r.flushSync((()=>{t.setFocusedKey(l,o)}));let r=Z(n,l),s=t.getItemProps(l);return void(r&&F.open(r,e,s.href,s.routerOptions))}if(t.setFocusedKey(l,o),t.isLink(l)&&"override"===N)return;e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(l):w&&!Y(e)&&t.replaceSelection(l)}};switch(e.key){case"ArrowDown":if(l.getKeyBelow){var u,c,d;let n=null!=t.focusedKey?null===(u=l.getKeyBelow)||void 0===u?void 0:u.call(l,t.focusedKey):null===(c=l.getFirstKey)||void 0===c?void 0:c.call(l);null==n&&f&&(n=null===(d=l.getFirstKey)||void 0===d?void 0:d.call(l,t.focusedKey)),null!=n&&(e.preventDefault(),s(n))}break;case"ArrowUp":if(l.getKeyAbove){var h,y,v;let n=null!=t.focusedKey?null===(h=l.getKeyAbove)||void 0===h?void 0:h.call(l,t.focusedKey):null===(y=l.getLastKey)||void 0===y?void 0:y.call(l);null==n&&f&&(n=null===(v=l.getLastKey)||void 0===v?void 0:v.call(l,t.focusedKey)),null!=n&&(e.preventDefault(),s(n))}break;case"ArrowLeft":if(l.getKeyLeftOf){var K,m,S;let n=null!=t.focusedKey?null===(K=l.getKeyLeftOf)||void 0===K?void 0:K.call(l,t.focusedKey):null;null==n&&f&&(n="rtl"===M?null===(m=l.getFirstKey)||void 0===m?void 0:m.call(l,t.focusedKey):null===(S=l.getLastKey)||void 0===S?void 0:S.call(l,t.focusedKey)),null!=n&&(e.preventDefault(),s(n,"rtl"===M?"first":"last"))}break;case"ArrowRight":if(l.getKeyRightOf){var k,C,E;let n=null!=t.focusedKey?null===(k=l.getKeyRightOf)||void 0===k?void 0:k.call(l,t.focusedKey):null;null==n&&f&&(n="rtl"===M?null===(C=l.getLastKey)||void 0===C?void 0:C.call(l,t.focusedKey):null===(E=l.getFirstKey)||void 0===E?void 0:E.call(l,t.focusedKey)),null!=n&&(e.preventDefault(),s(n,"rtl"===M?"last":"first"))}break;case"Home":if(l.getFirstKey){if(null===t.focusedKey&&e.shiftKey)return;e.preventDefault();let n=l.getFirstKey(t.focusedKey,b(e));t.setFocusedKey(n),null!=n&&(b(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):w&&t.replaceSelection(n))}break;case"End":if(l.getLastKey){if(null===t.focusedKey&&e.shiftKey)return;e.preventDefault();let n=l.getLastKey(t.focusedKey,b(e));t.setFocusedKey(n),null!=n&&(b(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(n):w&&t.replaceSelection(n))}break;case"PageDown":if(l.getKeyPageBelow&&null!=t.focusedKey){let n=l.getKeyPageBelow(t.focusedKey);null!=n&&(e.preventDefault(),s(n))}break;case"PageUp":if(l.getKeyPageAbove&&null!=t.focusedKey){let n=l.getKeyPageAbove(t.focusedKey);null!=n&&(e.preventDefault(),s(n))}break;case"a":b(e)&&"multiple"===t.selectionMode&&!0!==g&&(e.preventDefault(),t.selectAll());break;case"Escape":p||0===t.selectedKeys.size||(e.stopPropagation(),e.preventDefault(),t.clearSelection());break;case"Tab":if(!x){if(e.shiftKey)n.current.focus();else{let e,t,l=(0,a.a)(n.current,{tabbable:!0});do{t=l.lastChild(),t&&(e=t)}while(t);e&&!e.contains(document.activeElement)&&(0,o.y)(e)}break}}},onFocus:e=>{if(t.isFocused)e.currentTarget.contains(e.target)||t.setFocused(!1);else if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){var i,r;let n=e=>{null!=e&&(t.setFocusedKey(e),w&&!t.isSelected(e)&&t.replaceSelection(e))},o=e.relatedTarget;var s,u;o&&e.currentTarget.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?n(null!==(s=t.lastSelectedKey)&&void 0!==s?s:null===(i=l.getLastKey)||void 0===i?void 0:i.call(l)):n(null!==(u=t.firstSelectedKey)&&void 0!==u?u:null===(r=l.getFirstKey)||void 0===r?void 0:r.call(l))}else!E&&D.current&&(D.current.scrollTop=P.current.top,D.current.scrollLeft=P.current.left);if(null!=t.focusedKey&&D.current){let e=Z(n,t.focusedKey);if(e instanceof HTMLElement){e.contains(document.activeElement)||C||(0,o.y)(e),"keyboard"===(0,o.w)()&&K(e,{containingElement:n.current})}}}},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},onMouseDown(e){D.current===e.target&&e.preventDefault()}},{typeSelectProps:$}=function(e){let{keyboardDelegate:t,selectionManager:l,onTypeSelect:n}=e,i=(0,r.useRef)({search:"",timeout:void 0}).current;return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?e=>{let o=1!==(r=e.key).length&&/^[A-Z]/i.test(r)?"":r;var r;if(o&&!e.ctrlKey&&!e.metaKey&&e.currentTarget.contains(e.target)){if(" "===o&&i.search.trim().length>0&&(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),i.search+=o,null!=t.getKeyForSearch){let e=t.getKeyForSearch(i.search,l.focusedKey);null==e&&(e=t.getKeyForSearch(i.search)),null!=e&&(l.setFocusedKey(e),n&&n(e))}clearTimeout(i.timeout),i.timeout=setTimeout((()=>{i.search=""}),ee)}}:void 0}}}({keyboardDelegate:l,selectionManager:t});k||(z=(0,s.d)($,z)),C||(_=null==t.focusedKey?0:-1);let O=function(e){let t=(0,s.e)();return Q.set(e,t),t}(t.collection);return{collectionProps:(0,s.d)(z,{tabIndex:_,"data-collection":O})}}function le(e){let{id:t,selectionManager:l,key:n,ref:i,shouldSelectOnPressUp:c,shouldUseVirtualFocus:a,focus:d,isDisabled:h,onAction:y,allowsDifferentPressOrigin:f,linkBehavior:p="action"}=e,v=(0,u.b)();t=(0,s.e)(t);let g=e=>{if("keyboard"===e.pointerType&&Y(e))l.toggleSelection(n);else{if("none"===l.selectionMode)return;if(l.isLink(n)){if("selection"===p&&i.current){let t=l.getItemProps(n);return v.open(i.current,e,t.href,t.routerOptions),void l.setSelectedKeys(l.selectedKeys)}if("override"===p||"none"===p)return}"single"===l.selectionMode?l.isSelected(n)&&!l.disallowEmptySelection?l.toggleSelection(n):l.replaceSelection(n):e&&e.shiftKey?l.extendSelection(n):"toggle"===l.selectionBehavior||e&&(b(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?l.toggleSelection(n):l.replaceSelection(n)}};(0,r.useEffect)((()=>{n===l.focusedKey&&l.isFocused&&(a?J(i.current):d?d():document.activeElement!==i.current&&i.current&&(0,o.t)(i.current))}),[i,n,l.focusedKey,l.childFocusStrategy,l.isFocused,a]),h=h||l.isDisabled(n);let K={};a||h?h&&(K.onMouseDown=e=>{e.preventDefault()}):K={tabIndex:n===l.focusedKey?0:-1,onFocus(e){e.target===i.current&&l.setFocusedKey(n)}};let m=l.isLink(n)&&"override"===p,S=l.isLink(n)&&"selection"!==p&&"none"!==p,w=!h&&l.canSelectItem(n)&&!m,k=(y||S)&&!h,C=k&&("replace"===l.selectionBehavior?!w:!w||l.isEmpty),x=k&&w&&"replace"===l.selectionBehavior,E=C||x,D=(0,r.useRef)(null),N=E&&w,M=(0,r.useRef)(!1),P=(0,r.useRef)(!1),T=e=>{if(y&&y(),S&&i.current){let t=l.getItemProps(n);v.open(i.current,e,t.href,t.routerOptions)}},I={};var A;c?(I.onPressStart=e=>{D.current=e.pointerType,M.current=N,"keyboard"!==e.pointerType||E&&!ie()||g(e)},f?(I.onPressUp=C?void 0:e=>{"mouse"===e.pointerType&&w&&g(e)},I.onPress=C?T:e=>{"keyboard"!==e.pointerType&&"mouse"!==e.pointerType&&w&&g(e)}):I.onPress=e=>{if(C||x&&"mouse"!==e.pointerType){if("keyboard"===e.pointerType&&!ne())return;T(e)}else"keyboard"!==e.pointerType&&w&&g(e)}):(I.onPressStart=e=>{D.current=e.pointerType,M.current=N,P.current=C,w&&("mouse"===e.pointerType&&!C||"keyboard"===e.pointerType&&(!k||ie()))&&g(e)},I.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&E&&ne()||"mouse"===e.pointerType&&P.current)&&(E?T(e):w&&g(e))}),K["data-collection"]=(A=l.collection,Q.get(A)),K["data-key"]=n,I.preventFocusOnPress=a,a&&(I=(0,s.d)(I,{onPressStart(e){"touch"!==e.pointerType&&(l.setFocused(!0),l.setFocusedKey(n))},onPress(e){"touch"===e.pointerType&&(l.setFocused(!0),l.setFocusedKey(n))}}));let{pressProps:R,isPressed:L}=(0,u.$)(I),B=x?e=>{"mouse"===D.current&&(e.stopPropagation(),e.preventDefault(),T(e))}:void 0,{longPressProps:_}=F({isDisabled:!N,onLongPress(e){"touch"===e.pointerType&&(g(e),l.setSelectionBehavior("toggle"))}}),z=l.isLink(n)?e=>{u.c.isOpening||e.preventDefault()}:void 0;return{itemProps:(0,s.d)(K,w||C||a?R:{},N?_:{},{onDoubleClick:B,onDragStartCapture:e=>{"touch"===D.current&&M.current&&e.preventDefault()},onClick:z,id:t},a?{onMouseDown:e=>e.preventDefault()}:void 0),isPressed:L,isSelected:l.isSelected(n),isFocused:l.isFocused&&l.focusedKey===n,isDisabled:h,allowsSelection:w,hasAction:E}}function ne(){let e=window.event;return"Enter"===(null==e?void 0:e.key)}function ie(){let e=window.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}class oe{build(e,t){return this.context=t,re((()=>this.iterateCollection(e)))}*iterateCollection(e){let{children:t,items:l}=e;if(r.isValidElement(t)&&t.type===r.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if("function"==typeof t){if(!l)throw new Error("props.children was a function but props.items is missing");let e=0;for(let n of l)yield*this.getFullNode({value:n,index:e},{renderer:t}),e++}else{let e=[];r.Children.forEach(t,(t=>{t&&e.push(t)}));let l=0;for(let t of e){let e=this.getFullNode({element:t,index:l},{});for(let t of e)l++,yield t}}}getKey(e,t,l,n){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return`${n}${t.key}`;let i=t.value;if(null!=i){var o;let e=null!==(o=i.key)&&void 0!==o?o:i.id;if(null==e)throw new Error("No key found for item");return e}return n?`${n}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,n){if(r.isValidElement(e.element)&&e.element.type===r.Fragment){let o=[];var i;r.Children.forEach(e.element.props.children,(e=>{o.push(e)}));let s=null!==(i=e.index)&&void 0!==i?i:0;for(const e of o)yield*this.getFullNode({element:e,index:s++},t,l,n);return}let o=e.element;if(!o&&e.value&&t&&t.renderer){let l=this.cache.get(e.value);if(l&&(!l.shouldInvalidate||!l.shouldInvalidate(this.context)))return l.index=e.index,l.parentKey=n?n.key:null,void(yield l);o=t.renderer(e.value)}if(r.isValidElement(o)){let i=o.type;if("function"!=typeof i&&"function"!=typeof i.getCollectionNode){let e=o.type;throw new Error(`Unknown element <${e}> in collection.`)}let r=i.getCollectionNode(o.props,this.context);var s;let h=null!==(s=e.index)&&void 0!==s?s:0,y=r.next();for(;!y.done&&y.value;){let i=y.value;var u;e.index=h;let s=null!==(u=i.key)&&void 0!==u?u:null;null==s&&(s=i.element?null:this.getKey(o,e,t,l));let f=[...this.getFullNode({...i,key:s,index:h,wrapper:se(e.wrapper,i.wrapper)},this.getChildState(t,i),l?`${l}${o.key}`:o.key,n)];for(let t of f){var c,a,d;if(t.value=null!==(a=null!==(c=i.value)&&void 0!==c?c:e.value)&&void 0!==a?a:null,t.value&&this.cache.set(t.value,t),e.type&&t.type!==e.type)throw new Error(`Unsupported type <${ue(t.type)}> in <${ue(null!==(d=null==n?void 0:n.type)&&void 0!==d?d:"unknown parent type")}>. Only <${ue(e.type)}> is supported.`);h++,yield t}y=r.next(f)}return}if(null==e.key||null==e.type)return;let h=this;var y,f;let p={type:e.type,props:e.props,key:e.key,parentKey:n?n.key:null,value:null!==(y=e.value)&&void 0!==y?y:null,level:n?n.level+1:0,index:e.index,rendered:e.rendered,textValue:null!==(f=e.textValue)&&void 0!==f?f:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:re((function*(){if(!e.hasChildNodes||!e.childNodes)return;let l=0;for(let n of e.childNodes()){null!=n.key&&(n.key=`${p.key}${n.key}`);let e=h.getFullNode({...n,index:l},h.getChildState(t,n),p.key,p);for(let t of e)l++,yield t}}))};yield p}constructor(){this.cache=new WeakMap}}function re(e){let t=[],l=null;return{*[Symbol.iterator](){for(let e of t)yield e;l||(l=e());for(let e of l)t.push(e),yield e}}}function se(e,t){return e&&t?l=>e(t(l)):e||(t||void 0)}function ue(e){return e[0].toUpperCase()+e.slice(1)}function ce(e,t,l){let n=(0,r.useMemo)((()=>new oe),[]),{children:i,items:o,collection:s}=e;return(0,r.useMemo)((()=>{if(s)return s;let e=n.build({children:i,items:o},l);return t(e)}),[n,i,o,s,l,t])}function ae(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function de(e,t,l){if(t.parentKey===l.parentKey)return t.index-l.index;let n=[...he(e,t),t],i=[...he(e,l),l],o=n.slice(0,i.length).findIndex(((e,t)=>e!==i[t]));return-1!==o?(t=n[o],l=i[o],t.index-l.index):n.findIndex((e=>e===l))>=0?1:(i.findIndex((e=>e===t)),-1)}function he(e,t){let l=[],n=t;for(;null!=(null==n?void 0:n.parentKey);)n=e.getItem(n.parentKey),n&&l.unshift(n);return l}class ye extends Set{constructor(e,t,l){super(e),e instanceof ye?(this.anchorKey=null!=t?t:e.anchorKey,this.currentKey=null!=l?l:e.currentKey):(this.anchorKey=null!=t?t:null,this.currentKey=null!=l?l:null)}}function fe(e){let{selectionMode:t="none",disallowEmptySelection:l=!1,allowDuplicateSelectionEvents:n,selectionBehavior:i="toggle",disabledBehavior:s="all"}=e,u=(0,r.useRef)(!1),[,c]=(0,r.useState)(!1),a=(0,r.useRef)(null),d=(0,r.useRef)(null),[,h]=(0,r.useState)(null),y=(0,r.useMemo)((()=>pe(e.selectedKeys)),[e.selectedKeys]),f=(0,r.useMemo)((()=>pe(e.defaultSelectedKeys,new ye)),[e.defaultSelectedKeys]),[p,v]=(0,o.b)(y,f,e.onSelectionChange),g=(0,r.useMemo)((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),[K,m]=(0,r.useState)(i);"replace"===i&&"toggle"===K&&"object"==typeof p&&0===p.size&&m("replace");let S=(0,r.useRef)(i);return(0,r.useEffect)((()=>{i!==S.current&&(m(i),S.current=i)}),[i]),{selectionMode:t,disallowEmptySelection:l,selectionBehavior:K,setSelectionBehavior:m,get isFocused(){return u.current},setFocused(e){u.current=e,c(e)},get focusedKey(){return a.current},get childFocusStrategy(){return d.current},setFocusedKey(e,t="first"){a.current=e,d.current=t,h(e)},selectedKeys:p,setSelectedKeys(e){!n&&function(e,t){if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;return!0}(e,p)||v(e)},disabledKeys:g,disabledBehavior:s}}function pe(e,t){return e?"all"===e?"all":new ye(e):t}class ve{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(null==e||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if("none"===this.state.selectionMode)return!1;let t=this.getKey(e);return null!=t&&("all"===this.state.selectedKeys?this.canSelectItem(t):this.state.selectedKeys.has(t))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null!=this._isSelectAll)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every((e=>t.has(e))),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let t=this.collection.getItem(l);(!e||t&&de(this.collection,t,e)<0)&&(e=t)}var t;return null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let t=this.collection.getItem(l);(!e||t&&de(this.collection,t,e)>0)&&(e=t)}var t;return null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode)return void this.replaceSelection(e);let t,l=this.getKey(e);if(null!=l){if("all"===this.state.selectedKeys)t=new ye([l],l,l);else{let e=this.state.selectedKeys;var n;let o=null!==(n=e.anchorKey)&&void 0!==n?n:l;var i;t=new ye(e,o,l);for(let n of this.getKeyRange(o,null!==(i=e.currentKey)&&void 0!==i?i:l))t.delete(n);for(let n of this.getKeyRange(l,o))this.canSelectItem(n)&&t.add(n)}this.state.setSelectedKeys(t)}}getKeyRange(e,t){let l=this.collection.getItem(e),n=this.collection.getItem(t);return l&&n?de(this.collection,l,n)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(null===(l=this.layoutDelegate)||void 0===l?void 0:l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let n=[],i=e;for(;null!=i;){let e=this.collection.getItem(i);if(e&&("item"===e.type||"cell"===e.type&&this.allowsCellSelection)&&n.push(i),i===t)return n;i=this.collection.getKeyAfter(i)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;t&&"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){if("none"===this.selectionMode)return;if("single"===this.selectionMode&&!this.isSelected(e))return void this.replaceSelection(e);let t=this.getKey(e);if(null==t)return;let l=new ye("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),this.disallowEmptySelection&&0===l.size||this.state.setSelectedKeys(l)}replaceSelection(e){if("none"===this.selectionMode)return;let t=this.getKey(e);if(null==t)return;let l=this.canSelectItem(t)?new ye([t],t,t):new ye;this.state.setSelectedKeys(l)}setSelectedKeys(e){if("none"===this.selectionMode)return;let t=new ye;for(let l of e){let e=this.getKey(l);if(null!=e&&(t.add(e),"single"===this.selectionMode))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;null!=l;){if(this.canSelectItem(l)){var n;let o=this.collection.getItem(l);var i;"item"===(null==o?void 0:o.type)&&e.push(l),(null==o?void 0:o.hasChildNodes)&&(this.allowsCellSelection||"item"!==o.type)&&t(null!==(i=null===(n=function(e){for(let t of e)return t}(ae(o,this.collection)))||void 0===n?void 0:n.key)&&void 0!==i?i:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new ye)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if("none"===this.state.selectionMode||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||(null==l||null===(t=l.props)||void 0===t?void 0:t.isDisabled)||"cell"===l.type&&!this.allowsCellSelection)}isDisabled(e){var t,l;return"all"===this.state.disabledBehavior&&(this.state.disabledKeys.has(e)||!!(null===(l=this.collection.getItem(e))||void 0===l||null===(t=l.props)||void 0===t?void 0:t.isDisabled))}isLink(e){var t,l;return!!(null===(l=this.collection.getItem(e))||void 0===l||null===(t=l.props)||void 0===t?void 0:t.href)}getItemProps(e){var t;return null===(t=this.collection.getItem(e))||void 0===t?void 0:t.props}withCollection(e){return new ve(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){var n;this.collection=e,this.state=t,this.allowsCellSelection=null!==(n=null==l?void 0:l.allowsCellSelection)&&void 0!==n&&n,this._isSelectAll=null,this.layoutDelegate=(null==l?void 0:l.layoutDelegate)||null}}const ge=(0,r.createContext)(null),Ke={CollectionRoot:({collection:e,renderDropIndicator:t})=>me(e,null,t),CollectionBranch:({collection:e,parent:t,renderDropIndicator:l})=>me(e,t,l)};function me(e,t,l){return N({items:t?e.getChildren(t.key):e,dependencies:[l],children(t){var n;let i=t.render(t);if(!l||"item"!==t.type)return i;let o=t.key,s=e.getKeyAfter(o);return r.createElement(r.Fragment,null,l({type:"item",key:o,dropPosition:"before"}),i,(null==s||"item"!==(null===(n=e.getItem(s))||void 0===n?void 0:n.type))&&l({type:"item",key:o,dropPosition:"after"}))}})}const Se=(0,r.createContext)(Ke);function be(e){return(0,r.useMemo)((()=>null!=e?new Set([e]):null),[e])}},14644:(e,t,l)=>{l.d(t,{$:()=>o});var n=l(44640),i=l(96540);function o(e,t,l,o){let r=(0,n.f)(l),s=null==l;(0,i.useEffect)((()=>{if(s||!e.current)return;let l=e.current;return l.addEventListener(t,r,o),()=>{l.removeEventListener(t,r,o)}}),[e,t,o,s,r])}}}]);