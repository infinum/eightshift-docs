"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[57167],{74551:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var n=s(74848),o=s(28453);const r={id:"how-to-use",title:"How to use?"},i=void 0,a={id:"javascript/events/how-to-use",title:"How to use?",description:"esFormsAfterCaptchaInit",source:"@site/forms/javascript/events/how-to-use.md",sourceDirName:"javascript/events",slug:"/javascript/events/how-to-use",permalink:"/forms/javascript/events/how-to-use",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"how-to-use",title:"How to use?"},sidebar:"forms",previous:{title:"Available events",permalink:"/forms/javascript/events/available-events"},next:{title:"How to use?",permalink:"/forms/javascript/state/how-to-use"}},c={},d=[{value:"esFormsAfterCaptchaInit",id:"esformsaftercaptchainit",level:3},{value:"esFormsJsFormLoaded",id:"esformsjsformloaded",level:3},{value:"esFormsAfterFormSubmitReset",id:"esformsafterformsubmitreset",level:3}];function l(e){const t={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h3,{id:"esformsaftercaptchainit",children:"esFormsAfterCaptchaInit"}),"\n",(0,n.jsxs)(t.p,{children:["In this example the event is hooked to the ",(0,n.jsx)(t.code,{children:"window"})," object and in event details you have:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"esForms"})," - object."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"formId"})," - not available because this is a global event."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"additional"})," - object from the API response."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"window.addEventListener('esFormsAfterCaptchaInit', ({detail}) => {\n\tconst {\n\t\tadditional: {\n\t\t\tstatus,\n\t\t},\n\t} = detail;\n\n\tif (status === 'success') {\n\t\tconst score = data?.response?.score?.toString();\n\n\t\tif (score) {\n\t\t\t// Do some actions with the score.\n\n\t\t\twindow.dataLayer.push({\n\t\t\t\tevent: 'recaptcha',\n\t\t\t\trecaptchaScore: score,\n\t\t\t});\n\t\t}\n\t}\n});\n"})}),"\n",(0,n.jsx)(t.h3,{id:"esformsjsformloaded",children:"esFormsJsFormLoaded"}),"\n",(0,n.jsxs)(t.p,{children:["In this example the event is hooked to the ",(0,n.jsx)(t.code,{children:"form"})," element and in event details you have:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"esForms"})," - object."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"formId"})," - form Id this event is a part of."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"import domReady from '@wordpress/dom-ready';\n\ndomReady(() => {\n\tconst element = document.querySelector('.js-es-block-form');\n\n\tif (!element) {\n\t\treturn;\n\t}\n\n\telement?.addEventListener('esFormsJsFormLoaded', ({detail}) => {\n\t\tconst {\n\t\t\tformId,\n\t\t\tesForms,\n\t\t} = detail;\n\n\t\t// Do some actions with the form.\n\t});\n});\n"})}),"\n",(0,n.jsx)(t.h3,{id:"esformsafterformsubmitreset",children:"esFormsAfterFormSubmitReset"}),"\n",(0,n.jsxs)(t.p,{children:["In this example the event is hooked to the ",(0,n.jsx)(t.code,{children:"form"})," element and in event details you have:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"esForms"})," - object."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"formId"})," - form Id this event is a part of."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"additional"})," - object from the API response."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"const { store } = window.esForms.store;\n\n[...document.querySelectorAll(store.getStateSelector('form'))].forEach((form) => {\n\tform.addEventListener('esFormsAfterFormSubmitReset', ({detail}) => {\n\t\tconst {\n\t\t\tformId,\n\t\t\tesForms,\n\t\t\tadditional\n\t\t} = detail;\n\t\t// Do some actions with the form.\n\t});\n});\n"})})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>a});var n=s(96540);const o={},r=n.createContext(o);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);