"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[2107],{79585:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>f,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=e(74848),i=e(28453);const r={id:"tracking-additional-data",title:"Tracking additional data"},o=void 0,s={id:"php/filters/block/form/tracking-additional-data",title:"Tracking additional data",description:"This filter allows you to set additional data that is going to be sent in the dataLayer on certain events. This filter works great in combination with the Tracking event name filter.",source:"@site/forms/php/filters/block/form/tracking-additional-data.md",sourceDirName:"php/filters/block/form",slug:"/php/filters/block/form/tracking-additional-data",permalink:"/forms/php/filters/block/form/tracking-additional-data",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"tracking-additional-data",title:"Tracking additional data"},sidebar:"forms",previous:{title:"Tracking event name",permalink:"/forms/php/filters/block/form/tracking-event-name"},next:{title:"Data type selector",permalink:"/forms/php/filters/block/form/data-type-selector"}},l={},d=[];function c(t){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This filter allows you to set additional data that is going to be sent in the dataLayer on certain events. This filter works great in combination with the ",(0,a.jsx)(n.a,{href:"/forms/php/filters/block/form/tracking-event-name",children:"Tracking event name"})," filter."]}),"\n",(0,a.jsx)(n.p,{children:"You can add as many key/value pairs as you want. The data is sent as an array of arrays. The first value is the key and the second value is the value."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"We support three different keys:"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"general - this data is sent on all events."}),"\n",(0,a.jsx)(n.li,{children:"success - this data is sent only on success event."}),"\n",(0,a.jsx)(n.li,{children:"error - this data is sent only on error event."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"\\add_filter('es_forms_block_form_tracking_additional_data', [$this, 'getBlockFormTrackingAdditionalData'], 10, 2);\n\n/**\n * Set tracking additional data and that data will be send to the GTM along with all field values and event name.\n *\n * This filter will override settings for tracking additional data.\n *\n * @param string $formType Type of form used like greenhouse, hubspot, etc.\n * @param string $formId Form ID.\n *\n * @return array<int, array<int, string>>\n */\npublic function getBlockFormTrackingAdditionalData(string $formType, string $formId): array\n{\n\treturn [\n\t\t'general' => [\n\t\t\t[\n\t\t\t\t'customKey',\n\t\t\t\t'customValue',\n\t\t\t],\n\t\t\t[\n\t\t\t\t'additionalKey',\n\t\t\t\t'additionalValue',\n\t\t\t],\n\t\t],\n\t\t'success' => [\n\t\t\t[\n\t\t\t\t'successKey',\n\t\t\t\t'successValue',\n\t\t\t],\n\t\t\t[\n\t\t\t\t'successAdditionalKey',\n\t\t\t\t'successAdditionalValue',\n\t\t\t],\n\t\t],\n\t\t'error' => [\n\t\t\t[\n\t\t\t\t'errorKey',\n\t\t\t\t'errorValue',\n\t\t\t],\n\t\t\t[\n\t\t\t\t'errorAdditionalKey',\n\t\t\t\t'errorAdditionalValue',\n\t\t\t],\n\t\t],\n\t];\n}\n"})})]})}function f(t={}){const{wrapper:n}={...(0,i.R)(),...t.components};return n?(0,a.jsx)(n,{...t,children:(0,a.jsx)(c,{...t})}):c(t)}},28453:(t,n,e)=>{e.d(n,{R:()=>o,x:()=>s});var a=e(96540);const i={},r=a.createContext(i);function o(t){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function s(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(i):t.components||i:o(t.components),a.createElement(r.Provider,{value:n},t.children)}}}]);