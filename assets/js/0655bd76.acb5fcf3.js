"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[3894],{96076:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return a},default:function(){return k},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return p}});var o=n(87462),r=n(63366),s=(n(67294),n(3905)),l=["components"],i={id:"blocks-structure-block-item",title:"Block Structure Item"},a=void 0,c={unversionedId:"legacy/v4/guides/blocks-structure-block-item",id:"legacy/v4/guides/blocks-structure-block-item",title:"Block Structure Item",description:"docs-source",source:"@site/docs/legacy/v4/guides/blocks-structure-block-item.md",sourceDirName:"legacy/v4/guides",slug:"/legacy/v4/guides/blocks-structure-block-item",permalink:"/docs/legacy/v4/guides/blocks-structure-block-item",draft:!1,tags:[],version:"current",frontMatter:{id:"blocks-structure-block-item",title:"Block Structure Item"},sidebar:"docs",previous:{title:"Blocks Structure",permalink:"/docs/legacy/v4/guides/blocks-structure"},next:{title:"Component Structure",permalink:"/docs/legacy/v4/guides/blocks-structure-component"}},u={},p=[{value:"components",id:"components",level:3},{value:"block-name-block.js",id:"block-name-blockjs",level:3},{value:"block-name.php",id:"block-namephp",level:3},{value:"block-name-editor.scss",id:"block-name-editorscss",level:3},{value:"block-name-style.scss",id:"block-name-stylescss",level:3},{value:"manifest.json",id:"manifestjson",level:3}],d={toc:p};function k(e){var t=e.components,n=(0,r.Z)(e,l);return(0,s.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/infinum/eightshift-frontend-libs/tree/v2.0.0/blocks/init/src/blocks/custom/example"},(0,s.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/source-eigthshift--frontend--libs-yellow?style=for-the-badge&logo=javascript&labelColor=2a2a2a",alt:"docs-source"}))),(0,s.kt)("p",null,"For the library to work and register blocks dynamically, a specific folder structure and naming must be followed. Individual blocks are placed in the ",(0,s.kt)("inlineCode",{parentName:"p"},"custom")," folder."),(0,s.kt)("p",null,"Your custom block structure should look like this:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell"},"|____block-name\n| |____components\n| | |____block-name-editor.js\n| | |____block-name-options.js\n| | |____block-name-toolbar.js\n| |____block-name-block.js\n| |____block-name.php\n| |____block-name-editor.scss\n| |____block-name-style.scss\n| |____manifest.json\n")),(0,s.kt)("p",null,"For example, you can check ",(0,s.kt)("a",{parentName:"p",href:"/storybook"},"storybook"),"."),(0,s.kt)("h3",{id:"components"},"components"),(0,s.kt)("p",null,"Components folder holds three files ",(0,s.kt)("inlineCode",{parentName:"p"},"block-name-options.js"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"block-name-editor.js")," and ",(0,s.kt)("inlineCode",{parentName:"p"},"block-name-toolbars.js"),". Each of these files represents a part of the Block Editor block that is used in the editor. We have separated options, editor and toolbar in separate components for the sake of readability and reusing components in different projects."),(0,s.kt)("h3",{id:"block-name-blockjs"},"block-name-block.js"),(0,s.kt)("p",null,"This file represents the ",(0,s.kt)("inlineCode",{parentName:"p"},"edit")," callback method used in WordPress ",(0,s.kt)("inlineCode",{parentName:"p"},"registerBlockType")," method.\nWe are not using the ",(0,s.kt)("inlineCode",{parentName:"p"},"save")," callback component because this library is used to create dynamic blocks. The ",(0,s.kt)("inlineCode",{parentName:"p"},"edit")," method describes how your block will be rendered in the editor once the block is used."),(0,s.kt)("h3",{id:"block-namephp"},"block-name.php"),(0,s.kt)("p",null,"This file will pass the properties you've set in the ",(0,s.kt)("inlineCode",{parentName:"p"},"block-name.js")," and use the ",(0,s.kt)("inlineCode",{parentName:"p"},"render_block_view()")," method from the ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/infinum/eightshift-libs/tree/v2.0.0/src/blocks/class-blocks.php#L295"},"eightshift libs"),". It is used to provide front-end layout for your block."),(0,s.kt)("h3",{id:"block-name-editorscss"},"block-name-editor.scss"),(0,s.kt)("p",null,"Holds only the editor styling for the block. You should be using this file to override styles in the editor set by the component. In 90% of cases, you will not need to write any overrides here. But if you are using any columns layout like a grid, flex, etc., you may need to add some corrections."),(0,s.kt)("p",null,"Corrections in the columns layout are necessary because Block Editor editor adds its additional HTML and you can't change it.\n",(0,s.kt)("em",{parentName:"p"},"This file is optional"),"."),(0,s.kt)("h3",{id:"block-name-stylescss"},"block-name-style.scss"),(0,s.kt)("p",null,"Holds all the front-end and editor styling for the component. Like the above file, in most cases, it can be avoided.\n",(0,s.kt)("em",{parentName:"p"},"This file is optional"),"."),(0,s.kt)("h3",{id:"manifestjson"},"manifest.json"),(0,s.kt)("p",null,"This file contains all the configuration required for a block to work. It's used in WordPress ",(0,s.kt)("a",{parentName:"p",href:"https://developer.wordpress.org/block-editor/developers/block-api/block-registration/"},(0,s.kt)("inlineCode",{parentName:"a"},"registerBlockType"))," method to register a block."),(0,s.kt)("p",null,"It looks like this:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "blockName": "button",\n  "title": "Button",\n  "description" : "Button block with custom settings.",\n  "category": "eightshift",\n  "icon": {\n    "src": "editor-removeformatting"\n  },\n  "keywords": [\n    "button",\n    "btn",\n    "link"\n  ],\n  "attributes": {\n    "title": {\n      "type": "string"\n    }\n  }\n}\n')),(0,s.kt)("p",null,"For manifest.json details please check this ",(0,s.kt)("a",{parentName:"p",href:"/docs/legacy/v4/guides/blocks-structure-manifest"},"link"),"."))}k.isMDXComponent=!0},3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return k}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a=o.createContext({}),c=function(e){var t=o.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(a.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,a=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),k=r,m=d["".concat(a,".").concat(k)]||d[k]||p[k]||s;return n?o.createElement(m,l(l({ref:t},u),{},{components:n})):o.createElement(m,l({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,l=new Array(s);l[0]=d;var i={};for(var a in t)hasOwnProperty.call(t,a)&&(i[a]=t[a]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<s;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);