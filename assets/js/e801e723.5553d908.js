"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[394],{31355:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),i=["components"],l={title:"Block Patterns",description:"Intro to block patterns and examples how to use them",slug:"block-patterns",authors:"obradovic",date:new Date("2023-03-01T00:00:00.000Z"),tags:["eightshift","boilerplate","block","patterns"],hide_table_of_contents:!1},s=void 0,c={permalink:"/blog/block-patterns",source:"@site/blog/2022-12-22-block-patterns.md",title:"Block Patterns",description:"Intro to block patterns and examples how to use them",date:"2023-03-01T00:00:00.000Z",formattedDate:"March 1, 2023",tags:[{label:"eightshift",permalink:"/blog/tags/eightshift"},{label:"boilerplate",permalink:"/blog/tags/boilerplate"},{label:"block",permalink:"/blog/tags/block"},{label:"patterns",permalink:"/blog/tags/patterns"}],readingTime:3.96,hasTruncateMarker:!0,authors:[{name:"Igor Obradovi\u0107",title:"WordPress Engineer",url:"https://github.com/iobrado",imageURL:"https://avatars.githubusercontent.com/u/23059501?v=4",key:"obradovic"}],frontMatter:{title:"Block Patterns",description:"Intro to block patterns and examples how to use them",slug:"block-patterns",authors:"obradovic",date:"2023-03-01T00:00:00.000Z",tags:["eightshift","boilerplate","block","patterns"],hide_table_of_contents:!1},prevItem:{title:"Using multiple same components",permalink:"/blog/multiple-same-components"},nextItem:{title:"Using Custom Post Types and Taxonomies",permalink:"/blog/using-cpts-and-taxonomies"}},p={authorsImageUrls:[void 0]},u=[{value:"What are Block Patterns and why use them?",id:"what-are-block-patterns-and-why-use-them",level:2},{value:"Technical differences",id:"technical-differences",level:2},{value:"Registering Block Patterns",id:"registering-block-patterns",level:2},{value:"Managing Pattern Categories",id:"managing-pattern-categories",level:3},{value:"Things to keep in mind",id:"things-to-keep-in-mind",level:2}],d={toc:u};function h(e){var t=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Although Block Patterns may be similar to Block Variations, there are some differences between the two. This blog post will cover what Block Patterns are and how to use them."),(0,o.kt)("h2",{id:"what-are-block-patterns-and-why-use-them"},"What are Block Patterns and why use them?"),(0,o.kt)("p",null,"Block Patterns are predefined block layouts which allow you to add content faster and make it look more consistent. The basic idea is to have a ready-made template which consists of multiple blocks, that have options predefined, and all you have to do is add content to these blocks."),(0,o.kt)("p",null,"They can be used in multiple ways. You can create sections composed of few blocks which you can then easily insert anywhere on the site. You can also create complex page layouts which could be used for writing blog posts, for example."),(0,o.kt)("h2",{id:"technical-differences"},"Technical differences"),(0,o.kt)("p",null,"As explained in the ",(0,o.kt)("a",{parentName:"p",href:"https://eightshift.com/docs/basics/blocks-patterns"},"Eightshift Development kit documentation"),", the main difference between variations and patterns are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"variations provide data using ",(0,o.kt)("inlineCode",{parentName:"li"},"manifest.json"),", while patterns are registered using PHP"),(0,o.kt)("li",{parentName:"ul"},"variations appear in the editor in the same tab as blocks, while patterns appear in their own tab")),(0,o.kt)("h2",{id:"registering-block-patterns"},"Registering Block Patterns"),(0,o.kt)("p",null,"To make registering new block patterns easier, there is a WP-CLI command which will help you create a new block pattern. For this example, the block pattern we're making is called ",(0,o.kt)("strong",{parentName:"p"},"Intro"),". To get started, run this WP-CLI command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"wp boilerplate blocks create-block-pattern --title=intro\n")),(0,o.kt)("p",null,"After generating the block pattern class, there are a few more adjustments you should make to it. For starters, you should update these methods:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getName()")," - change the return value to ",(0,o.kt)("inlineCode",{parentName:"li"},"eightshift-boilerplate/intro-pattern")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getDescription()")," - add any description you like")),(0,o.kt)("p",null,"Once these values are updated, you can make the layout you'll use as a Block Pattern. The easiest way to do it is to build your layout in the editor, switch to ",(0,o.kt)("inlineCode",{parentName:"p"},"Code Editor"),", copy the code and paste in inside your ",(0,o.kt)("inlineCode",{parentName:"p"},"getContent()")," method. Your pattern should now be available to use. For this example, we can create a simple pattern which consists of a Heading block and a Paragraph block."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Option to switch to Code Editor",src:n(75547).Z,width:"364",height:"422"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},'protected function getContent(): string\n{\n    return \'\x3c!-- wp:eightshift-boilerplate/heading {"headingHeadingContent":"Post title goes here","headingHeadingSize":"big"} /--\x3e\n    \x3c!-- wp:eightshift-boilerplate/paragraph {"paragraphParagraphContent":"\\u003cem\\u003ePost intro goes here\\u003c/em\\u003e"} /--\x3e\';\n}\n')),(0,o.kt)("h3",{id:"managing-pattern-categories"},"Managing Pattern Categories"),(0,o.kt)("p",null,"To make managing block patterns easier, we can group them into categories. To start, we need a service class. This class will be used to register our custom categories and remove core categories. The fastest way to add it to our project is by using the following WP-CLI command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"wp boilerplate create service-example --folder=BlockPatterns --file_name=ManagePatternCategories\n")),(0,o.kt)("p",null,"Now that we have our service class, we'll add methods for removing core patterns and pattern categories. First, the method for removing core categories."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"/**\n * Unregisters core block pattern categories\n *\n * @return void\n */\npublic function removeCoreCategories()\n{\n    \\unregister_block_pattern_category('buttons');\n    \\unregister_block_pattern_category('columns');\n    \\unregister_block_pattern_category('gallery');\n    \\unregister_block_pattern_category('header');\n    \\unregister_block_pattern_category('text');\n}\n")),(0,o.kt)("p",null,"The second method will remove all core patterns"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"/**\n * Removes support for core block patterns\n *\n * @return void\n */\npublic function removeBlockPatternsCore()\n{\n    \\remove_theme_support('core-block-patterns');\n}\n")),(0,o.kt)("p",null,"For these methods to work, we need to add them to the ",(0,o.kt)("inlineCode",{parentName:"p"},"register()")," method of our service class. Add the following actions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"\\add_action('init', [$this, 'removeCoreCategories'], 40);\n\\add_action('after_setup_theme', [$this, 'removeBlockPatternsCore'], 20);\n")),(0,o.kt)("p",null,"If you try searching for patterns in your editor, you'll notice they are no longer available. Now we can move on to adding our block pattern categories. The best approach is to define the pattern category names as constants inside your class. In this example, we will add two categories: ",(0,o.kt)("strong",{parentName:"p"},"Templates")," and ",(0,o.kt)("strong",{parentName:"p"},"Sections"),". We can add the following code inside our class:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"class ManagePatternCategories implements ServiceInterface\n{\n    public const TEMPLATES_CATEGORY = 'templates-category';\n    public const SECTIONS_CATEGORY = 'sections-category';\n\n    // Removed parts of code for better readability.\n\n    /**\n     * Removes support for core block patterns\n     *\n     * @return void\n     */\n    public function addCategories()\n    {\n        \\register_block_pattern_category(self::TEMPLATES_CATEGORY, [\n            'label' =>  \\esc_html__('Templates', 'es-blog'),\n        ]);\n\n        \\register_block_pattern_category(self::SECTIONS_CATEGORY, [\n            'label' => \\esc_html__('Sections', 'es-blog'),\n        ]);\n    }\n}\n")),(0,o.kt)("p",null,"Finally, return to your Intro Pattern class and update the ",(0,o.kt)("inlineCode",{parentName:"p"},"getCategories()")," method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},"protected function getCategories(): array\n{\n    return [\n        ManagePatternCategories::SECTIONS_CATEGORY\n    ];\n}\n")),(0,o.kt)("p",null,"In editor, in the Pattern tab, you should now see your new pattern category and the Intro Pattern."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"New pattern category and block pattern",src:n(37508).Z,width:"349",height:"323"})),(0,o.kt)("h2",{id:"things-to-keep-in-mind"},"Things to keep in mind"),(0,o.kt)("p",null,"Block patterns add layout and content which you can then modify at will per instance. These instances are not synchronised with the codebase so it becomes an issue if you've already used a pattern on multiple places on the site and then notice you've missed something in the pattern configuration phase. Fixing the pattern in the codebase will apply the changes on all newly added instances, but you will have to fix the misconfigured instances manually."))}h.isMDXComponent=!0},3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,g=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(g,i(i({ref:t},p),{},{components:n})):a.createElement(g,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},37508:function(e,t,n){t.Z=n.p+"assets/images/block-pattern-example-b1858e34e87de41dbb1926122351feea.png"},75547:function(e,t,n){t.Z=n.p+"assets/images/code-editor-10c4190832f863995a3c6d25fd78c93c.png"}}]);