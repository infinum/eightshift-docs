/*! For license information please see e4d98dad.1a2b8b48.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[40606],{52963:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>c,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"es-ui-components/animated-visibility","title":"Animated visibility","description":"Allows showing/hiding content in an animated way. After hiding, the content is unmounted from the DOM.","source":"@site/ui-components/es-ui-components/animated-visibility.mdx","sourceDirName":"es-ui-components","slug":"/es-ui-components/animated-visibility","permalink":"/components/es-ui-components/animated-visibility","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"components","previous":{"title":"Triggered popover","permalink":"/components/es-ui-components/triggered-popover"},"next":{"title":"Expandable","permalink":"/components/es-ui-components/expandable"}}');var a=s(74848),t=s(28453),l=s(34842),d=s(12746),r=s(61426),o=s(69314);const c={},u="Animated visibility",h={},p=[{value:"Highlighted props",id:"highlighted-props",level:2},{value:"Transitions",id:"transitions",level:3},{value:"Skipping initial transition",id:"skipping-initial-transition",level:3}];function v(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"animated-visibility",children:"Animated visibility"})}),"\n","\n",(0,a.jsx)(i.p,{children:"Allows showing/hiding content in an animated way. After hiding, the content is unmounted from the DOM."}),"\n",(0,a.jsx)(l.d,{className:"esd-hide-bg-on-hover",defaultValue:!1,preContent:(e,i)=>(0,a.jsx)(d.S,{checked:e,onChange:i,label:"Visible"}),children:e=>(0,a.jsx)(r.c,{visible:e,noInitial:!0,children:(0,a.jsx)("div",{className:"es-uic-w-full es-uic-rounded-lg es-uic-bg-gray-100 es-uic-text-sm es-uic-p-4 es-uic-min-h-40",children:(0,a.jsx)("span",{children:"This is demo content"})})})}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n>\n\t<span>Your content goes here</span>\n</AnimatedVisibility>\n"})}),"\n",(0,a.jsx)(i.h2,{id:"highlighted-props",children:"Highlighted props"}),"\n",(0,a.jsx)(i.p,{children:"For the complete list of props, use your IDE's autocomplete functionality."}),"\n",(0,a.jsx)(i.h3,{id:"transitions",children:"Transitions"}),"\n",(0,a.jsx)(l.d,{className:"esd-hide-bg-on-hover",defaultValue:{checked:!1,transition:"slideFade"},preContent:(e,i)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.w,{label:"Transition",value:e.transition,onChange:s=>i({...e,transition:s}),options:[{value:"slideFade",label:"Slide and fade",subtitle:"Default"},{value:"scaleFade",label:"Scale and fade"},{value:"scaleRotateFade",label:"Scale, rotate, and fade"}],type:"menu",wrapperProps:{keepOpen:!1}}),(0,a.jsx)(d.S,{checked:e.checked,onChange:s=>i({...e,checked:s}),label:"Visible"})]}),children:e=>(0,a.jsx)(r.c,{visible:e.checked,transition:e.transition,noInitial:!0,children:(0,a.jsx)("div",{className:"es-uic-w-full es-uic-rounded-lg es-uic-bg-gray-100 es-uic-text-sm es-uic-p-4 es-uic-min-h-40",children:(0,a.jsx)("span",{children:"This is demo content"})})})}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n\t// highlight-next-line\n\ttransition='scaleFade'\n>\n\t<span>This is demo content</span>\n</AnimatedVisibility>\n"})}),"\n",(0,a.jsx)(i.h3,{id:"skipping-initial-transition",children:"Skipping initial transition"}),"\n",(0,a.jsxs)(i.p,{children:["If you want to skip the initial transition (when the component mounts), and just want to transition\nwhen the visibility changes afterwards, you can use the ",(0,a.jsx)(i.code,{children:"noInitial"})," prop."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n\t// highlight-next-line\n\tnoInitial\n>\n\t<span>Your content goes here</span>\n</AnimatedVisibility>\n"})})]})}function m(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(v,{...e})}):v(e)}},34842:(e,i,s)=>{s.d(i,{d:()=>r});var n=s(96540),a=s(82972),t=s(34164),l=s(78478),d=s(74848);const r=e=>{let{children:i,defaultValue:s,className:r,fitWidth:o=!1,resettable:c=!1,preContent:u}=e;const[h,p]=(0,n.useState)(s),v=(0,n.useRef)();return(0,d.jsx)(l.A,{children:()=>(0,d.jsxs)("div",{className:"es-uic-flex es-uic-font-sans",children:[(0,d.jsxs)("div",{className:(0,t.$)("es-uic-border es-uic-border-dashed es-uic-border-gray-200 es-uic-p-4 es-uic-rounded-lg es-uic-space-y-2.5 es-uic-shrink-0",o?"es-uic-w-fit":"es-uic-w-96",r),children:["function"==typeof i&&i(h,p),"function"!=typeof i&&i]}),(0,d.jsxs)("div",{className:"es-uic-space-y-2.5 es-uic-ml-3 es-uic-grow",children:[u&&u(h,p,v),c&&(0,d.jsx)(a.$,{size:"small",onPress:()=>p(s),disabled:h===s,children:"Reset"})]})]})})}},12746:(e,i,s)=>{s.d(i,{S:()=>k});var n=s(74848),a=s(1174),t=s(57512),l=s(17220),d=s(35971),r=s(96540),o=s(79717),c=s(88659),u=s(50786),h=s(55855),p=s(61829),v=s(66650),m=s(49189),b=s(61426),g=s(13731),f=s(54754);function y(e,i,s){let n=(0,o.$)({...e,value:i.isSelected}),{isInvalid:a,validationErrors:t,validationDetails:l}=n.displayValidation,{labelProps:d,inputProps:u,isSelected:h,isPressed:p,isDisabled:v,isReadOnly:m}=(0,c.$)({...e,isInvalid:a},i,s);(0,o.a)(e,n,s);let{isIndeterminate:b,isRequired:g,validationBehavior:f="aria"}=e;return(0,r.useEffect)((()=>{s.current&&(s.current.indeterminate=!!b)})),{labelProps:d,inputProps:{...u,checked:h,"aria-required":g&&"aria"===f||void 0,required:g&&"native"===f},isSelected:h,isPressed:p,isDisabled:v,isReadOnly:m,isInvalid:a,validationErrors:t,validationDetails:l}}const x=new WeakMap;const j=(0,r.createContext)(null);function R(e,i){let{inputRef:s=null,...n}=e;[e,i]=(0,t.a)(n,i,a.a);let{validationBehavior:c}=(0,t.$)(l.$)||{};var m,b;let g=null!==(b=null!==(m=e.validationBehavior)&&void 0!==m?m:c)&&void 0!==b?b:"native",f=(0,r.useContext)(j),R=(0,t.l)((0,t.m)(s,void 0!==e.inputRef?e.inputRef:null)),{labelProps:V,inputProps:k,isSelected:w,isDisabled:I,isReadOnly:P,isPressed:S,isInvalid:N}=f?function(e,i,s){const n=(0,u.$)({isReadOnly:e.isReadOnly||i.isReadOnly,isSelected:i.isSelected(e.value),onChange(s){s?i.addValue(e.value):i.removeValue(e.value),e.onChange&&e.onChange(s)}});let{name:a,descriptionId:t,errorMessageId:l,validationBehavior:d}=x.get(i);var c;d=null!==(c=e.validationBehavior)&&void 0!==c?c:d;let{realtimeValidation:h}=(0,o.$)({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),p=(0,r.useRef)(o.b),v=()=>{i.setInvalid(e.value,h.isInvalid?h:p.current)};(0,r.useEffect)(v);let m=i.realtimeValidation.isInvalid?i.realtimeValidation:h,b="native"===d?i.displayValidation:m;var g;let f=y({...e,isReadOnly:e.isReadOnly||i.isReadOnly,isDisabled:e.isDisabled||i.isDisabled,name:e.name||a,isRequired:null!==(g=e.isRequired)&&void 0!==g?g:i.isRequired,validationBehavior:d,[o.c]:{realtimeValidation:m,displayValidation:b,resetValidation:i.resetValidation,commitValidation:i.commitValidation,updateValidation(e){p.current=e,v()}}},n,s);return{...f,inputProps:{...f.inputProps,"aria-describedby":[e["aria-describedby"],i.isInvalid?l:null,t].filter(Boolean).join(" ")||void 0}}}({...e,value:e.value,children:"function"==typeof e.children||e.children},f,R):y({...e,children:"function"==typeof e.children||e.children,validationBehavior:g},(0,u.$)(e),R),{isFocused:D,isFocusVisible:C,focusProps:$}=(0,h.$)(),O=I||P,{hoverProps:F,isHovered:A}=(0,p.$)({...e,isDisabled:O}),q=(0,t.b)({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:w,isIndeterminate:e.isIndeterminate||!1,isPressed:S,isHovered:A,isFocused:D,isFocusVisible:C,isDisabled:I,isReadOnly:P,isInvalid:N,isRequired:e.isRequired||!1}}),E=(0,d.$)(e);return delete E.id,r.createElement("label",{...(0,t.c)(E,V,F,q),ref:i,slot:e.slot||void 0,"data-selected":w||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":S||void 0,"data-hovered":A||void 0,"data-focused":D||void 0,"data-focus-visible":C||void 0,"data-disabled":I||void 0,"data-readonly":P||void 0,"data-invalid":N||void 0,"data-required":e.isRequired||void 0},r.createElement(v.$,{elementType:"span"},r.createElement("input",{...(0,t.c)(k,$),ref:R})),q.children)}const V=(0,r.forwardRef)(R),k=e=>{const{icon:i,label:s,subtitle:a,checked:t,disabled:l,readOnly:d,indeterminate:r,onChange:o,className:c,labelClassName:u,alignEnd:h,children:p,hidden:v,...y}=e;return v?null:(0,n.jsx)(V,{isDisabled:l,isIndeterminate:r,isReadOnly:d,isSelected:t??!1,onChange:o,className:(0,m.c)("es-uic-flex es-uic-w-full es-uic-items-center es-uic-gap-1.5 es-uic-text-sm",c),...y,children:({isIndeterminate:e,isSelected:t})=>(0,n.jsxs)(n.Fragment,{children:[(i||h)&&(s||a)&&(0,n.jsx)(f.b,{icon:i,label:s,subtitle:a,className:u,fullWidth:!0}),(0,n.jsxs)("div",{className:(0,m.c)("es-uic-flex es-uic-size-5 es-uic-items-center es-uic-justify-center es-uic-rounded-md es-uic-border es-uic-text-gray-600 es-uic-shadow-sm es-uic-transition",t||r?"es-uic-border-teal-600 es-uic-bg-teal-600 es-uic-text-white":"es-uic-border-gray-300"),children:[(0,n.jsx)(b.c,{transition:"scaleFade",visible:e,children:(0,n.jsx)("div",{className:"es-uic-h-[1.5px] es-uic-w-3 es-uic-rounded es-uic-bg-white"})}),(0,n.jsx)(b.c,{transition:"scaleRotateFade",visible:!e&&t,className:"[&>svg]:es-uic-size-3 [&>svg]:es-uic-stroke-2",noInitial:!0,children:g.Pt.check})]}),!i&&!h&&(s||a)&&(0,n.jsx)(f.b,{label:s,subtitle:a,className:u}),!(i||s||a)&&p]})})}},88659:(e,i,s)=>{s.d(i,{$:()=>r});var n=s(57512),a=s(35971),t=s(23963),l=s(27803),d=s(15625);function r(e,i,s){let{isDisabled:r=!1,isReadOnly:o=!1,value:c,name:u,children:h,"aria-label":p,"aria-labelledby":v,validationState:m="valid",isInvalid:b}=e;null!=h||(null!=p||null!=v)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:g,isPressed:f}=(0,d.$)({isDisabled:r}),{pressProps:y,isPressed:x}=(0,d.$)({isDisabled:r||o,onPress(){i.toggle()}}),{focusableProps:j}=(0,l.$)(e,s),R=(0,n.c)(g,j),V=(0,a.$)(e,{labelable:!0});return(0,t.$)(s,i.isSelected,i.setSelected),{labelProps:(0,n.c)(y,{onClick:e=>e.preventDefault()}),inputProps:(0,n.c)(V,{"aria-invalid":b||"invalid"===m||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":o||void 0,onChange:e=>{e.stopPropagation(),i.setSelected(e.target.checked)},disabled:r,...null==c?{}:{value:c},name:u,type:"checkbox",...R}),isSelected:i.isSelected,isPressed:f||x,isDisabled:r,isReadOnly:o,isInvalid:b||"invalid"===m}}}}]);