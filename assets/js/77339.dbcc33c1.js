/*! For license information please see 77339.dbcc33c1.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[77339],{28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var s=r(96540);const n={},i=s.createContext(n);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(i.Provider,{value:t},e.children)}},23271:(e,t,r)=>{r.d(t,{QH:()=>kt,XT:()=>G,gT:()=>Z});const s=typeof process<"u"&&"node"===(null==(n=process.release)?void 0:n.name)?"NODE":typeof window<"u"?"WEB":typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?"WORKER":"NODE";var n;if("NODE"===s){let e=function(e){return new Promise((function(t,r){e.onload=e.onerror=function(s){e.onload=e.onerror=null,"load"===s.type?t(e.result):r(new Error("Failed to read the blob/file"))}}))},t=function(){const e=new Uint8Array([1,2,3,4]),t=new File([e],"test").stream();try{return t.getReader({mode:"byob"}),!0}catch{return!1}};if(typeof File>"u"){class e extends Blob{constructor(e,t,r){let s;super(e),null!=r&&r.lastModified&&(s=new Date),(!s||isNaN(s.getFullYear()))&&(s=new Date),this.lastModifiedDate=s,this.lastModified=s.getMilliseconds(),this.name=t||""}}global.File=e}typeof Blob.prototype.arrayBuffer>"u"&&(Blob.prototype.arrayBuffer=function(){const t=new FileReader;return t.readAsArrayBuffer(this),e(t)}),typeof Blob.prototype.text>"u"&&(Blob.prototype.text=function(){const t=new FileReader;return t.readAsText(this),e(t)}),(typeof Blob.prototype.stream>"u"||!t())&&(Blob.prototype.stream=function(){let e=0;const t=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:524288,async pull(r){const s=r.byobRequest.view,n=await t.slice(e,e+s.byteLength).arrayBuffer(),i=new Uint8Array(n);new Uint8Array(s.buffer).set(i);const o=i.byteLength;r.byobRequest.respond(o),e+=o,e>=t.size&&r.close()}})})}if("NODE"===s&&typeof CustomEvent>"u"){class e extends Event{constructor(e,t={}){super(e,t),this.detail=t.detail}initCustomEvent(){}}globalThis.CustomEvent=e}const i=["db.php","plugins/akismet","plugins/hello.php","plugins/wordpress-importer","mu-plugins/sqlite-database-integration","mu-plugins/playground-includes","mu-plugins/0-playground.php","mu-plugins/0-sqlite.php","themes/twentytwenty","themes/twentytwentyone","themes/twentytwentytwo","themes/twentytwentythree","themes/twentytwentyfour","themes/twentytwentyfive","themes/twentytwentysix"],o=Symbol("SleepFinished");function a(e){return new Promise((t=>{setTimeout((()=>t(o)),e)}))}class p extends Error{constructor(){super("Acquiring lock timed out")}}class c{constructor({concurrency:e,timeout:t}){this._running=0,this.concurrency=e,this.timeout=t,this.queue=[]}get remaining(){return this.concurrency-this.running}get running(){return this._running}async acquire(){for(;;){if(!(this._running>=this.concurrency)){this._running++;let e=!1;return()=>{e||(e=!0,this._running--,this.queue.length>0&&this.queue.shift()())}}{const e=new Promise((e=>{this.queue.push(e)}));void 0!==this.timeout?await Promise.race([e,a(this.timeout)]).then((e=>{if(e===o)throw new p})):await e}}}async run(e){const t=await this.acquire();try{return await e()}finally{t()}}}function d(...e){function t(e){return"/"===e.substring(e.length-1)}let r=e.join("/");const s="/"===r[0],n=t(r);return r=u(r),!r&&!s&&(r="."),r&&n&&!t(r)&&(r+="/"),r}function l(e){if("/"===e)return"/";const t=(e=u(e)).lastIndexOf("/");return-1===t?"":0===t?"/":e.substr(0,t)}function u(e){const t="/"===e[0];return e=function(e,t){let r=0;for(let s=e.length-1;s>=0;s--){const t=e[s];"."===t?e.splice(s,1):".."===t?(e.splice(s,1),r++):r&&(e.splice(s,1),r--)}if(t)for(;r;r--)e.unshift("..");return e}(e.split("/").filter((e=>!!e)),!t).join("/"),(t?"/":"")+e.replace(/\/$/,"")}function h(e=36,t="!@#$%^&*()_+=-[]/.,<>?"){const r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+t;let s="";for(let n=e;n>0;--n)s+=r[Math.floor(Math.random()*r.length)];return s}function f(e){return`json_decode(base64_decode('${function(e){return function(e){const t=String.fromCodePoint(...e);return btoa(t)}((new TextEncoder).encode(e))}(JSON.stringify(e))}'), true)`}function m(e){const t={};for(const r in e)t[r]=f(e[r]);return t}const y=(e,...t)=>{k.dispatchEvent(new CustomEvent("playground-log",{detail:{log:e,args:t}}))},g=(e,...t)=>{switch("string"==typeof e.message?e.message=O(e.message):e.message.message&&"string"==typeof e.message.message&&(e.message.message=O(e.message.message)),e.severity){case"Debug":console.debug(e.message,...t);break;case"Info":console.info(e.message,...t);break;case"Warn":console.warn(e.message,...t);break;case"Error":case"Fatal":console.error(e.message,...t);break;default:console.log(e.message,...t)}},P=[],b=e=>{P.push(e)},w=e=>{if(!0===e.raw)b(e.message);else{const t=_("object"==typeof e.message?(e=>e instanceof Error?[e.message,e.stack].join("\n"):JSON.stringify(e,null,2))(e.message):e.message,e.severity??"Info",e.prefix??"JavaScript");b(t)}};class v extends EventTarget{constructor(e=[]){super(),this.handlers=e,this.fatalErrorEvent="playground-fatal-error"}getLogs(){return this.handlers.includes(w)?[...P]:(this.error("Logs aren't stored because the logToMemory handler isn't registered.\n\t\t\t\tIf you're using a custom logger instance, make sure to register logToMemory handler.\n\t\t\t"),[])}logMessage(e,...t){for(const r of this.handlers)r(e,...t)}log(e,...t){this.logMessage({message:e,severity:void 0,prefix:"JavaScript",raw:!1},...t)}debug(e,...t){this.logMessage({message:e,severity:"Debug",prefix:"JavaScript",raw:!1},...t)}info(e,...t){this.logMessage({message:e,severity:"Info",prefix:"JavaScript",raw:!1},...t)}warn(e,...t){this.logMessage({message:e,severity:"Warn",prefix:"JavaScript",raw:!1},...t)}error(e,...t){this.logMessage({message:e,severity:"Error",prefix:"JavaScript",raw:!1},...t)}}const k=new v((()=>{try{0}catch{}return[w,g,y]})()),O=e=>e.replace(/\t/g,""),_=(e,t,r)=>{const s=new Date;return`[${new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",timeZone:"UTC"}).format(s).replace(/ /g,"-")+" "+new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"UTC",timeZoneName:"short"}).format(s)}] ${r} ${t}: ${e=O(e)}`};let E=0;const $="/wordpress/wp-content/debug.log",T=(e,t)=>{t.addEventListener("request.end",(async()=>{const r=await(async e=>await e.fileExists($)?await e.readFileAsText($):"")(t);if(r.length>E){const t=r.substring(E);e.logMessage({message:t,raw:!0}),E=r.length}})),t.addEventListener("request.error",(t=>{t.error&&(e.logMessage({message:`${t.error.message} ${t.error.stack}`,severity:"Fatal",prefix:"request"===t.source?"PHP":"WASM Crash"}),e.dispatchEvent(new CustomEvent(e.fatalErrorEvent,{detail:{logs:e.getLogs(),source:t.source}})))}))},j=async(e,{pluginPath:t,pluginName:r},s)=>{null==s||s.tracker.setCaption(`Activating ${r||t}`);const n=await e.documentRoot,i=await e.run({code:`<?php\n\t\t\tdefine( 'WP_ADMIN', true );\n\t\t\trequire_once( ${f(n)}. "/wp-load.php" );\n\t\t\trequire_once( ${f(n)}. "/wp-admin/includes/plugin.php" );\n\n\t\t\t// Set current user to admin\n\t\t\twp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );\n\n\t\t\t$plugin_path = ${f(t)};\n\t\t\t$response = false;\n\t\t\tif (!is_dir($plugin_path)) {\n\t\t\t\t$response = activate_plugin($plugin_path);\n\t\t\t}\n\n\t\t\t// Activate plugin by name if activation by path wasn't successful\n\t\t\tif ( null !== $response ) {\n\t\t\t\tforeach ( ( glob( $plugin_path . '/*.php' ) ?: array() ) as $file ) {\n\t\t\t\t\t$info = get_plugin_data( $file, false, false );\n\t\t\t\t\tif ( ! empty( $info['Name'] ) ) {\n\t\t\t\t\t\t$response = activate_plugin( $file );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( null === $response ) {\n\t\t\t\tdie('Plugin activated successfully');\n\t\t\t} else if ( is_wp_error( $response ) ) {\n\t\t\t\tthrow new Exception( $response->get_error_message() );\n\t\t\t}\n\n\t\t\tthrow new Exception( 'Unable to activate plugin' );\n\t\t`});if("Plugin activated successfully"!==i.text)throw k.debug(i),new Error(`Plugin ${t} could not be activated \u2013 WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},A=async(e,{themeFolderName:t},r)=>{null==r||r.tracker.setCaption(`Activating ${t}`);const s=await e.documentRoot,n=`${s}/wp-content/themes/${t}`;if(!await e.fileExists(n))throw new Error(`\n\t\t\tCouldn't activate theme ${t}.\n\t\t\tTheme not found at the provided theme path: ${n}.\n\t\t\tCheck the theme path to ensure it's correct.\n\t\t\tIf the theme is not installed, you can install it using the installTheme step.\n\t\t\tMore info can be found in the Blueprint documentation: https://wordpress.github.io/wordpress-playground/blueprints-api/steps/#ActivateThemeStep\n\t\t`);const i=await e.run({code:"<?php\n\t\t\tdefine( 'WP_ADMIN', true );\n\t\t\trequire_once( getenv('docroot') . \"/wp-load.php\" );\n\n\t\t\t// Set current user to admin\n\t\t\twp_set_current_user( get_users(array('role' => 'Administrator') )[0]->ID );\n\n\t\t\tswitch_theme( getenv('themeFolderName') );\n\n\t\t\tif( wp_get_theme()->get_stylesheet() !== getenv('themeFolderName') ) {\n\t\t\t\tthrow new Exception( 'Theme ' . getenv('themeFolderName') . ' could not be activated.' );\t\t\t\t\n\t\t\t}\n\t\t\tdie('Theme activated successfully');\n\t\t",env:{docroot:s,themeFolderName:t}});if("Theme activated successfully"!==i.text)throw k.debug(i),new Error(`Theme ${t} could not be activated \u2013 WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details`)},q=async(e,{path:t})=>{await e.unlink(t)},R=async(e,{request:t})=>{k.warn('Deprecated: The Blueprint step "request" is deprecated and will be removed in a future release.');const r=await e.request(t);if(r.httpStatusCode>399||r.httpStatusCode<200)throw k.warn("WordPress response was",{response:r}),new Error(`Request failed with status ${r.httpStatusCode}`);return r},S="<?php\n\n/**\n * Rewrites the wp-config.php file to ensure specific constants are defined\n * with specific values.\n * \n * Example:\n * \n * ```php\n * <?php\n * define('WP_DEBUG', true);\n * // The third define() argument is also supported:\n * define('SAVEQUERIES', false, true);\n * \n * // Expression\n * define(true ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);\n * \n * // Guarded expressions shouldn't be wrapped twice\n * if(!defined(1 ? 'A' : 'B')) {\n *     define(1 ? 'A' : 'B', 0);\n * }\n * \n * // More advanced expression\n * define((function() use($x) {\n *     return [$x, 'a'];\n * })(), 123);\n * ```\n * \n * Rewritten with\n * \n *     $constants = [\n *        'WP_DEBUG' => false,\n *        'WP_DEBUG_LOG' => true,\n *        'SAVEQUERIES' => true,\n *        'NEW_CONSTANT' => \"new constant\",\n *     ];\n * \n * ```php\n * <?php\n * define('WP_DEBUG_LOG',true);\n * define('NEW_CONSTANT','new constant');\n * ?><?php\n * define('WP_DEBUG',false);\n * // The third define() argument is also supported:\n * define('SAVEQUERIES',true, true);\n * \n * // Expression\n * if(!defined($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG')) {\n *      define($const ? 'WP_DEBUG_LOG' : 'WP_DEBUG_LOG', 123);\n * }\n * \n * // Guarded expressions shouldn't be wrapped twice\n * if(!defined(1 ? 'A' : 'B')) {\n *     define(1 ? 'A' : 'B', 0);\n * }\n * \n * // More advanced expression\n * if(!defined((function() use($x) {\n *    return [$x, 'a'];\n * })())) {\n *     define((function() use($x) {\n *         return [$x, 'a'];\n *     })(), 123);\n * }\n * ```\n * \n * @param mixed $content\n * @return string\n */\nfunction rewrite_wp_config_to_define_constants($content, $constants = [])\n{\n    $tokens = array_reverse(token_get_all($content));\n    $output = [];\n    $defined_expressions = [];\n\n    // Look through all the tokens and find the define calls\n    do {\n        $buffer = [];\n        $name_buffer = [];\n        $value_buffer = [];\n        $third_arg_buffer = [];\n\n        // Capture everything until the define call into output.\n        // Capturing the define call into a buffer.\n        // Example:\n        //     <?php echo 'a'; define  (\n        //     ^^^^^^^^^^^^^^^^^^^^^^\n        //           output   |buffer\n        while ($token = array_pop($tokens)) {\n            if (is_array($token) && $token[0] === T_STRING && (strtolower($token[1]) === 'define' || strtolower($token[1]) === 'defined')) {\n                $buffer[] = $token;\n                break;\n            }\n            $output[] = $token;\n        }\n\n        // Maybe we didn't find a define call and reached the end of the file?\n        if (!count($tokens)) {\n            break;\n        }\n\n        // Keep track of the \"defined\" expressions that are already accounted for\n        if($token[1] === 'defined') {\n            $output[] = $token;\n            $defined_expression = [];\n            $open_parenthesis = 0;\n            // Capture everything up to the opening parenthesis, including the parenthesis\n            // e.g. defined  (\n            //           ^^^^\n            while ($token = array_pop($tokens)) {\n                $output[] = $token;\n                if ($token === \"(\") {\n                    ++$open_parenthesis;\n                    break;\n                }\n            }\n\n            // Capture everything up to the closing parenthesis, including the parenthesis\n            // e.g. defined  (\n            //           ^^^^\n            while ($token = array_pop($tokens)) {\n                $output[] = $token;\n                if ($token === \")\") {\n                    --$open_parenthesis;\n                }\n                if ($open_parenthesis === 0) {\n                    break;\n                }\n                $defined_expression[] = $token;\n            }\n\n            $defined_expressions[] = stringify_tokens(skip_whitespace($defined_expression));\n            continue;\n        }\n\n        // Capture everything up to the opening parenthesis, including the parenthesis\n        // e.g. define  (\n        //           ^^^^\n        while ($token = array_pop($tokens)) {\n            $buffer[] = $token;\n            if ($token === \"(\") {\n                break;\n            }\n        }\n\n        // Capture the first argument \u2013 it's the first expression after the opening\n        // parenthesis and before the comma:\n        // Examples:\n        //     define(\"WP_DEBUG\", true);\n        //            ^^^^^^^^^^^\n        //\n        //     define(count([1,2]) > 2 ? 'WP_DEBUG' : 'FOO', true);\n        //            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        $open_parenthesis = 0;\n        while ($token = array_pop($tokens)) {\n            $buffer[] = $token;\n            if ($token === \"(\" || $token === \"[\" || $token === \"{\") {\n                ++$open_parenthesis;\n            } elseif ($token === \")\" || $token === \"]\" || $token === \"}\") {\n                --$open_parenthesis;\n            } elseif ($token === \",\" && $open_parenthesis === 0) {\n                break;\n            }\n\n            // Don't capture the comma as a part of the constant name\n            $name_buffer[] = $token;\n        }\n\n        // Capture everything until the closing parenthesis\n        //     define(\"WP_DEBUG\", true);\n        //                       ^^^^^^\n        $open_parenthesis = 0;\n        $is_second_argument = true;\n        while ($token = array_pop($tokens)) {\n            $buffer[] = $token;\n            if ($token === \")\" && $open_parenthesis === 0) {\n                // Final parenthesis of the define call.\n                break;\n            } else if ($token === \"(\" || $token === \"[\" || $token === \"{\") {\n                ++$open_parenthesis;\n            } elseif ($token === \")\" || $token === \"]\" || $token === \"}\") {\n                --$open_parenthesis;\n            } elseif ($token === \",\" && $open_parenthesis === 0) {\n                // This define call has more than 2 arguments! The third one is the\n                // boolean value indicating $is_case_insensitive. Let's continue capturing\n                // to $third_arg_buffer.\n                $is_second_argument = false;\n            }\n            if ($is_second_argument) {\n                $value_buffer[] = $token;\n            } else {\n                $third_arg_buffer[] = $token;\n            }\n        }\n\n        // Capture until the semicolon\n        //     define(\"WP_DEBUG\", true)  ;\n        //                             ^^^\n        while ($token = array_pop($tokens)) {\n            $buffer[] = $token;\n            if ($token === \";\") {\n                break;\n            }\n        }\n\n        // Decide whether $name_buffer is a constant name or an expression\n        $name_token = null;\n        $name_token_index = $token;\n        $name_is_literal = true;\n        foreach ($name_buffer as $k => $token) {\n            if (is_array($token)) {\n                if ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT) {\n                    continue;\n                } else if ($token[0] === T_STRING || $token[0] === T_CONSTANT_ENCAPSED_STRING) {\n                    $name_token = $token;\n                    $name_token_index = $k;\n                } else {\n                    $name_is_literal = false;\n                    break;\n                }\n            } else if ($token !== \"(\" && $token !== \")\") {\n                $name_is_literal = false;\n                break;\n            }\n        }\n\n        // We can't handle expressions as constant names. Let's wrap that define\n        // call in an if(!defined()) statement, just in case it collides with\n        // a constant name.\n        if (!$name_is_literal) {\n            // Ensure the defined expression is not already accounted for\n            foreach ($defined_expressions as $defined_expression) {\n                if ($defined_expression === stringify_tokens(skip_whitespace($name_buffer))) {\n                    $output = array_merge($output, $buffer);\n                    continue 2;\n                }\n            }\n            $output = array_merge(\n                $output,\n                [\"if(!defined(\"],\n                $name_buffer,\n                [\")) {\\n     \"],\n                ['define('],\n                $name_buffer,\n                [','],\n                $value_buffer,\n                $third_arg_buffer,\n                [\");\"],\n                [\"\\n}\\n\"]\n            );\n            continue;\n        }\n\n        // Yay, we have a literal constant name in the buffer now. Let's\n        // get its value:\n        $name = eval('return ' . $name_token[1] . ';');\n\n        // If the constant name is not in the list of constants we're looking,\n        // we can ignore it.\n        if (!array_key_exists($name, $constants)) {\n            $output = array_merge($output, $buffer);\n            continue;\n        }\n\n        // We now have a define() call that defines a constant we're looking for.\n        // Let's rewrite its value to the one \n        $output = array_merge(\n            $output,\n            ['define('],\n            $name_buffer,\n            [','],\n            [var_export($constants[$name], true)],\n            $third_arg_buffer,\n            [\");\"]\n        );\n\n        // Remove the constant from the list so we can process any remaining\n        // constants later.\n        unset($constants[$name]);\n    } while (count($tokens));\n\n    // Add any constants that weren't found in the file\n    if (count($constants)) {\n        $prepend = [\n            \"<?php \\n\"\n        ];\n        foreach ($constants as $name => $value) {\n            $prepend = array_merge(\n                $prepend,\n                [\n                    \"define(\",\n                    var_export($name, true),\n                    ',',\n                    var_export($value, true),\n                    \");\\n\"\n                ]\n            );\n        }\n        $prepend[] = \"?>\";\n        $output = array_merge(\n            $prepend,\n            $output\n        );\n    }\n\n    // Translate the output tokens back into a string\n    return stringify_tokens($output);\n}\n\nfunction stringify_tokens($tokens) {\n    $output = '';\n    foreach ($tokens as $token) {\n        if (is_array($token)) {\n            $output .= $token[1];\n        } else {\n            $output .= $token;\n        }\n    }\n    return $output;\n}\n\nfunction skip_whitespace($tokens) {\n    $output = [];\n    foreach ($tokens as $token) {\n        if (is_array($token) && ($token[0] === T_WHITESPACE || $token[0] === T_COMMENT || $token[0] === T_DOC_COMMENT)) {\n            continue;\n        }\n        $output[] = $token;\n    }\n    return $output;\n}\n",L=async(e,{consts:t,method:r="define-before-run"})=>{switch(r){case"define-before-run":await async function(e,t){for(const r in t)await e.defineConstant(r,t[r])}(e,t);break;case"rewrite-wp-config":{const r=d(await e.documentRoot,"/wp-config.php"),s=await e.readFileAsText(r),n=await async function(e,t,r){await e.writeFile("/tmp/code.php",t);const s=m({consts:r});return await e.run({code:`${S}\n\t$wp_config_path = '/tmp/code.php';\n\t$wp_config = file_get_contents($wp_config_path);\n\t$new_wp_config = rewrite_wp_config_to_define_constants($wp_config, ${s.consts});\n\tfile_put_contents($wp_config_path, $new_wp_config);\n\t`}),await e.readFileAsText("/tmp/code.php")}(e,s,t);await e.writeFile(r,n);break}default:throw new Error(`Invalid method: ${r}`)}};const x=async(e,{username:t="admin",password:r="password"}={},s)=>{var n,i,o;null==s||s.tracker.setCaption((null==s?void 0:s.initialCaption)||"Logging in"),await e.request({url:"/wp-login.php"});const a=await e.request({url:"/wp-login.php",method:"POST",body:{log:t,pwd:r,rememberme:"forever"}});if(null==(o=null==(i=null==(n=a.headers)?void 0:n.location)?void 0:i[0])||!o.includes("/wp-admin/"))throw k.warn("WordPress response was",{response:a,text:a.text}),new Error(`Failed to log in as ${t} with password ${r}`)},F=async(e,{options:t})=>{const r=await e.documentRoot;await e.run({code:`<?php\n\t\tinclude ${f(r)} . '/wp-load.php';\n\t\t$site_options = ${f(t)};\n\t\tforeach($site_options as $name => $value) {\n\t\t\tupdate_option($name, $value);\n\t\t}\n\t\techo "Success";\n\t\t`})};function N(e){return e.pathname.startsWith("/scope:")}function C(e){return Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")}const I=async(e,{path:t,data:r})=>{r instanceof File&&(r=new Uint8Array(await r.arrayBuffer())),t.startsWith("/wordpress/wp-content/mu-plugins")&&!await e.fileExists("/wordpress/wp-content/mu-plugins")&&await e.mkdir("/wordpress/wp-content/mu-plugins"),await e.writeFile(t,r)},D=async(e,{siteUrl:t})=>{await L(e,{consts:{WP_HOME:t,WP_SITEURL:t}})},W=async(e,{themeSlug:t=""},r)=>{var s;null==(s=null==r?void 0:r.tracker)||s.setCaption("Importing theme starter content");const n=await e.documentRoot;await e.run({code:`<?php\n\n\t\t/**\n\t\t * Ensure that the customizer loads as an admin user.\n\t\t *\n\t\t * For compatibility with themes, this MUST be run prior to theme inclusion, which is why this is a plugins_loaded filter instead\n\t\t * of running _wp_customize_include() manually after load.\n\t\t */\n\t\tfunction importThemeStarterContent_plugins_loaded() {\n\t\t\t// Set as the admin user, this ensures we can customize the site.\n\t\t\twp_set_current_user(\n\t\t\t\tget_users( [ 'role' => 'Administrator' ] )[0]\n\t\t\t);\n\n\t\t\t// Force the site to be fresh, although it should already be.\n\t\t\tadd_filter( 'pre_option_fresh_site', '__return_true' );\n\n\t\t\t/*\n\t\t\t * Simulate this request as the customizer loading with the current theme in preview mode.\n\t\t\t *\n\t\t\t * See _wp_customize_include()\n\t\t\t */\n\t\t\t$_REQUEST['wp_customize']    = 'on';\n\t\t\t$_REQUEST['customize_theme'] = ${f(t)} ?: get_stylesheet();\n\n\t\t\t/*\n\t\t\t * Claim this is a ajax request saving settings, to avoid the preview filters being applied.\n\t\t\t */\n\t\t\t$_REQUEST['action'] = 'customize_save';\n\t\t\tadd_filter( 'wp_doing_ajax', '__return_true' );\n\n\t\t\t$_GET = $_REQUEST;\n\t\t}\n\t\tplayground_add_filter( 'plugins_loaded', 'importThemeStarterContent_plugins_loaded', 0 );\n\n\t\trequire ${f(n)} . '/wp-load.php';\n\n\t\t// Return early if there's no starter content.\n\t\tif ( ! get_theme_starter_content() ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Import the Starter Content.\n\t\t$wp_customize->import_theme_starter_content();\n\n\t\t// Publish the changeset, which publishes the starter content.\n\t\twp_publish_post( $wp_customize->changeset_post_id() );\n\t\t`})},B="/tmp/file.zip",U=async(e,t,r,s=!0)=>{if(t instanceof File){const r=t;t=B,await e.writeFile(t,new Uint8Array(await r.arrayBuffer()))}const n=m({zipPath:t,extractToPath:r,overwriteFiles:s});await e.run({code:`<?php\n        function unzip($zipPath, $extractTo, $overwriteFiles = true)\n        {\n            if (!is_dir($extractTo)) {\n                mkdir($extractTo, 0777, true);\n            }\n            $zip = new ZipArchive;\n            $res = $zip->open($zipPath);\n            if ($res === TRUE) {\n\t\t\t\tfor ($i = 0; $i < $zip->numFiles; $i++) {\n\t\t\t\t\t$filename = $zip->getNameIndex($i);\n\t\t\t\t\t$fileinfo = pathinfo($filename);\n\t\t\t\t\t$extractFilePath = rtrim($extractTo, '/') . '/' . $filename;\n\t\t\t\t\t// Check if file exists and $overwriteFiles is false\n\t\t\t\t\tif (!file_exists($extractFilePath) || $overwriteFiles) {\n\t\t\t\t\t\t// Extract file\n\t\t\t\t\t\t$zip->extractTo($extractTo, $filename);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$zip->close();\n\t\t\t\tchmod($extractTo, 0777);\n            } else {\n                throw new Exception("Could not unzip file");\n            }\n        }\n        unzip(${n.zipPath}, ${n.extractToPath}, ${n.overwriteFiles});\n        `}),await e.fileExists(B)&&await e.unlink(B)},M=async(e,{zipFile:t,zipPath:r,extractToPath:s})=>{if(r)k.warn('The "zipPath" option of the unzip() Blueprint step is deprecated and will be removed. Use "zipFile" instead.');else if(!t)throw new Error("Either zipPath or zipFile must be provided");await U(e,t||r,s)};async function z(e,t){await e.fileExists(t)&&(await e.isDir(t)?await e.rmdir(t):await e.unlink(t))}async function V(e,{targetPath:t,zipFile:r,ifAlreadyInstalled:s="overwrite"}){const n=r.name.replace(/\.zip$/,""),i=d(await e.documentRoot,"wp-content"),o=d(i,h()),a=d(o,"assets",n);await e.fileExists(a)&&await e.rmdir(o,{recursive:!0}),await e.mkdir(o);try{await M(e,{zipFile:r,extractToPath:a});let i=await e.listFiles(a,{prependPath:!0});i=i.filter((e=>!e.endsWith("/__MACOSX")));const o=1===i.length&&await e.isDir(i[0]);let p,c="";o?(c=i[0],p=i[0].split("/").pop()):(c=a,p=n);const d=`${t}/${p}`;if(await e.fileExists(d)){if(!await e.isDir(d))throw new Error(`Cannot install asset ${p} to ${d} because a file with the same name already exists. Note it's a file, not a directory! Is this by mistake?`);if("overwrite"!==s){if("skip"===s)return{assetFolderPath:d,assetFolderName:p};throw new Error(`Cannot install asset ${p} to ${t} because it already exists and the ifAlreadyInstalled option was set to ${s}`)}await e.rmdir(d,{recursive:!0})}return await e.mv(c,d),{assetFolderPath:d,assetFolderName:p}}finally{await e.rmdir(o,{recursive:!0})}}function H(e){const t=e.split(".").shift().replace(/-/g," ");return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}const G=async(e,{themeZipFile:t,ifAlreadyInstalled:r,options:s={}},n)=>{const i=H(t.name);null==n||n.tracker.setCaption(`Installing the ${i} theme`);const{assetFolderName:o}=await V(e,{ifAlreadyInstalled:r,zipFile:t,targetPath:`${await e.documentRoot}/wp-content/themes`});(!("activate"in s)||s.activate)&&await A(e,{themeFolderName:o},n),"importStarterContent"in s&&s.importStarterContent&&await W(e,{themeSlug:o},n)},Y="<?php\n\nfunction zipDir($root, $output, $options = array())\n{\n    $root = rtrim($root, '/');\n    $additionalPaths = array_key_exists('additional_paths', $options) ? $options['additional_paths'] : array();\n    $excludePaths = array_key_exists('exclude_paths', $options) ? $options['exclude_paths'] : array();\n    $zip_root = array_key_exists('zip_root', $options) ? $options['zip_root'] : $root;\n\n    $zip = new ZipArchive;\n    $res = $zip->open($output, ZipArchive::CREATE);\n    if ($res === TRUE) {\n        $directories = array(\n            $root . '/'\n        );\n        while (sizeof($directories)) {\n            $current_dir = array_pop($directories);\n\n            if ($handle = opendir($current_dir)) {\n                while (false !== ($entry = readdir($handle))) {\n                    if ($entry == '.' || $entry == '..') {\n                        continue;\n                    }\n\n                    $entry = join_paths($current_dir, $entry);\n                    if (in_array($entry, $excludePaths)) {\n                        continue;\n                    }\n\n                    if (is_dir($entry)) {\n                        $directory_path = $entry . '/';\n                        array_push($directories, $directory_path);\n                    } else if (is_file($entry)) {\n                        $zip->addFile($entry, substr($entry, strlen($zip_root)));\n                    }\n                }\n                closedir($handle);\n            }\n        }\n        foreach ($additionalPaths as $disk_path => $zip_path) {\n            $zip->addFile($disk_path, $zip_path);\n        }\n        $zip->close();\n        chmod($output, 0777);\n    }\n}\n\nfunction join_paths()\n{\n    $paths = array();\n\n    foreach (func_get_args() as $arg) {\n        if ($arg !== '') {\n            $paths[] = $arg;\n        }\n    }\n\n    return preg_replace('#/+#', '/', join('/', $paths));\n}\n";const Z=async(e,{command:t,wpCliPath:r="/tmp/wp-cli.phar"})=>{if(!await e.fileExists(r))throw new Error(`wp-cli.phar not found at ${r}.\n\t\t\tYou can enable wp-cli support by adding "wp-cli" to the list of extra libraries in your blueprint as follows:\n\t\t\t{\n\t\t\t\t"extraLibraries": [ "wp-cli" ]\n\t\t\t}\n\n\t\t\tRead more about it in the documentation.\n\t\t\thttps://wordpress.github.io/wordpress-playground/blueprints-api/data-format#extra-libraries`);let s;if("string"==typeof t?s=function(e){let t=0,r="";const s=[];let n="";for(let i=0;i<e.length;i++){const o=e[i];0===t?'"'===o||"'"===o?(t=1,r=o):o.match(/\s/)?(n&&s.push(n),n=""):n+=o:1===t&&("\\"===o?(i++,n+=e[i]):o===r?(t=0,r=""):n+=o)}return n&&s.push(n),s}(t=t.trim()):s=t,"wp"!==s.shift())throw new Error('The first argument must be "wp".');await e.writeFile("/tmp/stdout",""),await e.writeFile("/tmp/stderr",""),await e.writeFile("/wordpress/run-cli.php",`<?php\n\t\t// Set up the environment to emulate a shell script\n\t\t// call.\n\n\t\t// Set SHELL_PIPE to 0 to ensure WP-CLI formats\n\t\t// the output as ASCII tables.\n\t\t// @see https://github.com/wp-cli/wp-cli/issues/1102\n\t\tputenv( 'SHELL_PIPE=0' );\n\n\t\t// Set the argv global.\n\t\t$GLOBALS['argv'] = array_merge([\n\t\t  "/tmp/wp-cli.phar",\n\t\t  "--path=/wordpress"\n\t\t], ${f(s)});\n\n\t\t// Provide stdin, stdout, stderr streams outside of\n\t\t// the CLI SAPI.\n\t\tdefine('STDIN', fopen('php://stdin', 'rb'));\n\t\tdefine('STDOUT', fopen('php://stdout', 'wb'));\n\t\tdefine('STDERR', fopen('php://stderr', 'wb'));\n\n\t\trequire( ${f(r)} );\n\t\t`);const n=await e.run({scriptPath:"/wordpress/run-cli.php"});if(n.errors)throw new Error(n.errors);return n};const Q=Object.freeze(Object.defineProperty({__proto__:null,activatePlugin:j,activateTheme:A,cp:async(e,{fromPath:t,toPath:r})=>{await e.writeFile(r,await e.readFileAsBuffer(t))},defineSiteUrl:D,defineWpConfigConsts:L,enableMultisite:async e=>{var t;await L(e,{consts:{WP_ALLOW_MULTISITE:1}});const r=new URL(await e.absoluteUrl);if(""!==r.port){let e=`The current host is ${r.host}, but WordPress multisites do not support custom ports.`;throw"localhost"===r.hostname&&(e+=" For development, you can set up a playground.test domain using the instructions at https://wordpress.github.io/wordpress-playground/contributing/code."),new Error(e)}const s=r.pathname.replace(/\/$/,"")+"/",n=`${r.protocol}//${r.hostname}${s}`;await F(e,{options:{siteurl:n,home:n}}),await x(e,{});const i=await e.documentRoot,o=(await e.run({code:`<?php\ndefine( 'WP_ADMIN', true );\nrequire_once(${f(i)} . "/wp-load.php");\n\n// Set current user to admin\n( get_users(array('role' => 'Administrator') )[0] );\n\nrequire_once(${f(i)} . "/wp-admin/includes/plugin.php");\n$plugins_root = ${f(i)} . "/wp-content/plugins";\n$plugins = glob($plugins_root . "/*");\n\n$deactivated_plugins = [];\nforeach($plugins as $plugin_path) {\n\tif (str_ends_with($plugin_path, '/index.php')) {\n\t\tcontinue;\n\t}\n\tif (!is_dir($plugin_path)) {\n\t\t$deactivated_plugins[] = substr($plugin_path, strlen($plugins_root) + 1);\n\t\tdeactivate_plugins($plugin_path);\n\t\tcontinue;\n\t}\n\t// Find plugin entry file\n\tforeach ( ( glob( $plugin_path . '/*.php' ) ?: array() ) as $file ) {\n\t\t$info = get_plugin_data( $file, false, false );\n\t\tif ( ! empty( $info['Name'] ) ) {\n\t\t\tdeactivate_plugins( $file );\n\t\t\t$deactivated_plugins[] = substr($file, strlen($plugins_root) + 1);\n\t\t\tbreak;\n\t\t}\n\t}\n}\necho json_encode($deactivated_plugins);\n`})).json,a=null==(t=(await R(e,{request:{url:"/wp-admin/network.php"}})).text.match(/name="_wpnonce"\s+value="([^"]+)"/))?void 0:t[1],p=await R(e,{request:{url:"/wp-admin/network.php",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:C({_wpnonce:a,_wp_http_referer:s+"wp-admin/network.php",sitename:"My WordPress Website Sites",email:"admin@localhost.com",submit:"Install"})}});if(200!==p.httpStatusCode)throw k.warn("WordPress response was",{response:p,text:p.text,headers:p.headers}),new Error(`Failed to enable multisite. Response code was ${p.httpStatusCode}`);await L(e,{consts:{MULTISITE:!0,SUBDOMAIN_INSTALL:!1,SITE_ID_CURRENT_SITE:1,BLOG_ID_CURRENT_SITE:1,DOMAIN_CURRENT_SITE:r.hostname,PATH_CURRENT_SITE:s}});const c=new URL(await e.absoluteUrl),d=N(c)?"scope:"+function(e){return N(e)?e.pathname.split("/")[1].split(":")[1]:null}(c):null;await e.writeFile("/internal/shared/preload/sunrise.php",`<?php\n\t$_SERVER['HTTP_HOST'] = ${f(c.hostname)};\n\t$folder = ${f(d)};\n\tif ($folder && strpos($_SERVER['REQUEST_URI'],"/$folder") === false) {\n\t\t$_SERVER['REQUEST_URI'] = "/$folder/" . ltrim($_SERVER['REQUEST_URI'], '/');\n\t}\n`),await e.writeFile("/internal/shared/mu-plugins/sunrise.php","<?php\n\t\tif ( !defined( 'BLOG_ID_CURRENT_SITE' ) ) {\n\t\t\tdefine( 'BLOG_ID_CURRENT_SITE', 1 );\n\t\t}\n"),await x(e,{});for(const l of o)await j(e,{pluginPath:l})},exportWXR:async function(e){const t=await e.request({url:"/wp-admin/export.php?download=true&content=all"});return new File([t.bytes],"export.xml")},importThemeStarterContent:W,importWordPressFiles:async(e,{wordPressFilesZip:t,pathInZip:r=""})=>{const s=await e.documentRoot;let n=d("/tmp","import");await e.mkdir(n),await M(e,{zipFile:t,extractToPath:n}),n=d(n,r);const o=d(n,"wp-content"),a=d(s,"wp-content");for(const h of i){const t=d(o,h);await z(e,t);const r=d(a,h);await e.fileExists(r)&&(await e.mkdir(l(t)),await e.mv(r,t))}const p=d(n,"wp-content","database");await e.fileExists(p)||await e.mv(d(s,"wp-content","database"),p);const c=await e.listFiles(n);for(const i of c)await z(e,d(s,i)),await e.mv(d(n,i),d(s,i));await e.rmdir(n),await D(e,{siteUrl:await e.absoluteUrl});const u=f(d(s,"wp-admin","upgrade.php"));await e.run({code:`<?php\n            $_GET['step'] = 'upgrade_db';\n            require ${u};\n            `})},importWxr:async(e,{file:t},r)=>{var s;null==(s=null==r?void 0:r.tracker)||s.setCaption("Importing content"),await I(e,{path:"/tmp/import.wxr",data:t});const n=await e.documentRoot;await e.run({code:`<?php\n\t\trequire ${f(n)} . '/wp-load.php';\n\t\trequire ${f(n)} . '/wp-admin/includes/admin.php';\n  \n\t\tkses_remove_filters();\n\t\t$admin_id = get_users(array('role' => 'Administrator') )[0]->ID;\n        wp_set_current_user( $admin_id );\n\t\t$importer = new WXR_Importer( array(\n\t\t\t'fetch_attachments' => true,\n\t\t\t'default_author' => $admin_id\n\t\t) );\n\t\t$logger = new WP_Importer_Logger_CLI();\n\t\t$importer->set_logger( $logger );\n\n\t\t// Slashes from the imported content are lost if we don't call wp_slash here.\n\t\tadd_action( 'wp_insert_post_data', function( $data ) {\n\t\t\treturn wp_slash($data);\n\t\t});\n\n\t\t$result = $importer->import( '/tmp/import.wxr' );\n\t\t`})},installPlugin:async(e,{pluginZipFile:t,ifAlreadyInstalled:r,options:s={}},n)=>{const i=H(t.name.split("/").pop()||"plugin.zip");null==n||n.tracker.setCaption(`Installing the ${i} plugin`);const{assetFolderPath:o}=await V(e,{ifAlreadyInstalled:r,zipFile:t,targetPath:`${await e.documentRoot}/wp-content/plugins`});(!("activate"in s)||s.activate)&&await j(e,{pluginPath:o,pluginName:i},n)},installTheme:G,login:x,mkdir:async(e,{path:t})=>{await e.mkdir(t)},mv:async(e,{fromPath:t,toPath:r})=>{await e.mv(t,r)},request:R,resetData:async(e,t,r)=>{var s;null==(s=null==r?void 0:r.tracker)||s.setCaption("Resetting WordPress data");const n=await e.documentRoot;await e.run({env:{DOCROOT:n},code:"<?php\n\t\trequire getenv('DOCROOT') . '/wp-load.php';\n\n\t\t$GLOBALS['@pdo']->query('DELETE FROM wp_posts WHERE id > 0');\n\t\t$GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_posts'\");\n\t\t\n\t\t$GLOBALS['@pdo']->query('DELETE FROM wp_postmeta WHERE post_id > 1');\n\t\t$GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=20 WHERE NAME='wp_postmeta'\");\n\n\t\t$GLOBALS['@pdo']->query('DELETE FROM wp_comments');\n\t\t$GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_comments'\");\n\n\t\t$GLOBALS['@pdo']->query('DELETE FROM wp_commentmeta');\n\t\t$GLOBALS['@pdo']->query(\"UPDATE SQLITE_SEQUENCE SET SEQ=0 WHERE NAME='wp_commentmeta'\");\n\t\t"})},rm:q,rmdir:async(e,{path:t})=>{await e.rmdir(t)},runPHP:async(e,{code:t})=>await e.run({code:t}),runPHPWithOptions:async(e,{options:t})=>await e.run(t),runSql:async(e,{sql:t},r)=>{null==r||r.tracker.setCaption("Executing SQL Queries");const s=`/tmp/${h(36,"-_")}.sql`;await e.writeFile(s,new Uint8Array(await t.arrayBuffer()));const n=m({docroot:await e.documentRoot,sqlFilename:s}),i=await e.run({code:`<?php\n\t\trequire_once ${n.docroot} . '/wp-load.php';\n\n\t\t$handle = fopen(${n.sqlFilename}, 'r');\n\t\t$buffer = '';\n\n\t\tglobal $wpdb;\n\n\t\twhile ($bytes = fgets($handle)) {\n\t\t\t$buffer .= $bytes;\n\n\t\t\tif (!feof($handle) && substr($buffer, -1, 1) !== "\n") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t$wpdb->query($buffer);\n\t\t\t$buffer = '';\n\t\t}\n\t`});return await q(e,{path:s}),i},runWpInstallationWizard:async(e,{options:t})=>{await e.request({url:"/wp-admin/install.php?step=2",method:"POST",body:{language:"en",prefix:"wp_",weblog_title:"My WordPress Website",user_name:t.adminPassword||"admin",admin_password:t.adminPassword||"password",admin_password2:t.adminPassword||"password",Submit:"Install WordPress",pw_weak:"1",admin_email:"admin@localhost.com"}})},setSiteLanguage:async(e,{language:t},r)=>{null==r||r.tracker.setCaption((null==r?void 0:r.initialCaption)||"Translating"),await e.defineConstant("WPLANG",t);const s=await e.documentRoot,n=[{url:`https://downloads.wordpress.org/translation/core/${(await e.run({code:`<?php\n\t\t\trequire '${s}/wp-includes/version.php';\n\t\t\techo $wp_version;\n\t\t`})).text}/${t}.zip`,type:"core"}],i=(await e.run({code:`<?php\n\t\trequire_once('${s}/wp-load.php');\n\t\trequire_once('${s}/wp-admin/includes/plugin.php');\n\t\techo json_encode(\n\t\t\tarray_values(\n\t\t\t\tarray_map(\n\t\t\t\t\tfunction($plugin) {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t'slug'    => $plugin['TextDomain'],\n\t\t\t\t\t\t\t'version' => $plugin['Version']\n\t\t\t\t\t\t];\n\t\t\t\t\t},\n\t\t\t\t\tarray_filter(\n\t\t\t\t\t\tget_plugins(),\n\t\t\t\t\t\tfunction($plugin) {\n\t\t\t\t\t\t\treturn !empty($plugin['TextDomain']);\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);`})).json;for(const{slug:p,version:c}of i)n.push({url:`https://downloads.wordpress.org/translation/plugin/${p}/${c}/${t}.zip`,type:"plugin"});const o=(await e.run({code:`<?php\n\t\trequire_once('${s}/wp-load.php');\n\t\trequire_once('${s}/wp-admin/includes/theme.php');\n\t\techo json_encode(\n\t\t\tarray_values(\n\t\t\t\tarray_map(\n\t\t\t\t\tfunction($theme) {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t'slug'    => $theme->get('TextDomain'),\n\t\t\t\t\t\t\t'version' => $theme->get('Version')\n\t\t\t\t\t\t];\n\t\t\t\t\t},\n\t\t\t\t\twp_get_themes()\n\t\t\t\t)\n\t\t\t)\n\t\t);`})).json;for(const{slug:p,version:c}of o)n.push({url:`https://downloads.wordpress.org/translation/theme/${p}/${c}/${t}.zip`,type:"theme"});await e.isDir(`${s}/wp-content/languages/plugins`)||await e.mkdir(`${s}/wp-content/languages/plugins`),await e.isDir(`${s}/wp-content/languages/themes`)||await e.mkdir(`${s}/wp-content/languages/themes`);for(const{url:p,type:c}of n)try{const r=await fetch(p);if(!r.ok)throw new Error(`Failed to download translations for ${c}: ${r.statusText}`);let n=`${s}/wp-content/languages`;"plugin"===c?n+="/plugins":"theme"===c&&(n+="/themes"),await U(e,new File([await r.blob()],`${t}-${c}.zip`),n)}catch(a){if("core"===c)throw new Error(`Failed to download translations for WordPress. Please check if the language code ${t} is correct. You can find all available languages and translations on https://translate.wordpress.org/.`);k.warn(`Error downloading translations for ${c}: ${a}`)}},setSiteOptions:F,unzip:M,updateUserMeta:async(e,{meta:t,userId:r})=>{const s=await e.documentRoot;await e.run({code:`<?php\n\t\tinclude ${f(s)} . '/wp-load.php';\n\t\t$meta = ${f(t)};\n\t\tforeach($meta as $name => $value) {\n\t\t\tupdate_user_meta(${f(r)}, $name, $value);\n\t\t}\n\t\t`})},wpCLI:Z,writeFile:I,zipWpContent:async(e,{selfContained:t=!1}={})=>{const r="/tmp/wordpress-playground.zip",s=await e.documentRoot,n=d(s,"wp-content");let o=i;t&&(o=o.filter((e=>!e.startsWith("themes/twenty"))).filter((e=>"mu-plugins/sqlite-database-integration"!==e)));const a=m({zipPath:r,wpContentPath:n,documentRoot:s,exceptPaths:o.map((e=>d(s,"wp-content",e))),additionalPaths:t?{[d(s,"wp-config.php")]:"wp-config.php"}:{}});await async function(e,t){return await e.run({code:Y+t})}(e,`zipDir(${a.wpContentPath}, ${a.zipPath}, array(\n\t\t\t'exclude_paths' => ${a.exceptPaths},\n\t\t\t'zip_root'      => ${a.documentRoot},\n\t\t\t'additional_paths' => ${a.additionalPaths}\n\t\t));`);const p=await e.readFileAsBuffer(r);return e.unlink(r),p}},Symbol.toStringTag,{value:"Module"}));const J=1e-5;class X extends EventTarget{constructor({weight:e=1,caption:t="",fillTime:r=4}={}){super(),this._selfWeight=1,this._selfDone=!1,this._selfProgress=0,this._selfCaption="",this._isFilling=!1,this._subTrackers=[],this._weight=e,this._selfCaption=t,this._fillTime=r}stage(e,t=""){if(e||(e=this._selfWeight),this._selfWeight-e<-J)throw new Error(`Cannot add a stage with weight ${e} as the total weight of registered stages would exceed 1.`);this._selfWeight-=e;const r=new X({caption:t,weight:e,fillTime:this._fillTime});return this._subTrackers.push(r),r.addEventListener("progress",(()=>this.notifyProgress())),r.addEventListener("done",(()=>{this.done&&this.notifyDone()})),r}fillSlowly({stopBeforeFinishing:e=!0}={}){if(this._isFilling)return;this._isFilling=!0;const t=this._fillTime/100;this._fillInterval=setInterval((()=>{this.set(this._selfProgress+1),e&&this._selfProgress>=99&&clearInterval(this._fillInterval)}),t)}set(e){this._selfProgress=Math.min(e,100),this.notifyProgress(),this._selfProgress+J>=100&&this.finish()}finish(){this._fillInterval&&clearInterval(this._fillInterval),this._selfDone=!0,this._selfProgress=100,this._isFilling=!1,this._fillInterval=void 0,this.notifyProgress(),this.notifyDone()}get caption(){for(let e=this._subTrackers.length-1;e>=0;e--)if(!this._subTrackers[e].done){const t=this._subTrackers[e].caption;if(t)return t}return this._selfCaption}setCaption(e){this._selfCaption=e,this.notifyProgress()}get done(){return this.progress+J>=100}get progress(){if(this._selfDone)return 100;const e=this._subTrackers.reduce(((e,t)=>e+t.progress*t.weight),this._selfProgress*this._selfWeight);return Math.round(1e4*e)/1e4}get weight(){return this._weight}get observer(){return this._progressObserver||(this._progressObserver=e=>{this.set(e)}),this._progressObserver}get loadingListener(){return this._loadingListener||(this._loadingListener=e=>{this.set(e.detail.loaded/e.detail.total*100)}),this._loadingListener}pipe(e){e.setProgress({progress:this.progress,caption:this.caption}),this.addEventListener("progress",(t=>{e.setProgress({progress:t.detail.progress,caption:t.detail.caption})})),this.addEventListener("done",(()=>{e.setLoaded()}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}notifyProgress(){const e=this;this.dispatchEvent(new CustomEvent("progress",{detail:{get progress(){return e.progress},get caption(){return e.caption}}}))}notifyDone(){this.dispatchEvent(new CustomEvent("done"))}}const K={0:"No error occurred. System call completed successfully.",1:"Argument list too long.",2:"Permission denied.",3:"Address in use.",4:"Address not available.",5:"Address family not supported.",6:"Resource unavailable, or operation would block.",7:"Connection already in progress.",8:"Bad file descriptor.",9:"Bad message.",10:"Device or resource busy.",11:"Operation canceled.",12:"No child processes.",13:"Connection aborted.",14:"Connection refused.",15:"Connection reset.",16:"Resource deadlock would occur.",17:"Destination address required.",18:"Mathematics argument out of domain of function.",19:"Reserved.",20:"File exists.",21:"Bad address.",22:"File too large.",23:"Host is unreachable.",24:"Identifier removed.",25:"Illegal byte sequence.",26:"Operation in progress.",27:"Interrupted function.",28:"Invalid argument.",29:"I/O error.",30:"Socket is connected.",31:"There is a directory under that path.",32:"Too many levels of symbolic links.",33:"File descriptor value too large.",34:"Too many links.",35:"Message too large.",36:"Reserved.",37:"Filename too long.",38:"Network is down.",39:"Connection aborted by network.",40:"Network unreachable.",41:"Too many files open in system.",42:"No buffer space available.",43:"No such device.",44:"There is no such file or directory OR the parent directory does not exist.",45:"Executable file format error.",46:"No locks available.",47:"Reserved.",48:"Not enough space.",49:"No message of the desired type.",50:"Protocol not available.",51:"No space left on device.",52:"Function not supported.",53:"The socket is not connected.",54:"Not a directory or a symbolic link to a directory.",55:"Directory not empty.",56:"State not recoverable.",57:"Not a socket.",58:"Not supported, or operation not supported on socket.",59:"Inappropriate I/O control operation.",60:"No such device or address.",61:"Value too large to be stored in data type.",62:"Previous owner died.",63:"Operation not permitted.",64:"Broken pipe.",65:"Protocol error.",66:"Protocol not supported.",67:"Protocol wrong type for socket.",68:"Result too large.",69:"Read-only file system.",70:"Invalid seek.",71:"No such process.",72:"Reserved.",73:"Connection timed out.",74:"Text file busy.",75:"Cross-device link.",76:"Extension: Capabilities insufficient."};function ee(e=""){return function(t,r,s){const n=s.value;s.value=function(...t){try{return n.apply(this,t)}catch(r){const s="object"==typeof r?null==r?void 0:r.errno:null;if(s in K){const n=K[s],i="string"==typeof t[1]?t[1]:null,o=null!==i?e.replaceAll("{path}",i):e;throw new Error(`${o}: ${n}`,{cause:r})}throw r}}}}var te=Object.defineProperty,re=Object.getOwnPropertyDescriptor,se=(e,t,r,s)=>{for(var n,i=s>1?void 0:s?re(t,r):t,o=e.length-1;o>=0;o--)(n=e[o])&&(i=(s?n(t,r,i):n(i))||i);return s&&i&&te(t,r,i),i};const ne=class e{static readFileAsText(t,r){return(new TextDecoder).decode(e.readFileAsBuffer(t,r))}static readFileAsBuffer(e,t){return e.readFile(t)}static writeFile(e,t,r){e.writeFile(t,r)}static unlink(e,t){e.unlink(t)}static mv(t,r,s){try{const n=t.lookupPath(r).node.mount,i=e.fileExists(t,s)?t.lookupPath(s).node.mount:t.lookupPath(l(s)).node.mount;n.mountpoint!==i.mountpoint?(e.copyRecursive(t,r,s),e.rmdir(t,r,{recursive:!0})):t.rename(r,s)}catch(n){const e=function(e){const t="object"==typeof e?null==e?void 0:e.errno:null;if(t in K)return K[t]}(n);throw e?new Error(`Could not move ${r} to ${s}: ${e}`,{cause:n}):n}}static rmdir(t,r,s={recursive:!0}){null!=s&&s.recursive&&e.listFiles(t,r).forEach((n=>{const i=`${r}/${n}`;e.isDir(t,i)?e.rmdir(t,i,s):e.unlink(t,i)})),t.rmdir(r)}static listFiles(t,r,s={prependPath:!1}){if(!e.fileExists(t,r))return[];try{const e=t.readdir(r).filter((e=>"."!==e&&".."!==e));if(s.prependPath){const t=r.replace(/\/$/,"");return e.map((e=>`${t}/${e}`))}return e}catch(n){return k.error(n,{path:r}),[]}}static isDir(t,r){return!!e.fileExists(t,r)&&t.isDir(t.lookupPath(r).node.mode)}static isFile(t,r){return!!e.fileExists(t,r)&&t.isFile(t.lookupPath(r).node.mode)}static fileExists(e,t){try{return e.lookupPath(t),!0}catch{return!1}}static mkdir(e,t){e.mkdirTree(t)}static copyRecursive(t,r,s){const n=t.lookupPath(r).node;if(t.isDir(n.mode)){t.mkdirTree(s);const n=t.readdir(r).filter((e=>"."!==e&&".."!==e));for(const i of n)e.copyRecursive(t,d(r,i),d(s,i))}else t.writeFile(s,t.readFile(r))}};se([ee('Could not read "{path}"')],ne,"readFileAsText",1),se([ee('Could not read "{path}"')],ne,"readFileAsBuffer",1),se([ee('Could not write to "{path}"')],ne,"writeFile",1),se([ee('Could not unlink "{path}"')],ne,"unlink",1),se([ee('Could not remove directory "{path}"')],ne,"rmdir",1),se([ee('Could not list files in "{path}"')],ne,"listFiles",1),se([ee('Could not stat "{path}"')],ne,"isDir",1),se([ee('Could not stat "{path}"')],ne,"fileExists",1),se([ee('Could not create directory "{path}"')],ne,"mkdir",1),se([ee('Could not copy files from "{path}"')],ne,"copyRecursive",1);const ie={500:"Internal Server Error",502:"Bad Gateway",404:"Not Found",403:"Forbidden",401:"Unauthorized",400:"Bad Request",301:"Moved Permanently",302:"Found",307:"Temporary Redirect",308:"Permanent Redirect",204:"No Content",201:"Created",200:"OK"};class oe{constructor(e,t,r,s="",n=0){this.httpStatusCode=e,this.headers=t,this.bytes=r,this.exitCode=n,this.errors=s}static forHttpCode(e,t=""){return new oe(e,{},(new TextEncoder).encode(t||ie[e]||""))}static fromRawData(e){return new oe(e.httpStatusCode,e.headers,e.bytes,e.errors,e.exitCode)}toRawData(){return{headers:this.headers,bytes:this.bytes,errors:this.errors,exitCode:this.exitCode,httpStatusCode:this.httpStatusCode}}get json(){return JSON.parse(this.text)}get text(){return(new TextDecoder).decode(this.bytes)}}!function(){var e;typeof process<"u"&&"node"===(null==(e=process.release)?void 0:e.name)||(typeof window<"u"||typeof WorkerGlobalScope<"u"&&(self,WorkerGlobalScope))}();const{hasOwnProperty:ae}=Object.prototype;ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=async function*(){const e=this.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)return;yield r}}finally{e.releaseLock()}},ReadableStream.prototype.iterate=ReadableStream.prototype[Symbol.asyncIterator]);const pe=["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"],ce=pe[0],de=["iconv","mbstring","xml-bundle","gd"],le={"kitchen-sink":de,light:[]},ue=["vfs","literal","wordpress.org/themes","wordpress.org/plugins","url"];function he(e){return e&&"object"==typeof e&&"string"==typeof e.resource&&ue.includes(e.resource)}class fe{static create(e,{semaphore:t,progress:r}){let s;switch(e.resource){case"vfs":s=new me(e,r);break;case"literal":s=new ye(e,r);break;case"wordpress.org/themes":s=new we(e,r);break;case"wordpress.org/plugins":s=new ve(e,r);break;case"url":s=new be(e,r);break;default:throw new Error(`Invalid resource: ${e}`)}return s=new _e(s),t&&(s=new Ee(s,t)),s}setPlayground(e){this.playground=e}get isAsync(){return!1}}class me extends fe{constructor(e,t){super(),this.resource=e,this.progress=t}async resolve(){var e;const t=await this.playground.readFileAsBuffer(this.resource.path);return null==(e=this.progress)||e.set(100),new File([t],this.name)}get name(){return this.resource.path.split("/").pop()||""}}class ye extends fe{constructor(e,t){super(),this.resource=e,this.progress=t}async resolve(){var e;return null==(e=this.progress)||e.set(100),new File([this.resource.contents],this.resource.name)}get name(){return this.resource.name}}class ge extends fe{constructor(e){super(),this.progress=e}async resolve(){var e,t;null==(e=this.progress)||e.setCaption(this.caption);const r=this.getURL();try{let e=await fetch(r);if(!e.ok)throw new Error(`Could not download "${r}"`);if(e=await function(e,t){const r=e.headers.get("content-length")||"",s=parseInt(r,10)||5242880;function n(e,r){t(new CustomEvent("progress",{detail:{loaded:e,total:r}}))}return new Response(new ReadableStream({async start(t){if(!e.body)return void t.close();const r=e.body.getReader();let i=0;for(;;)try{const{done:e,value:o}=await r.read();if(o&&(i+=o.byteLength),e){n(i,i),t.close();break}n(i,s),t.enqueue(o)}catch(o){k.error({e:o}),t.error(o);break}}}),{status:e.status,statusText:e.statusText,headers:e.headers})}(e,(null==(t=this.progress)?void 0:t.loadingListener)??Pe),200!==e.status)throw new Error(`Could not download "${r}"`);return new File([await e.blob()],this.name)}catch(s){throw new Error(`Could not download "${r}".\n\t\t\t\tCheck if the URL is correct and the server is reachable.\n\t\t\t\tIf it is reachable, the server might be blocking the request.\n\t\t\t\tCheck the browser console and network tabs for more information.\n\n\t\t\t\t## Does the console show the error "No 'Access-Control-Allow-Origin' header"?\n\n\t\t\t\tThis means the server that hosts your file does not allow requests from other sites\n\t\t\t\t(cross-origin requests, or CORS).\tYou need to move the asset to a server that allows\n\t\t\t\tcross-origin file downloads. Learn more about CORS at\n\t\t\t\thttps://developer.mozilla.org/en-US/docs/Web/HTTP/CORS.\n\n\t\t\t\tIf your file is on GitHub, load it from "raw.githubusercontent.com".\n\t\t\t\tHere's how to do that:\n\n\t\t\t\t1. Start with the original GitHub URL of the file. For example:\n\t\t\t\thttps://github.com/username/repository/blob/branch/filename.\n\t\t\t\t2. Replace "github.com" with "raw.githubusercontent.com".\n\t\t\t\t3. Remove the "/blob/" part of the URL.\n\n\t\t\t\tThe resulting URL should look like this:\n\t\t\t\thttps://raw.githubusercontent.com/username/repository/branch/filename\n\n\t\t\t\tError:\n\t\t\t\t${s}`)}}get caption(){return`Downloading ${this.name}`}get name(){try{return new URL(this.getURL(),"http://example.com").pathname.split("/").pop()}catch{return this.getURL()}}get isAsync(){return!0}}const Pe=()=>{};class be extends ge{constructor(e,t){super(t),this.resource=e}getURL(){return this.resource.url}get caption(){return this.resource.caption??super.caption}}class we extends ge{constructor(e,t){super(t),this.resource=e}get name(){return H(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/theme/${ke(this.resource.slug)}`}}class ve extends ge{constructor(e,t){super(t),this.resource=e}get name(){return H(this.resource.slug)}getURL(){return`https://downloads.wordpress.org/plugin/${ke(this.resource.slug)}`}}function ke(e){return!e||e.endsWith(".zip")?e:e+".latest-stable.zip"}class Oe extends fe{constructor(e){super(),this.resource=e}async resolve(){return this.resource.resolve()}async setPlayground(e){return this.resource.setPlayground(e)}get progress(){return this.resource.progress}set progress(e){this.resource.progress=e}get name(){return this.resource.name}get isAsync(){return this.resource.isAsync}}class _e extends Oe{async resolve(){return this.promise||(this.promise=super.resolve()),this.promise}}class Ee extends Oe{constructor(e,t){super(e),this.semaphore=t}async resolve(){return this.isAsync?this.semaphore.run((()=>super.resolve())):super.resolve()}}const $e={type:"object",properties:{landingPage:{type:"string",description:"The URL to navigate to after the blueprint has been run."},description:{type:"string",description:"Optional description. It doesn't do anything but is exposed as a courtesy to developers who may want to document which blueprint file does what.",deprecated:"Use meta.description instead."},meta:{type:"object",properties:{title:{type:"string",description:"A clear and concise name for your Blueprint."},description:{type:"string",description:"A brief explanation of what your Blueprint offers."},author:{type:"string",description:"A GitHub username of the author of this Blueprint."},categories:{type:"array",items:{type:"string"},description:"Relevant categories to help users find your Blueprint in the future Blueprints section on WordPress.org."}},required:["title","author"],additionalProperties:!1,description:"Optional metadata. Used by the Blueprints gallery at https://github.com/WordPress/blueprints"},preferredVersions:{type:"object",properties:{php:{anyOf:[{$ref:"#/definitions/SupportedPHPVersion"},{type:"string",const:"latest"}],description:"The preferred PHP version to use. If not specified, the latest supported version will be used"},wp:{type:"string",description:"The preferred WordPress version to use. If not specified, the latest supported version will be used"}},required:["php","wp"],additionalProperties:!1,description:"The preferred PHP and WordPress versions to use."},features:{type:"object",properties:{networking:{type:"boolean",description:"Should boot with support for network request via wp_safe_remote_get?"}},additionalProperties:!1},extraLibraries:{type:"array",items:{$ref:"#/definitions/ExtraLibrary"},description:"Extra libraries to preload into the Playground instance."},constants:{type:"object",additionalProperties:{type:"string"},description:"PHP Constants to define on every request"},plugins:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/definitions/FileReference"}]},description:"WordPress plugins to install and activate"},siteOptions:{type:"object",additionalProperties:{type:"string"},properties:{blogname:{type:"string",description:"The site title"}},description:"WordPress site options to define"},login:{anyOf:[{type:"boolean"},{type:"object",properties:{username:{type:"string"},password:{type:"string"}},required:["username","password"],additionalProperties:!1}],description:"User to log in as. If true, logs the user in as admin/password."},phpExtensionBundles:{type:"array",items:{$ref:"#/definitions/SupportedPHPExtensionBundle"},description:"The PHP extensions to use."},steps:{type:"array",items:{anyOf:[{$ref:"#/definitions/StepDefinition"},{type:"string"},{not:{}},{type:"boolean",const:!1},{type:"null"}]},description:"The steps to run after every other operation in this Blueprint was executed."},$schema:{type:"string"}},additionalProperties:!1},Te={type:"string",enum:["8.3","8.2","8.1","8.0","7.4","7.3","7.2","7.1","7.0"]},je={type:"string",enum:["kitchen-sink","light"]},Ae=Object.prototype.hasOwnProperty;function qe(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;const a=o;let p=!1;const c=o;if(o==o)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.resource&&(r="resource")||void 0===e.path&&(r="path")){const e={instancePath:t,schemaPath:"#/definitions/VFSReference/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("resource"!==s&&"path"!==s){const e={instancePath:t,schemaPath:"#/definitions/VFSReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.resource){let r=e.resource;const s=o;if("string"!=typeof r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("vfs"!==r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/VFSReference/properties/resource/const",keyword:"const",params:{allowedValue:"vfs"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}var d=s===o}else d=!0;if(d)if(void 0!==e.path){const r=o;if("string"!=typeof e.path){const e={instancePath:t+"/path",schemaPath:"#/definitions/VFSReference/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}d=r===o}else d=!0}}}else{const e={instancePath:t,schemaPath:"#/definitions/VFSReference/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}var l=c===o;if(p=p||l,!p){const r=o;if(o==o)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.resource&&(r="resource")||void 0===e.name&&(r="name")||void 0===e.contents&&(r="contents")){const e={instancePath:t,schemaPath:"#/definitions/LiteralReference/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("resource"!==s&&"name"!==s&&"contents"!==s){const e={instancePath:t,schemaPath:"#/definitions/LiteralReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.resource){let r=e.resource;const s=o;if("string"!=typeof r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("literal"!==r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/LiteralReference/properties/resource/const",keyword:"const",params:{allowedValue:"literal"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}var u=s===o}else u=!0;if(u){if(void 0!==e.name){const r=o;if("string"!=typeof e.name){const e={instancePath:t+"/name",schemaPath:"#/definitions/LiteralReference/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}u=r===o}else u=!0;if(u)if(void 0!==e.contents){let r=e.contents;const s=o,n=o;let a=!1;const p=o;if("string"!=typeof r){const e={instancePath:t+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var h=p===o;if(a=a||h,!a){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.BYTES_PER_ELEMENT&&(e="BYTES_PER_ELEMENT")||void 0===r.buffer&&(e="buffer")||void 0===r.byteLength&&(e="byteLength")||void 0===r.byteOffset&&(e="byteOffset")||void 0===r.length&&(e="length")){const r={instancePath:t+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const s in r)if("BYTES_PER_ELEMENT"!==s&&"buffer"!==s&&"byteLength"!==s&&"byteOffset"!==s&&"length"!==s){let e=r[s];const n=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/contents/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}if(!(n===o))break}if(e===o){if(void 0!==r.BYTES_PER_ELEMENT){let e=r.BYTES_PER_ELEMENT;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/contents/BYTES_PER_ELEMENT",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var f=s===o}else f=!0;if(f){if(void 0!==r.buffer){let e=r.buffer;const s=o;if(o===s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.byteLength&&(r="byteLength")){const e={instancePath:t+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("byteLength"!==s){const e={instancePath:t+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o&&void 0!==e.byteLength){let r=e.byteLength;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/contents/buffer/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t+"/contents/buffer",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}f=s===o}else f=!0;if(f){if(void 0!==r.byteLength){let e=r.byteLength;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/contents/byteLength",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}f=s===o}else f=!0;if(f){if(void 0!==r.byteOffset){let e=r.byteOffset;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/contents/byteOffset",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}f=s===o}else f=!0;if(f)if(void 0!==r.length){let e=r.length;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/contents/length",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}f=s===o}else f=!0}}}}}}else{const e={instancePath:t+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}h=e===o;a=a||h}if(a)o=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/contents",schemaPath:"#/definitions/LiteralReference/properties/contents/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===i?i=[e]:i.push(e),o++}u=s===o}else u=!0}}}}else{const e={instancePath:t,schemaPath:"#/definitions/LiteralReference/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}l=r===o;if(p=p||l,!p){const r=o;if(o==o)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.resource&&(r="resource")||void 0===e.slug&&(r="slug")){const e={instancePath:t,schemaPath:"#/definitions/CoreThemeReference/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("resource"!==s&&"slug"!==s){const e={instancePath:t,schemaPath:"#/definitions/CoreThemeReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.resource){let r=e.resource;const s=o;if("string"!=typeof r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("wordpress.org/themes"!==r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/CoreThemeReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/themes"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}var m=s===o}else m=!0;if(m)if(void 0!==e.slug){const r=o;if("string"!=typeof e.slug){const e={instancePath:t+"/slug",schemaPath:"#/definitions/CoreThemeReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}m=r===o}else m=!0}}}else{const e={instancePath:t,schemaPath:"#/definitions/CoreThemeReference/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}l=r===o;if(p=p||l,!p){const r=o;if(o==o)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.resource&&(r="resource")||void 0===e.slug&&(r="slug")){const e={instancePath:t,schemaPath:"#/definitions/CorePluginReference/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("resource"!==s&&"slug"!==s){const e={instancePath:t,schemaPath:"#/definitions/CorePluginReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.resource){let r=e.resource;const s=o;if("string"!=typeof r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("wordpress.org/plugins"!==r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/CorePluginReference/properties/resource/const",keyword:"const",params:{allowedValue:"wordpress.org/plugins"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}var y=s===o}else y=!0;if(y)if(void 0!==e.slug){const r=o;if("string"!=typeof e.slug){const e={instancePath:t+"/slug",schemaPath:"#/definitions/CorePluginReference/properties/slug/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}y=r===o}else y=!0}}}else{const e={instancePath:t,schemaPath:"#/definitions/CorePluginReference/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}l=r===o;if(p=p||l,!p){const r=o;if(o==o)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.resource&&(r="resource")||void 0===e.url&&(r="url")){const e={instancePath:t,schemaPath:"#/definitions/UrlReference/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("resource"!==s&&"url"!==s&&"caption"!==s){const e={instancePath:t,schemaPath:"#/definitions/UrlReference/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.resource){let r=e.resource;const s=o;if("string"!=typeof r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("url"!==r){const e={instancePath:t+"/resource",schemaPath:"#/definitions/UrlReference/properties/resource/const",keyword:"const",params:{allowedValue:"url"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}var g=s===o}else g=!0;if(g){if(void 0!==e.url){const r=o;if("string"!=typeof e.url){const e={instancePath:t+"/url",schemaPath:"#/definitions/UrlReference/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}g=r===o}else g=!0;if(g)if(void 0!==e.caption){const r=o;if("string"!=typeof e.caption){const e={instancePath:t+"/caption",schemaPath:"#/definitions/UrlReference/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}g=r===o}else g=!0}}}}else{const e={instancePath:t,schemaPath:"#/definitions/UrlReference/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}l=r===o;p=p||l}}}}if(!p){const e={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,qe.errors=i,!1}return o=a,null!==i&&(a?i.length=a:i=null),qe.errors=i,0===o}const Re={type:"object",discriminator:{propertyName:"step"},required:["step"],oneOf:[{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activatePlugin"},pluginPath:{type:"string",description:"Path to the plugin directory as absolute path (/wordpress/wp-content/plugins/plugin-name); or the plugin entry file relative to the plugins directory (plugin-name/plugin-name.php)."},pluginName:{type:"string",description:"Optional. Plugin name to display in the progress bar."}},required:["pluginPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"activateTheme"},themeFolderName:{type:"string",description:"The name of the theme folder inside wp-content/themes/"}},required:["step","themeFolderName"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"cp"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineWpConfigConsts"},consts:{type:"object",additionalProperties:{},description:"The constants to define"},method:{type:"string",enum:["rewrite-wp-config","define-before-run"],description:"The method of defining the constants in wp-config.php. Possible values are:\n\n- rewrite-wp-config: Default. Rewrites the wp-config.php file to                      explicitly call define() with the requested                      name and value. This method alters the file                      on the disk, but it doesn't conflict with                      existing define() calls in wp-config.php.\n\n- define-before-run: Defines the constant before running the requested                      script. It doesn't alter any files on the disk, but                      constants defined this way may conflict with existing                      define() calls in wp-config.php."},virtualize:{type:"boolean",deprecated:"This option is noop and will be removed in a future version.\nThis option is only kept in here to avoid breaking Blueprint schema validation\nfor existing apps using this option."}},required:["consts","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"defineSiteUrl"},siteUrl:{type:"string",description:"The URL"}},required:["siteUrl","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"enableMultisite"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWxr"},file:{$ref:"#/definitions/FileReference",description:"The file to import"}},required:["file","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importThemeStarterContent",description:"The step identifier."},themeSlug:{type:"string",description:"The name of the theme to import content from."}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"importWordPressFiles"},wordPressFilesZip:{$ref:"#/definitions/FileReference",description:"The zip file containing the top-level WordPress files and directories."},pathInZip:{type:"string",description:"The path inside the zip file where the WordPress files are."}},required:["step","wordPressFilesZip"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installPlugin",description:"The step identifier."},pluginZipFile:{$ref:"#/definitions/FileReference",description:"The plugin zip file to install."},options:{$ref:"#/definitions/InstallPluginOptions",description:"Optional installation options."}},required:["pluginZipFile","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},ifAlreadyInstalled:{type:"string",enum:["overwrite","skip","error"],description:"What to do if the asset already exists."},step:{type:"string",const:"installTheme",description:"The step identifier."},themeZipFile:{$ref:"#/definitions/FileReference",description:"The theme zip file to install."},options:{type:"object",properties:{activate:{type:"boolean",description:"Whether to activate the theme after installing it."},importStarterContent:{type:"boolean",description:"Whether to import the theme's starter content after installing it."}},additionalProperties:!1,description:"Optional installation options."}},required:["step","themeZipFile"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"login"},username:{type:"string",description:"The user to log in as. Defaults to 'admin'."},password:{type:"string",description:"The password to log in with. Defaults to 'password'."}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mkdir"},path:{type:"string",description:"The path of the directory you want to create"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"mv"},fromPath:{type:"string",description:"Source path"},toPath:{type:"string",description:"Target path"}},required:["fromPath","step","toPath"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"resetData"}},required:["step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"request"},request:{$ref:"#/definitions/PHPRequest",description:"Request details (See /wordpress-playground/api/universal/interface/PHPRequest)"}},required:["request","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rm"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"rmdir"},path:{type:"string",description:"The path to remove"}},required:["path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHP",description:"The step identifier."},code:{type:"string",description:"The PHP code to run."}},required:["code","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runPHPWithOptions"},options:{$ref:"#/definitions/PHPRunOptions",description:"Run options (See /wordpress-playground/api/universal/interface/PHPRunOptions/))"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runWpInstallationWizard"},options:{$ref:"#/definitions/WordPressInstallationOptions"}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"runSql",description:"The step identifier."},sql:{$ref:"#/definitions/FileReference",description:"The SQL to run. Each non-empty line must contain a valid SQL query."}},required:["sql","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteOptions",description:'The name of the step. Must be "setSiteOptions".'},options:{type:"object",additionalProperties:{},description:"The options to set on the site."}},required:["options","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"unzip"},zipFile:{$ref:"#/definitions/FileReference",description:"The zip file to extract"},zipPath:{type:"string",description:"The path of the zip file to extract",deprecated:"Use zipFile instead."},extractToPath:{type:"string",description:"The path to extract the zip file to"}},required:["extractToPath","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"updateUserMeta"},meta:{type:"object",additionalProperties:{},description:'An object of user meta values to set, e.g. { "first_name": "John" }'},userId:{type:"number",description:"User ID"}},required:["meta","step","userId"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"writeFile"},path:{type:"string",description:"The path of the file to write to"},data:{anyOf:[{$ref:"#/definitions/FileReference"},{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"The data to write"}},required:["data","path","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"wp-cli",description:"The step identifier."},command:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"The WP CLI command to run."},wpCliPath:{type:"string",description:"wp-cli.phar path"}},required:["command","step"]},{type:"object",additionalProperties:!1,properties:{progress:{type:"object",properties:{weight:{type:"number"},caption:{type:"string"}},additionalProperties:!1},step:{type:"string",const:"setSiteLanguage"},language:{type:"string",description:"The language to set, e.g. 'en_US'"}},required:["language","step"]}]},Se={type:"string",enum:["GET","POST","HEAD","OPTIONS","PATCH","PUT","DELETE"]};function Le(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return Le.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.url&&(r="url"))return Le.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("method"!==s&&"url"!==s&&"headers"!==s&&"body"!==s)return Le.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.method){let r=e.method;const s=o;if("string"!=typeof r)return Le.errors=[{instancePath:t+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("GET"!==r&&"POST"!==r&&"HEAD"!==r&&"OPTIONS"!==r&&"PATCH"!==r&&"PUT"!==r&&"DELETE"!==r)return Le.errors=[{instancePath:t+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:Se.enum},message:"must be equal to one of the allowed values"}],!1;var a=s===o}else a=!0;if(a){if(void 0!==e.url){const r=o;if("string"!=typeof e.url)return Le.errors=[{instancePath:t+"/url",schemaPath:"#/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0;if(a){if(void 0!==e.headers){let r=e.headers;const s=o;if(o==o){if(!r||"object"!=typeof r||Array.isArray(r))return Le.errors=[{instancePath:t+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r){const s=o;if("string"!=typeof r[e])return Le.errors=[{instancePath:t+"/headers/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(s===o))break}}a=s===o}else a=!0;if(a)if(void 0!==e.body){let r=e.body;const s=o,n=o;let h=!1;const f=o;if("string"!=typeof r){const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var p=f===o;if(h=h||p,!h){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.BYTES_PER_ELEMENT&&(e="BYTES_PER_ELEMENT")||void 0===r.buffer&&(e="buffer")||void 0===r.byteLength&&(e="byteLength")||void 0===r.byteOffset&&(e="byteOffset")||void 0===r.length&&(e="length")){const r={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const s in r)if("BYTES_PER_ELEMENT"!==s&&"buffer"!==s&&"byteLength"!==s&&"byteOffset"!==s&&"length"!==s){let e=r[s];const n=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}if(!(n===o))break}if(e===o){if(void 0!==r.BYTES_PER_ELEMENT){let e=r.BYTES_PER_ELEMENT;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var c=s===o}else c=!0;if(c){if(void 0!==r.buffer){let e=r.buffer;const s=o;if(o===s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.byteLength&&(r="byteLength")){const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("byteLength"!==s){const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o&&void 0!==e.byteLength){let r=e.byteLength;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c){if(void 0!==r.byteLength){let e=r.byteLength;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c){if(void 0!==r.byteOffset){let e=r.byteOffset;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c)if(void 0!==r.length){let e=r.length;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0}}}}}}else{const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}p=e===o;if(h=h||p,!h){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r))for(const s in r){let e=r[s];const n=o,a=o;let p=!1;const c=o;if("string"!=typeof e){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var d=c===o;if(p=p||d,!p){const r=o;if(o===r)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.BYTES_PER_ELEMENT&&(r="BYTES_PER_ELEMENT")||void 0===e.buffer&&(r="buffer")||void 0===e.byteLength&&(r="byteLength")||void 0===e.byteOffset&&(r="byteOffset")||void 0===e.length&&(r="length")){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const n in e)if("BYTES_PER_ELEMENT"!==n&&"buffer"!==n&&"byteLength"!==n&&"byteOffset"!==n&&"length"!==n){let r=e[n];const a=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}if(!(a===o))break}if(r===o){if(void 0!==e.BYTES_PER_ELEMENT){let r=e.BYTES_PER_ELEMENT;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var l=n===o}else l=!0;if(l){if(void 0!==e.buffer){let r=e.buffer;const n=o;if(o===n)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.byteLength&&(e="byteLength")){const r={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const n in r)if("byteLength"!==n){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(e===o&&void 0!==r.byteLength){let e=r.byteLength;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/buffer",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}l=n===o}else l=!0;if(l){if(void 0!==e.byteLength){let r=e.byteLength;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteLength",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}l=n===o}else l=!0;if(l){if(void 0!==e.byteOffset){let r=e.byteOffset;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/byteOffset",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}l=n===o}else l=!0;if(l)if(void 0!==e.length){let r=e.length;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/length",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}l=n===o}else l=!0}}}}}}else{const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}d=r===o;if(p=p||d,!p){const r=o;if(o===r)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.lastModified&&(r="lastModified")||void 0===e.name&&(r="name")||void 0===e.size&&(r="size")||void 0===e.type&&(r="type")||void 0===e.webkitRelativePath&&(r="webkitRelativePath")){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const n in e)if("size"!==n&&"type"!==n&&"lastModified"!==n&&"name"!==n&&"webkitRelativePath"!==n){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o){if(void 0!==e.size){let r=e.size;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/size",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/size/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var u=n===o}else u=!0;if(u){if(void 0!==e.type){const r=o;if("string"!=typeof e.type){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}u=r===o}else u=!0;if(u){if(void 0!==e.lastModified){let r=e.lastModified;const n=o;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/lastModified",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/lastModified/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}u=n===o}else u=!0;if(u){if(void 0!==e.name){const r=o;if("string"!=typeof e.name){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}u=r===o}else u=!0;if(u)if(void 0!==e.webkitRelativePath){const r=o;if("string"!=typeof e.webkitRelativePath){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1")+"/webkitRelativePath",schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/properties/webkitRelativePath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}u=r===o}else u=!0}}}}}}else{const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}d=r===o;p=p||d}}if(p)o=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/2/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};null===i?i=[e]:i.push(e),o++}if(!(n===o))break}else{const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}p=e===o;h=h||p}}if(!h){const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Le.errors=i,!1}o=n,null!==i&&(n?i.length=n:i=null);a=s===o}else a=!0}}}}}}return Le.errors=i,0===o}const xe={type:"object",properties:{relativeUri:{type:"string",description:"Request path following the domain:port part."},scriptPath:{type:"string",description:"Path of the .php file to execute."},protocol:{type:"string",description:"Request protocol."},method:{$ref:"#/definitions/HTTPMethod",description:"Request method. Default: `GET`."},headers:{$ref:"#/definitions/PHPRequestHeaders",description:"Request headers."},body:{anyOf:[{type:"string"},{type:"object",properties:{BYTES_PER_ELEMENT:{type:"number"},buffer:{type:"object",properties:{byteLength:{type:"number"}},required:["byteLength"],additionalProperties:!1},byteLength:{type:"number"},byteOffset:{type:"number"},length:{type:"number"}},required:["BYTES_PER_ELEMENT","buffer","byteLength","byteOffset","length"],additionalProperties:{type:"number"}}],description:"Request body."},env:{type:"object",additionalProperties:{type:"string"},description:"Environment variables to set for this run."},$_SERVER:{type:"object",additionalProperties:{type:"string"},description:"$_SERVER entries to set for this run."},code:{type:"string",description:"The code snippet to eval instead of a php file."}},additionalProperties:!1};function Fe(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return Fe.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=o;for(const s in e)if(!Ae.call(xe.properties,s))return Fe.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.relativeUri){const r=o;if("string"!=typeof e.relativeUri)return Fe.errors=[{instancePath:t+"/relativeUri",schemaPath:"#/properties/relativeUri/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===o}else a=!0;if(a){if(void 0!==e.scriptPath){const r=o;if("string"!=typeof e.scriptPath)return Fe.errors=[{instancePath:t+"/scriptPath",schemaPath:"#/properties/scriptPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0;if(a){if(void 0!==e.protocol){const r=o;if("string"!=typeof e.protocol)return Fe.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0;if(a){if(void 0!==e.method){let r=e.method;const s=o;if("string"!=typeof r)return Fe.errors=[{instancePath:t+"/method",schemaPath:"#/definitions/HTTPMethod/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("GET"!==r&&"POST"!==r&&"HEAD"!==r&&"OPTIONS"!==r&&"PATCH"!==r&&"PUT"!==r&&"DELETE"!==r)return Fe.errors=[{instancePath:t+"/method",schemaPath:"#/definitions/HTTPMethod/enum",keyword:"enum",params:{allowedValues:Se.enum},message:"must be equal to one of the allowed values"}],!1;a=s===o}else a=!0;if(a){if(void 0!==e.headers){let r=e.headers;const s=o;if(o==o){if(!r||"object"!=typeof r||Array.isArray(r))return Fe.errors=[{instancePath:t+"/headers",schemaPath:"#/definitions/PHPRequestHeaders/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r){const s=o;if("string"!=typeof r[e])return Fe.errors=[{instancePath:t+"/headers/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/PHPRequestHeaders/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(s===o))break}}a=s===o}else a=!0;if(a){if(void 0!==e.body){let r=e.body;const s=o,n=o;let d=!1;const l=o;if("string"!=typeof r){const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var p=l===o;if(d=d||p,!d){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.BYTES_PER_ELEMENT&&(e="BYTES_PER_ELEMENT")||void 0===r.buffer&&(e="buffer")||void 0===r.byteLength&&(e="byteLength")||void 0===r.byteOffset&&(e="byteOffset")||void 0===r.length&&(e="length")){const r={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/1/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const s in r)if("BYTES_PER_ELEMENT"!==s&&"buffer"!==s&&"byteLength"!==s&&"byteOffset"!==s&&"length"!==s){let e=r[s];const n=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/body/anyOf/1/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}if(!(n===o))break}if(e===o){if(void 0!==r.BYTES_PER_ELEMENT){let e=r.BYTES_PER_ELEMENT;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/BYTES_PER_ELEMENT",schemaPath:"#/properties/body/anyOf/1/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var c=s===o}else c=!0;if(c){if(void 0!==r.buffer){let e=r.buffer;const s=o;if(o===s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.byteLength&&(r="byteLength")){const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("byteLength"!==s){const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o&&void 0!==e.byteLength){let r=e.byteLength;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/body/buffer/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t+"/body/buffer",schemaPath:"#/properties/body/anyOf/1/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c){if(void 0!==r.byteLength){let e=r.byteLength;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/byteLength",schemaPath:"#/properties/body/anyOf/1/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c){if(void 0!==r.byteOffset){let e=r.byteOffset;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/byteOffset",schemaPath:"#/properties/body/anyOf/1/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0;if(c)if(void 0!==r.length){let e=r.length;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/body/length",schemaPath:"#/properties/body/anyOf/1/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}c=s===o}else c=!0}}}}}}else{const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}p=e===o;d=d||p}if(!d){const e={instancePath:t+"/body",schemaPath:"#/properties/body/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Fe.errors=i,!1}o=n,null!==i&&(n?i.length=n:i=null);a=s===o}else a=!0;if(a){if(void 0!==e.env){let r=e.env;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Fe.errors=[{instancePath:t+"/env",schemaPath:"#/properties/env/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r){const s=o;if("string"!=typeof r[e])return Fe.errors=[{instancePath:t+"/env/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/env/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(s===o))break}}a=s===o}else a=!0;if(a){if(void 0!==e.$_SERVER){let r=e.$_SERVER;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Fe.errors=[{instancePath:t+"/$_SERVER",schemaPath:"#/properties/%24_SERVER/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r){const s=o;if("string"!=typeof r[e])return Fe.errors=[{instancePath:t+"/$_SERVER/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24_SERVER/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(s===o))break}}a=s===o}else a=!0;if(a)if(void 0!==e.code){const r=o;if("string"!=typeof e.code)return Fe.errors=[{instancePath:t+"/code",schemaPath:"#/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0}}}}}}}}}}return Fe.errors=i,0===o}function Ne(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=e.step;if("string"!=typeof r)return Ne.errors=[{instancePath:t,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"tag",tag:"step",tagValue:r},message:'tag "step" must be string'}],!1;if("activatePlugin"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.pluginPath&&(r="pluginPath")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"pluginPath"!==s&&"pluginName"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/0/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/0/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/0/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var a=s===o}else a=!0;if(a)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/0/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=e===o}else a=!0}}}var p=s===o}else p=!0;if(p){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/0/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("activatePlugin"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/0/properties/step/const",keyword:"const",params:{allowedValue:"activatePlugin"},message:"must be equal to constant"}],!1;p=s===o}else p=!0;if(p){if(void 0!==e.pluginPath){const r=o;if("string"!=typeof e.pluginPath)return Ne.errors=[{instancePath:t+"/pluginPath",schemaPath:"#/oneOf/0/properties/pluginPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===o}else p=!0;if(p)if(void 0!==e.pluginName){const r=o;if("string"!=typeof e.pluginName)return Ne.errors=[{instancePath:t+"/pluginName",schemaPath:"#/oneOf/0/properties/pluginName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=r===o}else p=!0}}}}}}}else if("activateTheme"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step")||void 0===e.themeFolderName&&(r="themeFolderName"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"themeFolderName"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/1/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/1/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/1/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var c=s===o}else c=!0;if(c)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/1/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=e===o}else c=!0}}}var d=s===o}else d=!0;if(d){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/1/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("activateTheme"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/1/properties/step/const",keyword:"const",params:{allowedValue:"activateTheme"},message:"must be equal to constant"}],!1;d=s===o}else d=!0;if(d)if(void 0!==e.themeFolderName){const r=o;if("string"!=typeof e.themeFolderName)return Ne.errors=[{instancePath:t+"/themeFolderName",schemaPath:"#/oneOf/1/properties/themeFolderName/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=r===o}else d=!0}}}}}}else if("cp"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.fromPath&&(r="fromPath")||void 0===e.step&&(r="step")||void 0===e.toPath&&(r="toPath"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"fromPath"!==s&&"toPath"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/2/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/2/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/2/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/2/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var l=s===o}else l=!0;if(l)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/2/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=e===o}else l=!0}}}var u=s===o}else u=!0;if(u){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/2/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("cp"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/2/properties/step/const",keyword:"const",params:{allowedValue:"cp"},message:"must be equal to constant"}],!1;u=s===o}else u=!0;if(u){if(void 0!==e.fromPath){const r=o;if("string"!=typeof e.fromPath)return Ne.errors=[{instancePath:t+"/fromPath",schemaPath:"#/oneOf/2/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=r===o}else u=!0;if(u)if(void 0!==e.toPath){const r=o;if("string"!=typeof e.toPath)return Ne.errors=[{instancePath:t+"/toPath",schemaPath:"#/oneOf/2/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=r===o}else u=!0}}}}}}}else if("defineWpConfigConsts"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.consts&&(r="consts")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"consts"!==s&&"method"!==s&&"virtualize"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/3/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/3/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/3/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var h=s===o}else h=!0;if(h)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/3/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=e===o}else h=!0}}}var f=s===o}else f=!0;if(f){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/3/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("defineWpConfigConsts"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/3/properties/step/const",keyword:"const",params:{allowedValue:"defineWpConfigConsts"},message:"must be equal to constant"}],!1;f=s===o}else f=!0;if(f){if(void 0!==e.consts){let r=e.consts;const s=o;if(o===s&&(!r||"object"!=typeof r||Array.isArray(r)))return Ne.errors=[{instancePath:t+"/consts",schemaPath:"#/oneOf/3/properties/consts/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;f=s===o}else f=!0;if(f){if(void 0!==e.method){let r=e.method;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/method",schemaPath:"#/oneOf/3/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("rewrite-wp-config"!==r&&"define-before-run"!==r)return Ne.errors=[{instancePath:t+"/method",schemaPath:"#/oneOf/3/properties/method/enum",keyword:"enum",params:{allowedValues:Re.oneOf[3].properties.method.enum},message:"must be equal to one of the allowed values"}],!1;f=s===o}else f=!0;if(f)if(void 0!==e.virtualize){const r=o;if("boolean"!=typeof e.virtualize)return Ne.errors=[{instancePath:t+"/virtualize",schemaPath:"#/oneOf/3/properties/virtualize/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;f=r===o}else f=!0}}}}}}}}else if("defineSiteUrl"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/4/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.siteUrl&&(r="siteUrl")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/4/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"siteUrl"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/4/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/4/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/4/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/4/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var m=s===o}else m=!0;if(m)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/4/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;m=e===o}else m=!0}}}var y=s===o}else y=!0;if(y){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/4/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("defineSiteUrl"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/4/properties/step/const",keyword:"const",params:{allowedValue:"defineSiteUrl"},message:"must be equal to constant"}],!1;y=s===o}else y=!0;if(y)if(void 0!==e.siteUrl){const r=o;if("string"!=typeof e.siteUrl)return Ne.errors=[{instancePath:t+"/siteUrl",schemaPath:"#/oneOf/4/properties/siteUrl/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===o}else y=!0}}}}}}else if("enableMultisite"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/5/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/5/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/5/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/5/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/5/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/5/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var g=s===o}else g=!0;if(g)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/5/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;g=e===o}else g=!0}}}var P=s===o}else P=!0;if(P)if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/5/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("enableMultisite"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/5/properties/step/const",keyword:"const",params:{allowedValue:"enableMultisite"},message:"must be equal to constant"}],!1;P=s===o}else P=!0}}}}}else if("importWxr"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/6/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.file&&(r="file")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/6/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"file"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/6/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/6/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/6/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/6/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var b=s===o}else b=!0;if(b)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/6/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=e===o}else b=!0}}}var w=s===o}else w=!0;if(w){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/6/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("importWxr"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/6/properties/step/const",keyword:"const",params:{allowedValue:"importWxr"},message:"must be equal to constant"}],!1;w=s===o}else w=!0;if(w)if(void 0!==e.file){const r=o;qe(e.file,{instancePath:t+"/file",parentData:e,parentDataProperty:"file",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);w=r===o}else w=!0}}}}}}else if("importThemeStarterContent"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/7/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/7/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"themeSlug"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/7/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/7/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/7/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/7/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var v=s===o}else v=!0;if(v)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/7/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;v=e===o}else v=!0}}}var k=s===o}else k=!0;if(k){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/7/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("importThemeStarterContent"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/7/properties/step/const",keyword:"const",params:{allowedValue:"importThemeStarterContent"},message:"must be equal to constant"}],!1;k=s===o}else k=!0;if(k)if(void 0!==e.themeSlug){const r=o;if("string"!=typeof e.themeSlug)return Ne.errors=[{instancePath:t+"/themeSlug",schemaPath:"#/oneOf/7/properties/themeSlug/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=r===o}else k=!0}}}}}}else if("importWordPressFiles"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/8/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step")||void 0===e.wordPressFilesZip&&(r="wordPressFilesZip"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/8/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"wordPressFilesZip"!==s&&"pathInZip"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/8/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/8/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/8/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/8/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var O=s===o}else O=!0;if(O)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/8/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;O=e===o}else O=!0}}}var _=s===o}else _=!0;if(_){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/8/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("importWordPressFiles"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/8/properties/step/const",keyword:"const",params:{allowedValue:"importWordPressFiles"},message:"must be equal to constant"}],!1;_=s===o}else _=!0;if(_){if(void 0!==e.wordPressFilesZip){const r=o;qe(e.wordPressFilesZip,{instancePath:t+"/wordPressFilesZip",parentData:e,parentDataProperty:"wordPressFilesZip",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);_=r===o}else _=!0;if(_)if(void 0!==e.pathInZip){const r=o;if("string"!=typeof e.pathInZip)return Ne.errors=[{instancePath:t+"/pathInZip",schemaPath:"#/oneOf/8/properties/pathInZip/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;_=r===o}else _=!0}}}}}}}else if("installPlugin"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/9/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.pluginZipFile&&(r="pluginZipFile")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/9/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"ifAlreadyInstalled"!==s&&"step"!==s&&"pluginZipFile"!==s&&"options"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/9/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/9/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/9/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/9/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var E=s===o}else E=!0;if(E)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/9/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;E=e===o}else E=!0}}}var $=s===o}else $=!0;if($){if(void 0!==e.ifAlreadyInstalled){let r=e.ifAlreadyInstalled;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("overwrite"!==r&&"skip"!==r&&"error"!==r)return Ne.errors=[{instancePath:t+"/ifAlreadyInstalled",schemaPath:"#/oneOf/9/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:Re.oneOf[9].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;$=s===o}else $=!0;if($){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/9/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("installPlugin"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/9/properties/step/const",keyword:"const",params:{allowedValue:"installPlugin"},message:"must be equal to constant"}],!1;$=s===o}else $=!0;if($){if(void 0!==e.pluginZipFile){const r=o;qe(e.pluginZipFile,{instancePath:t+"/pluginZipFile",parentData:e,parentDataProperty:"pluginZipFile",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);$=r===o}else $=!0;if($)if(void 0!==e.options){let r=e.options;const s=o;if(o==o){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/definitions/InstallPluginOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("activate"!==s)return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/definitions/InstallPluginOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o&&void 0!==r.activate&&"boolean"!=typeof r.activate)return Ne.errors=[{instancePath:t+"/options/activate",schemaPath:"#/definitions/InstallPluginOptions/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}}$=s===o}else $=!0}}}}}}}}else if("installTheme"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/10/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step")||void 0===e.themeZipFile&&(r="themeZipFile"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/10/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"ifAlreadyInstalled"!==s&&"step"!==s&&"themeZipFile"!==s&&"options"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/10/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/10/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/10/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/10/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var T=s===o}else T=!0;if(T)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/10/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;T=e===o}else T=!0}}}var j=s===o}else j=!0;if(j){if(void 0!==e.ifAlreadyInstalled){let r=e.ifAlreadyInstalled;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("overwrite"!==r&&"skip"!==r&&"error"!==r)return Ne.errors=[{instancePath:t+"/ifAlreadyInstalled",schemaPath:"#/oneOf/10/properties/ifAlreadyInstalled/enum",keyword:"enum",params:{allowedValues:Re.oneOf[10].properties.ifAlreadyInstalled.enum},message:"must be equal to one of the allowed values"}],!1;j=s===o}else j=!0;if(j){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/10/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("installTheme"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/10/properties/step/const",keyword:"const",params:{allowedValue:"installTheme"},message:"must be equal to constant"}],!1;j=s===o}else j=!0;if(j){if(void 0!==e.themeZipFile){const r=o;qe(e.themeZipFile,{instancePath:t+"/themeZipFile",parentData:e,parentDataProperty:"themeZipFile",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);j=r===o}else j=!0;if(j)if(void 0!==e.options){let r=e.options;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/oneOf/10/properties/options/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("activate"!==s&&"importStarterContent"!==s)return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/oneOf/10/properties/options/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.activate){const e=o;if("boolean"!=typeof r.activate)return Ne.errors=[{instancePath:t+"/options/activate",schemaPath:"#/oneOf/10/properties/options/properties/activate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var A=e===o}else A=!0;if(A)if(void 0!==r.importStarterContent){const e=o;if("boolean"!=typeof r.importStarterContent)return Ne.errors=[{instancePath:t+"/options/importStarterContent",schemaPath:"#/oneOf/10/properties/options/properties/importStarterContent/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;A=e===o}else A=!0}}}j=s===o}else j=!0}}}}}}}}else if("login"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/11/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/11/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"username"!==s&&"password"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/11/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/11/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/11/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/11/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var q=s===o}else q=!0;if(q)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/11/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;q=e===o}else q=!0}}}var R=s===o}else R=!0;if(R){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/11/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("login"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/11/properties/step/const",keyword:"const",params:{allowedValue:"login"},message:"must be equal to constant"}],!1;R=s===o}else R=!0;if(R){if(void 0!==e.username){const r=o;if("string"!=typeof e.username)return Ne.errors=[{instancePath:t+"/username",schemaPath:"#/oneOf/11/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;R=r===o}else R=!0;if(R)if(void 0!==e.password){const r=o;if("string"!=typeof e.password)return Ne.errors=[{instancePath:t+"/password",schemaPath:"#/oneOf/11/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;R=r===o}else R=!0}}}}}}}else if("mkdir"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/12/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.path&&(r="path")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/12/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"path"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/12/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/12/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/12/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/12/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var S=s===o}else S=!0;if(S)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/12/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;S=e===o}else S=!0}}}var L=s===o}else L=!0;if(L){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/12/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("mkdir"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/12/properties/step/const",keyword:"const",params:{allowedValue:"mkdir"},message:"must be equal to constant"}],!1;L=s===o}else L=!0;if(L)if(void 0!==e.path){const r=o;if("string"!=typeof e.path)return Ne.errors=[{instancePath:t+"/path",schemaPath:"#/oneOf/12/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;L=r===o}else L=!0}}}}}}else if("mv"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/13/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.fromPath&&(r="fromPath")||void 0===e.step&&(r="step")||void 0===e.toPath&&(r="toPath"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/13/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"fromPath"!==s&&"toPath"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/13/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/13/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/13/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/13/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var x=s===o}else x=!0;if(x)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/13/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;x=e===o}else x=!0}}}var F=s===o}else F=!0;if(F){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/13/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("mv"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/13/properties/step/const",keyword:"const",params:{allowedValue:"mv"},message:"must be equal to constant"}],!1;F=s===o}else F=!0;if(F){if(void 0!==e.fromPath){const r=o;if("string"!=typeof e.fromPath)return Ne.errors=[{instancePath:t+"/fromPath",schemaPath:"#/oneOf/13/properties/fromPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;F=r===o}else F=!0;if(F)if(void 0!==e.toPath){const r=o;if("string"!=typeof e.toPath)return Ne.errors=[{instancePath:t+"/toPath",schemaPath:"#/oneOf/13/properties/toPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;F=r===o}else F=!0}}}}}}}else if("resetData"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/14/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/14/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/14/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/14/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/14/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/14/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var N=s===o}else N=!0;if(N)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/14/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=e===o}else N=!0}}}var C=s===o}else C=!0;if(C)if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/14/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("resetData"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/14/properties/step/const",keyword:"const",params:{allowedValue:"resetData"},message:"must be equal to constant"}],!1;C=s===o}else C=!0}}}}}else if("request"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/15/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.request&&(r="request")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/15/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"request"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/15/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/15/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/15/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/15/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var I=s===o}else I=!0;if(I)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/15/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=e===o}else I=!0}}}var D=s===o}else D=!0;if(D){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/15/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("request"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/15/properties/step/const",keyword:"const",params:{allowedValue:"request"},message:"must be equal to constant"}],!1;D=s===o}else D=!0;if(D)if(void 0!==e.request){const r=o;Le(e.request,{instancePath:t+"/request",parentData:e,parentDataProperty:"request",rootData:n})||(i=null===i?Le.errors:i.concat(Le.errors),o=i.length);D=r===o}else D=!0}}}}}}else if("rm"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/16/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.path&&(r="path")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/16/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"path"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/16/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/16/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/16/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/16/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var W=s===o}else W=!0;if(W)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/16/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=e===o}else W=!0}}}var B=s===o}else B=!0;if(B){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/16/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("rm"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/16/properties/step/const",keyword:"const",params:{allowedValue:"rm"},message:"must be equal to constant"}],!1;B=s===o}else B=!0;if(B)if(void 0!==e.path){const r=o;if("string"!=typeof e.path)return Ne.errors=[{instancePath:t+"/path",schemaPath:"#/oneOf/16/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;B=r===o}else B=!0}}}}}}else if("rmdir"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/17/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.path&&(r="path")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/17/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"path"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/17/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/17/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/17/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/17/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var U=s===o}else U=!0;if(U)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/17/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;U=e===o}else U=!0}}}var M=s===o}else M=!0;if(M){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/17/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("rmdir"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/17/properties/step/const",keyword:"const",params:{allowedValue:"rmdir"},message:"must be equal to constant"}],!1;M=s===o}else M=!0;if(M)if(void 0!==e.path){const r=o;if("string"!=typeof e.path)return Ne.errors=[{instancePath:t+"/path",schemaPath:"#/oneOf/17/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;M=r===o}else M=!0}}}}}}else if("runPHP"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/18/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.code&&(r="code")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/18/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"code"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/18/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/18/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/18/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/18/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var z=s===o}else z=!0;if(z)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/18/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;z=e===o}else z=!0}}}var V=s===o}else V=!0;if(V){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/18/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("runPHP"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/18/properties/step/const",keyword:"const",params:{allowedValue:"runPHP"},message:"must be equal to constant"}],!1;V=s===o}else V=!0;if(V)if(void 0!==e.code){const r=o;if("string"!=typeof e.code)return Ne.errors=[{instancePath:t+"/code",schemaPath:"#/oneOf/18/properties/code/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;V=r===o}else V=!0}}}}}}else if("runPHPWithOptions"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/19/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.options&&(r="options")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/19/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"options"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/19/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/19/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/19/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/19/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var H=s===o}else H=!0;if(H)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/19/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;H=e===o}else H=!0}}}var G=s===o}else G=!0;if(G){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/19/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("runPHPWithOptions"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/19/properties/step/const",keyword:"const",params:{allowedValue:"runPHPWithOptions"},message:"must be equal to constant"}],!1;G=s===o}else G=!0;if(G)if(void 0!==e.options){const r=o;Fe(e.options,{instancePath:t+"/options",parentData:e,parentDataProperty:"options",rootData:n})||(i=null===i?Fe.errors:i.concat(Fe.errors),o=i.length);G=r===o}else G=!0}}}}}}else if("runWpInstallationWizard"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/20/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.options&&(r="options")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/20/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"options"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/20/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/20/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/20/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/20/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Y=s===o}else Y=!0;if(Y)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/20/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Y=e===o}else Y=!0}}}var Z=s===o}else Z=!0;if(Z){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/20/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("runWpInstallationWizard"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/20/properties/step/const",keyword:"const",params:{allowedValue:"runWpInstallationWizard"},message:"must be equal to constant"}],!1;Z=s===o}else Z=!0;if(Z)if(void 0!==e.options){let r=e.options;const s=o;if(o==o){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("adminUsername"!==s&&"adminPassword"!==s)return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/definitions/WordPressInstallationOptions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.adminUsername){const e=o;if("string"!=typeof r.adminUsername)return Ne.errors=[{instancePath:t+"/options/adminUsername",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminUsername/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Q=e===o}else Q=!0;if(Q)if(void 0!==r.adminPassword){const e=o;if("string"!=typeof r.adminPassword)return Ne.errors=[{instancePath:t+"/options/adminPassword",schemaPath:"#/definitions/WordPressInstallationOptions/properties/adminPassword/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Q=e===o}else Q=!0}}}Z=s===o}else Z=!0}}}}}}else if("runSql"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/21/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.sql&&(r="sql")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/21/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"sql"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/21/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/21/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/21/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/21/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var J=s===o}else J=!0;if(J)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/21/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;J=e===o}else J=!0}}}var X=s===o}else X=!0;if(X){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/21/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("runSql"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/21/properties/step/const",keyword:"const",params:{allowedValue:"runSql"},message:"must be equal to constant"}],!1;X=s===o}else X=!0;if(X)if(void 0!==e.sql){const r=o;qe(e.sql,{instancePath:t+"/sql",parentData:e,parentDataProperty:"sql",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);X=r===o}else X=!0}}}}}}else if("setSiteOptions"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/22/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.options&&(r="options")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/22/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"options"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/22/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/22/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/22/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/22/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var K=s===o}else K=!0;if(K)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/22/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;K=e===o}else K=!0}}}var ee=s===o}else ee=!0;if(ee){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/22/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("setSiteOptions"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/22/properties/step/const",keyword:"const",params:{allowedValue:"setSiteOptions"},message:"must be equal to constant"}],!1;ee=s===o}else ee=!0;if(ee)if(void 0!==e.options){let r=e.options;const s=o;if(o===s&&(!r||"object"!=typeof r||Array.isArray(r)))return Ne.errors=[{instancePath:t+"/options",schemaPath:"#/oneOf/22/properties/options/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;ee=s===o}else ee=!0}}}}}}else if("unzip"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/23/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.extractToPath&&(r="extractToPath")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/23/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"zipFile"!==s&&"zipPath"!==s&&"extractToPath"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/23/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/23/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/23/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/23/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var te=s===o}else te=!0;if(te)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/23/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;te=e===o}else te=!0}}}var re=s===o}else re=!0;if(re){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/23/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("unzip"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/23/properties/step/const",keyword:"const",params:{allowedValue:"unzip"},message:"must be equal to constant"}],!1;re=s===o}else re=!0;if(re){if(void 0!==e.zipFile){const r=o;qe(e.zipFile,{instancePath:t+"/zipFile",parentData:e,parentDataProperty:"zipFile",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);re=r===o}else re=!0;if(re){if(void 0!==e.zipPath){const r=o;if("string"!=typeof e.zipPath)return Ne.errors=[{instancePath:t+"/zipPath",schemaPath:"#/oneOf/23/properties/zipPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;re=r===o}else re=!0;if(re)if(void 0!==e.extractToPath){const r=o;if("string"!=typeof e.extractToPath)return Ne.errors=[{instancePath:t+"/extractToPath",schemaPath:"#/oneOf/23/properties/extractToPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;re=r===o}else re=!0}}}}}}}}else if("updateUserMeta"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.meta&&(r="meta")||void 0===e.step&&(r="step")||void 0===e.userId&&(r="userId"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/24/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"meta"!==s&&"userId"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/24/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/24/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/24/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var se=s===o}else se=!0;if(se)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/24/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;se=e===o}else se=!0}}}var ne=s===o}else ne=!0;if(ne){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/24/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("updateUserMeta"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/24/properties/step/const",keyword:"const",params:{allowedValue:"updateUserMeta"},message:"must be equal to constant"}],!1;ne=s===o}else ne=!0;if(ne){if(void 0!==e.meta){let r=e.meta;const s=o;if(o===s&&(!r||"object"!=typeof r||Array.isArray(r)))return Ne.errors=[{instancePath:t+"/meta",schemaPath:"#/oneOf/24/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;ne=s===o}else ne=!0;if(ne)if(void 0!==e.userId){let r=e.userId;const s=o;if("number"!=typeof r||!isFinite(r))return Ne.errors=[{instancePath:t+"/userId",schemaPath:"#/oneOf/24/properties/userId/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;ne=s===o}else ne=!0}}}}}}}else if("writeFile"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/25/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.data&&(r="data")||void 0===e.path&&(r="path")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/25/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"path"!==s&&"data"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/25/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/25/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/25/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/25/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ie=s===o}else ie=!0;if(ie)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/25/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ie=e===o}else ie=!0}}}var oe=s===o}else oe=!0;if(oe){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/25/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("writeFile"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/25/properties/step/const",keyword:"const",params:{allowedValue:"writeFile"},message:"must be equal to constant"}],!1;oe=s===o}else oe=!0;if(oe){if(void 0!==e.path){const r=o;if("string"!=typeof e.path)return Ne.errors=[{instancePath:t+"/path",schemaPath:"#/oneOf/25/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;oe=r===o}else oe=!0;if(oe)if(void 0!==e.data){let r=e.data;const s=o,a=o;let p=!1;const c=o;qe(r,{instancePath:t+"/data",parentData:e,parentDataProperty:"data",rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);var ae=c===o;if(p=p||ae,!p){const e=o;if("string"!=typeof r){const e={instancePath:t+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}ae=e===o;if(p=p||ae,!p){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.BYTES_PER_ELEMENT&&(e="BYTES_PER_ELEMENT")||void 0===r.buffer&&(e="buffer")||void 0===r.byteLength&&(e="byteLength")||void 0===r.byteOffset&&(e="byteOffset")||void 0===r.length&&(e="length")){const r={instancePath:t+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const s in r)if("BYTES_PER_ELEMENT"!==s&&"buffer"!==s&&"byteLength"!==s&&"byteOffset"!==s&&"length"!==s){let e=r[s];const n=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/data/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/oneOf/25/properties/data/anyOf/2/additionalProperties/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}if(!(n===o))break}if(e===o){if(void 0!==r.BYTES_PER_ELEMENT){let e=r.BYTES_PER_ELEMENT;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/data/BYTES_PER_ELEMENT",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/BYTES_PER_ELEMENT/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}var pe=s===o}else pe=!0;if(pe){if(void 0!==r.buffer){let e=r.buffer;const s=o;if(o===s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.byteLength&&(r="byteLength")){const e={instancePath:t+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===i?i=[e]:i.push(e),o++}else{const r=o;for(const s in e)if("byteLength"!==s){const e={instancePath:t+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(r===o&&void 0!==e.byteLength){let r=e.byteLength;if("number"!=typeof r||!isFinite(r)){const e={instancePath:t+"/data/buffer/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t+"/data/buffer",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/buffer/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}pe=s===o}else pe=!0;if(pe){if(void 0!==r.byteLength){let e=r.byteLength;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/data/byteLength",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteLength/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}pe=s===o}else pe=!0;if(pe){if(void 0!==r.byteOffset){let e=r.byteOffset;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/data/byteOffset",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/byteOffset/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}pe=s===o}else pe=!0;if(pe)if(void 0!==r.length){let e=r.length;const s=o;if("number"!=typeof e||!isFinite(e)){const e={instancePath:t+"/data/length",schemaPath:"#/oneOf/25/properties/data/anyOf/2/properties/length/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),o++}pe=s===o}else pe=!0}}}}}}else{const e={instancePath:t+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf/2/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}ae=e===o;p=p||ae}}if(!p){const e={instancePath:t+"/data",schemaPath:"#/oneOf/25/properties/data/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ne.errors=i,!1}o=a,null!==i&&(a?i.length=a:i=null);oe=s===o}else oe=!0}}}}}}}else if("wp-cli"===r){if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/26/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.command&&(r="command")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/26/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"command"!==s&&"wpCliPath"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/26/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/26/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/26/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/26/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ce=s===o}else ce=!0;if(ce)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/26/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ce=e===o}else ce=!0}}}var de=s===o}else de=!0;if(de){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/26/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("wp-cli"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/26/properties/step/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;de=s===o}else de=!0;if(de){if(void 0!==e.command){let r=e.command;const s=o,n=o;let a=!1;const p=o;if("string"!=typeof r){const e={instancePath:t+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var le=p===o;if(a=a||le,!a){const e=o;if(o===e)if(Array.isArray(r)){const e=r.length;for(let s=0;s<e;s++){const e=o;if("string"!=typeof r[s]){const e={instancePath:t+"/command/"+s,schemaPath:"#/oneOf/26/properties/command/anyOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if(!(e===o))break}}else{const e={instancePath:t+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),o++}le=e===o;a=a||le}if(!a){const e={instancePath:t+"/command",schemaPath:"#/oneOf/26/properties/command/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ne.errors=i,!1}o=n,null!==i&&(n?i.length=n:i=null);de=s===o}else de=!0;if(de)if(void 0!==e.wpCliPath){const r=o;if("string"!=typeof e.wpCliPath)return Ne.errors=[{instancePath:t+"/wpCliPath",schemaPath:"#/oneOf/26/properties/wpCliPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;de=r===o}else de=!0}}}}}}}else{if("setSiteLanguage"!==r)return Ne.errors=[{instancePath:t,schemaPath:"#/discriminator",keyword:"discriminator",params:{error:"mapping",tag:"step",tagValue:r},message:'value of tag "step" must be in oneOf'}],!1;if(o==o){if(!e||"object"!=typeof e||Array.isArray(e))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/27/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.language&&(r="language")||void 0===e.step&&(r="step"))return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/27/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=o;for(const s in e)if("progress"!==s&&"step"!==s&&"language"!==s)return Ne.errors=[{instancePath:t,schemaPath:"#/oneOf/27/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.progress){let r=e.progress;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/27/properties/progress/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("weight"!==s&&"caption"!==s)return Ne.errors=[{instancePath:t+"/progress",schemaPath:"#/oneOf/27/properties/progress/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.weight){let e=r.weight;const s=o;if("number"!=typeof e||!isFinite(e))return Ne.errors=[{instancePath:t+"/progress/weight",schemaPath:"#/oneOf/27/properties/progress/properties/weight/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var ue=s===o}else ue=!0;if(ue)if(void 0!==r.caption){const e=o;if("string"!=typeof r.caption)return Ne.errors=[{instancePath:t+"/progress/caption",schemaPath:"#/oneOf/27/properties/progress/properties/caption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;ue=e===o}else ue=!0}}}var he=s===o}else he=!0;if(he){if(void 0!==e.step){let r=e.step;const s=o;if("string"!=typeof r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/27/properties/step/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("setSiteLanguage"!==r)return Ne.errors=[{instancePath:t+"/step",schemaPath:"#/oneOf/27/properties/step/const",keyword:"const",params:{allowedValue:"setSiteLanguage"},message:"must be equal to constant"}],!1;he=s===o}else he=!0;if(he)if(void 0!==e.language){const r=o;if("string"!=typeof e.language)return Ne.errors=[{instancePath:t+"/language",schemaPath:"#/oneOf/27/properties/language/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;he=r===o}else he=!0}}}}}}}}}return Ne.errors=i,0===o}function Ce(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return Ce.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=o;for(const s in e)if(!Ae.call($e.properties,s))return Ce.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(r===o){if(void 0!==e.landingPage){const r=o;if("string"!=typeof e.landingPage)return Ce.errors=[{instancePath:t+"/landingPage",schemaPath:"#/properties/landingPage/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===o}else a=!0;if(a){if(void 0!==e.description){const r=o;if("string"!=typeof e.description)return Ce.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0;if(a){if(void 0!==e.meta){let r=e.meta;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ce.errors=[{instancePath:t+"/meta",schemaPath:"#/properties/meta/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.title&&(e="title")||void 0===r.author&&(e="author"))return Ce.errors=[{instancePath:t+"/meta",schemaPath:"#/properties/meta/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{const e=o;for(const s in r)if("title"!==s&&"description"!==s&&"author"!==s&&"categories"!==s)return Ce.errors=[{instancePath:t+"/meta",schemaPath:"#/properties/meta/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.title){const e=o;if("string"!=typeof r.title)return Ce.errors=[{instancePath:t+"/meta/title",schemaPath:"#/properties/meta/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=e===o}else p=!0;if(p){if(void 0!==r.description){const e=o;if("string"!=typeof r.description)return Ce.errors=[{instancePath:t+"/meta/description",schemaPath:"#/properties/meta/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=e===o}else p=!0;if(p){if(void 0!==r.author){const e=o;if("string"!=typeof r.author)return Ce.errors=[{instancePath:t+"/meta/author",schemaPath:"#/properties/meta/properties/author/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=e===o}else p=!0;if(p)if(void 0!==r.categories){let e=r.categories;const s=o;if(o===s){if(!Array.isArray(e))return Ce.errors=[{instancePath:t+"/meta/categories",schemaPath:"#/properties/meta/properties/categories/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const r=e.length;for(let s=0;s<r;s++){const r=o;if("string"!=typeof e[s])return Ce.errors=[{instancePath:t+"/meta/categories/"+s,schemaPath:"#/properties/meta/properties/categories/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(r===o))break}}}p=s===o}else p=!0}}}}}}a=s===o}else a=!0;if(a){if(void 0!==e.preferredVersions){let r=e.preferredVersions;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ce.errors=[{instancePath:t+"/preferredVersions",schemaPath:"#/properties/preferredVersions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.php&&(e="php")||void 0===r.wp&&(e="wp"))return Ce.errors=[{instancePath:t+"/preferredVersions",schemaPath:"#/properties/preferredVersions/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{const e=o;for(const s in r)if("php"!==s&&"wp"!==s)return Ce.errors=[{instancePath:t+"/preferredVersions",schemaPath:"#/properties/preferredVersions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o){if(void 0!==r.php){let e=r.php;const s=o,n=o;let a=!1;const p=o;if("string"!=typeof e){const e={instancePath:t+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("8.3"!==e&&"8.2"!==e&&"8.1"!==e&&"8.0"!==e&&"7.4"!==e&&"7.3"!==e&&"7.2"!==e&&"7.1"!==e&&"7.0"!==e){const e={instancePath:t+"/preferredVersions/php",schemaPath:"#/definitions/SupportedPHPVersion/enum",keyword:"enum",params:{allowedValues:Te.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),o++}var c=p===o;if(a=a||c,!a){const r=o;if("string"!=typeof e){const e={instancePath:t+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if("latest"!==e){const e={instancePath:t+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf/1/const",keyword:"const",params:{allowedValue:"latest"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}c=r===o;a=a||c}if(!a){const e={instancePath:t+"/preferredVersions/php",schemaPath:"#/properties/preferredVersions/properties/php/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ce.errors=i,!1}o=n,null!==i&&(n?i.length=n:i=null);var d=s===o}else d=!0;if(d)if(void 0!==r.wp){const e=o;if("string"!=typeof r.wp)return Ce.errors=[{instancePath:t+"/preferredVersions/wp",schemaPath:"#/properties/preferredVersions/properties/wp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=e===o}else d=!0}}}}a=s===o}else a=!0;if(a){if(void 0!==e.features){let r=e.features;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ce.errors=[{instancePath:t+"/features",schemaPath:"#/properties/features/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("networking"!==s)return Ce.errors=[{instancePath:t+"/features",schemaPath:"#/properties/features/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"}],!1;if(e===o&&void 0!==r.networking&&"boolean"!=typeof r.networking)return Ce.errors=[{instancePath:t+"/features/networking",schemaPath:"#/properties/features/properties/networking/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1}}a=s===o}else a=!0;if(a){if(void 0!==e.extraLibraries){let r=e.extraLibraries;const s=o;if(o===s){if(!Array.isArray(r))return Ce.errors=[{instancePath:t+"/extraLibraries",schemaPath:"#/properties/extraLibraries/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const n=o;if("string"!=typeof e)return Ce.errors=[{instancePath:t+"/extraLibraries/"+s,schemaPath:"#/definitions/ExtraLibrary/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("wp-cli"!==e)return Ce.errors=[{instancePath:t+"/extraLibraries/"+s,schemaPath:"#/definitions/ExtraLibrary/const",keyword:"const",params:{allowedValue:"wp-cli"},message:"must be equal to constant"}],!1;if(!(n===o))break}}}a=s===o}else a=!0;if(a){if(void 0!==e.constants){let r=e.constants;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ce.errors=[{instancePath:t+"/constants",schemaPath:"#/properties/constants/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r){const s=o;if("string"!=typeof r[e])return Ce.errors=[{instancePath:t+"/constants/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constants/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(s===o))break}}a=s===o}else a=!0;if(a){if(void 0!==e.plugins){let r=e.plugins;const s=o;if(o===s){if(!Array.isArray(r))return Ce.errors=[{instancePath:t+"/plugins",schemaPath:"#/properties/plugins/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const a=o,p=o;let c=!1;const d=o;if("string"!=typeof e){const e={instancePath:t+"/plugins/"+s,schemaPath:"#/properties/plugins/items/anyOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var l=d===o;if(c=c||l,!c){const a=o;qe(e,{instancePath:t+"/plugins/"+s,parentData:r,parentDataProperty:s,rootData:n})||(i=null===i?qe.errors:i.concat(qe.errors),o=i.length);l=a===o;c=c||l}if(!c){const e={instancePath:t+"/plugins/"+s,schemaPath:"#/properties/plugins/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ce.errors=i,!1}if(o=p,null!==i&&(p?i.length=p:i=null),!(a===o))break}}}a=s===o}else a=!0;if(a){if(void 0!==e.siteOptions){let r=e.siteOptions;const s=o;if(o===s){if(!r||"object"!=typeof r||Array.isArray(r))return Ce.errors=[{instancePath:t+"/siteOptions",schemaPath:"#/properties/siteOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=o;for(const s in r)if("blogname"!==s){const e=o;if("string"!=typeof r[s])return Ce.errors=[{instancePath:t+"/siteOptions/"+s.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/siteOptions/additionalProperties/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(e===o))break}if(e===o&&void 0!==r.blogname&&"string"!=typeof r.blogname)return Ce.errors=[{instancePath:t+"/siteOptions/blogname",schemaPath:"#/properties/siteOptions/properties/blogname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}a=s===o}else a=!0;if(a){if(void 0!==e.login){let r=e.login;const s=o,n=o;let p=!1;const c=o;if("boolean"!=typeof r){const e={instancePath:t+"/login",schemaPath:"#/properties/login/anyOf/0/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),o++}var u=c===o;if(p=p||u,!p){const e=o;if(o===e)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.username&&(e="username")||void 0===r.password&&(e="password")){const r={instancePath:t+"/login",schemaPath:"#/properties/login/anyOf/1/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===i?i=[r]:i.push(r),o++}else{const e=o;for(const s in r)if("username"!==s&&"password"!==s){const e={instancePath:t+"/login",schemaPath:"#/properties/login/anyOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),o++;break}if(e===o){if(void 0!==r.username){const e=o;if("string"!=typeof r.username){const e={instancePath:t+"/login/username",schemaPath:"#/properties/login/anyOf/1/properties/username/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}var h=e===o}else h=!0;if(h)if(void 0!==r.password){const e=o;if("string"!=typeof r.password){const e={instancePath:t+"/login/password",schemaPath:"#/properties/login/anyOf/1/properties/password/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}h=e===o}else h=!0}}}else{const e={instancePath:t+"/login",schemaPath:"#/properties/login/anyOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}u=e===o;p=p||u}if(!p){const e={instancePath:t+"/login",schemaPath:"#/properties/login/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ce.errors=i,!1}o=n,null!==i&&(n?i.length=n:i=null);a=s===o}else a=!0;if(a){if(void 0!==e.phpExtensionBundles){let r=e.phpExtensionBundles;const s=o;if(o===s){if(!Array.isArray(r))return Ce.errors=[{instancePath:t+"/phpExtensionBundles",schemaPath:"#/properties/phpExtensionBundles/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const n=o;if("string"!=typeof e)return Ce.errors=[{instancePath:t+"/phpExtensionBundles/"+s,schemaPath:"#/definitions/SupportedPHPExtensionBundle/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("kitchen-sink"!==e&&"light"!==e)return Ce.errors=[{instancePath:t+"/phpExtensionBundles/"+s,schemaPath:"#/definitions/SupportedPHPExtensionBundle/enum",keyword:"enum",params:{allowedValues:je.enum},message:"must be equal to one of the allowed values"}],!1;if(!(n===o))break}}}a=s===o}else a=!0;if(a){if(void 0!==e.steps){let r=e.steps;const s=o;if(o===s){if(!Array.isArray(r))return Ce.errors=[{instancePath:t+"/steps",schemaPath:"#/properties/steps/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const e=r.length;for(let s=0;s<e;s++){let e=r[s];const a=o,p=o;let c=!1;const d=o;Ne(e,{instancePath:t+"/steps/"+s,parentData:r,parentDataProperty:s,rootData:n})||(i=null===i?Ne.errors:i.concat(Ne.errors),o=i.length);var f=d===o;if(c=c||f,!c){const r=o;if("string"!=typeof e){const e={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}f=r===o;if(c=c||f,!c){const r=o,n={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf/2/not",keyword:"not",params:{},message:"must NOT be valid"};null===i?i=[n]:i.push(n),o++;f=r===o;if(c=c||f,!c){const r=o;if("boolean"!=typeof e){const e={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf/3/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),o++}if(!1!==e){const e={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf/3/const",keyword:"const",params:{allowedValue:!1},message:"must be equal to constant"};null===i?i=[e]:i.push(e),o++}f=r===o;if(c=c||f,!c){const r=o;if(null!==e){const e={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf/4/type",keyword:"type",params:{type:"null"},message:"must be null"};null===i?i=[e]:i.push(e),o++}f=r===o;c=c||f}}}}if(!c){const e={instancePath:t+"/steps/"+s,schemaPath:"#/properties/steps/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===i?i=[e]:i.push(e),o++,Ce.errors=i,!1}if(o=p,null!==i&&(p?i.length=p:i=null),!(a===o))break}}}a=s===o}else a=!0;if(a)if(void 0!==e.$schema){const r=o;if("string"!=typeof e.$schema)return Ce.errors=[{instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;a=r===o}else a=!0}}}}}}}}}}}}}}return Ce.errors=i,0===o}function Ie(e,{instancePath:t="",parentData:r,parentDataProperty:s,rootData:n=e}={}){let i=null,o=0;return Ce(e,{instancePath:t,parentData:r,parentDataProperty:s,rootData:n})||(i=null===i?Ce.errors:i.concat(Ce.errors),o=i.length),Ie.errors=i,0===o}const{wpCLI:De,...We}=Q,Be={...We,"wp-cli":De,importFile:We.importWxr};function Ue(e,{progress:t=new X,semaphore:r=new c({concurrency:3}),onStepCompleted:s=()=>{}}={}){var n,i,o,a,p,d,l,u,h;e={...e,steps:(e.steps||[]).filter(Ve).filter(He)};for(const c of e.steps)"object"==typeof c&&"importFile"===c.step&&(c.step="importWxr",k.warn('The "importFile" step is deprecated. Use "importWxr" instead.'));if(e.constants&&e.steps.unshift({step:"defineWpConfigConsts",consts:e.constants}),e.siteOptions&&e.steps.unshift({step:"setSiteOptions",options:e.siteOptions}),e.plugins){const t=e.plugins.map((e=>"string"==typeof e?e.startsWith("https://")?{resource:"url",url:e}:{resource:"wordpress.org/plugins",slug:e}:e)).map((e=>({step:"installPlugin",pluginZipFile:e})));e.steps.unshift(...t)}e.login&&e.steps.push({step:"login",...!0===e.login?{username:"admin",password:"password"}:e.login}),e.phpExtensionBundles||(e.phpExtensionBundles=[]),e.phpExtensionBundles||(e.phpExtensionBundles=[]),0===e.phpExtensionBundles.length&&e.phpExtensionBundles.push("kitchen-sink");const f=(null==(n=e.steps)?void 0:n.findIndex((e=>"object"==typeof e&&"wp-cli"===(null==e?void 0:e.step))))??-1;if(null!=(i=null==e?void 0:e.extraLibraries)&&i.includes("wp-cli")||f>-1){e.phpExtensionBundles.includes("light")&&(e.phpExtensionBundles=e.phpExtensionBundles.filter((e=>"light"!==e)),k.warn("WP-CLI is used in your Blueprint, and it requires the iconv and mbstring PHP extensions. However, you did not specify the kitchen-sink extension bundle. Playground will override your choice and load the kitchen-sink PHP extensions bundle to prevent the WP-CLI step from failing. "));const t={step:"writeFile",data:{resource:"url",url:"https://playground.wordpress.net/wp-cli.phar"},path:"/tmp/wp-cli.phar"};-1===f?null==(o=e.steps)||o.push(t):null==(a=e.steps)||a.splice(f,0,t)}const m=null==(p=e.steps)?void 0:p.findIndex((e=>"object"==typeof e&&"importWxr"===(null==e?void 0:e.step)));void 0!==m&&m>-1&&(e.phpExtensionBundles.includes("light")&&(e.phpExtensionBundles=e.phpExtensionBundles.filter((e=>"light"!==e)),k.warn("The importWxr step used in your Blueprint requires the iconv and mbstring PHP extensions. However, you did not specify the kitchen-sink extension bundle. Playground will override your choice and load the kitchen-sink PHP extensions bundle to prevent the WP-CLI step from failing. ")),null==(d=e.steps)||d.splice(m,0,{step:"installPlugin",pluginZipFile:{resource:"url",url:"https://playground.wordpress.net/wordpress-importer.zip",caption:"Downloading the WordPress Importer plugin"}}));const{valid:y,errors:g}=function(e){var t;const r=Ie(e);if(r)return{valid:r};const s=new Set;for(const i of Ie.errors)i.schemaPath.startsWith("#/properties/steps/items/anyOf")||s.add(i.instancePath);const n=null==(t=Ie.errors)?void 0:t.filter((e=>!(e.schemaPath.startsWith("#/properties/steps/items/anyOf")&&s.has(e.instancePath))));return{valid:r,errors:n}}(e);if(!y){const e=new Error(`Invalid blueprint: ${g[0].message} at ${g[0].instancePath}`);throw e.errors=g,e}const P=e.steps||[],b=P.reduce(((e,t)=>{var r;return e+((null==(r=t.progress)?void 0:r.weight)||1)}),0),w=P.map((e=>function(e,{semaphore:t,rootProgressTracker:r,totalProgressWeight:s}){var n;const i=r.stage(((null==(n=e.progress)?void 0:n.weight)||1)/s),o={};for(const l of Object.keys(e)){let r=e[l];he(r)&&(r=fe.create(r,{semaphore:t})),o[l]=r}const a=async t=>{var r;try{return i.fillSlowly(),await Be[e.step](t,await async function(e){const t={};for(const r in e){const s=e[r];t[r]=s instanceof fe?await s.resolve():s}return t}(o),{tracker:i,initialCaption:null==(r=e.progress)?void 0:r.caption})}finally{i.finish()}},p=Ge(o),c=Ge(o).filter((e=>e.isAsync)),d=1/(c.length+1);for(const l of c)l.progress=i.stage(d);return{run:a,step:e,resources:p}}(e,{semaphore:r,rootProgressTracker:t,totalProgressWeight:b})));return{versions:{php:Me(null==(l=e.preferredVersions)?void 0:l.php,pe,ce),wp:(null==(u=e.preferredVersions)?void 0:u.wp)||"latest"},phpExtensions:ze([],e.phpExtensionBundles||[]),features:{networking:(null==(h=e.features)?void 0:h.networking)??!1},extraLibraries:e.extraLibraries||[],run:async r=>{try{for(const{resources:e}of w)for(const t of e)t.setPlayground(r),t.isAsync&&t.resolve();for(const[e,{run:t,step:i}]of Object.entries(w))try{const e=await t(r);s(e,i)}catch(n){throw k.error(n),new Error(`Error when executing the blueprint step #${e} (${JSON.stringify(i)}) ${n instanceof Error?`: ${n.message}`:n}`,{cause:n})}}finally{try{await r.goTo(e.landingPage||"/")}catch{}t.finish()}}}}function Me(e,t,r){return e&&t.includes(e)?e:r}function ze(e,t){const r=de.filter((t=>e.includes(t))),s=t.flatMap((e=>e in le?le[e]:[]));return Array.from(new Set([...r,...s]))}function Ve(e){return!("object"!=typeof e||!e)}function He(e){return!["setPhpIniEntry","request"].includes(e.step)||(k.warn(`The "${e.step}" Blueprint is no longer supported and you can remove it from your Blueprint.`),!1)}function Ge(e){const t=[];for(const r in e){const s=e[r];s instanceof fe&&t.push(s)}return t}const Ye=Symbol("Comlink.proxy"),Ze=Symbol("Comlink.endpoint"),Qe=Symbol("Comlink.releaseProxy"),Je=Symbol("Comlink.finalizer"),Xe=Symbol("Comlink.thrown"),Ke=e=>"object"==typeof e&&null!==e||"function"==typeof e,et={canHandle:e=>Ke(e)&&e[Ye],serialize(e){const{port1:t,port2:r}=new MessageChannel;return st(e,t),[r,[r]]},deserialize:e=>(e.start(),it(e))},tt={canHandle:e=>Ke(e)&&Xe in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},rt=new Map([["proxy",et],["throw",tt]]);function st(e,t=globalThis,r=["*"]){t.addEventListener("message",(function s(n){if(!n||!n.data)return;if(!function(e,t){for(const r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(r,n.origin))return void console.warn(`Invalid origin '${n.origin}' for comlink proxy`);const{id:i,type:o,path:a}=Object.assign({path:[]},n.data),p=(n.data.argumentList||[]).map(yt);let c;try{const t=a.slice(0,-1).reduce(((e,t)=>e[t]),e),r=a.reduce(((e,t)=>e[t]),e);switch(o){case"GET":c=r;break;case"SET":t[a.slice(-1)[0]]=yt(n.data.value),c=!0;break;case"APPLY":c=r.apply(t,p);break;case"CONSTRUCT":c=ft(new r(...p));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;st(e,r),c=function(e,t){return ht.set(e,t),e}(t,[t])}break;case"RELEASE":c=void 0;break;default:return}}catch(d){c={value:d,[Xe]:0}}Promise.resolve(c).catch((e=>({value:e,[Xe]:0}))).then((r=>{const[n,a]=mt(r);t.postMessage(Object.assign(Object.assign({},n),{id:i}),a),"RELEASE"===o&&(t.removeEventListener("message",s),nt(t),Je in e&&"function"==typeof e[Je]&&e[Je]())})).catch((e=>{const[r,s]=mt({value:new TypeError("Unserializable return value"),[Xe]:0});t.postMessage(Object.assign(Object.assign({},r),{id:i}),s)}))})),t.start&&t.start()}function nt(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function it(e,t){return dt(e,[],t)}function ot(e){if(e)throw new Error("Proxy has been released and is not useable")}function at(e){return gt(e,{type:"RELEASE"}).then((()=>{nt(e)}))}const pt=new WeakMap,ct="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(pt.get(e)||0)-1;pt.set(e,t),0===t&&at(e)}));function dt(e,t=[],r=function(){}){let s=!1;const n=new Proxy(r,{get(r,i){if(ot(s),i===Qe)return()=>{(function(e){ct&&ct.unregister(e)})(n),at(e),s=!0};if("then"===i){if(0===t.length)return{then:()=>n};const r=gt(e,{type:"GET",path:t.map((e=>e.toString()))}).then(yt);return r.then.bind(r)}return dt(e,[...t,i])},set(r,n,i){ot(s);const[o,a]=mt(i);return gt(e,{type:"SET",path:[...t,n].map((e=>e.toString())),value:o},a).then(yt)},apply(r,n,i){ot(s);const o=t[t.length-1];if(o===Ze)return gt(e,{type:"ENDPOINT"}).then(yt);if("bind"===o)return dt(e,t.slice(0,-1));const[a,p]=ut(i);return gt(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:a},p).then(yt)},construct(r,n){ot(s);const[i,o]=ut(n);return gt(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:i},o).then(yt)}});return function(e,t){const r=(pt.get(t)||0)+1;pt.set(t,r),ct&&ct.register(e,t,e)}(n,e),n}function lt(e){return Array.prototype.concat.apply([],e)}function ut(e){const t=e.map(mt);return[t.map((e=>e[0])),lt(t.map((e=>e[1])))]}const ht=new WeakMap;function ft(e){return Object.assign(e,{[Ye]:!0})}function mt(e){for(const[t,r]of rt)if(r.canHandle(e)){const[s,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:s},n]}return[{type:"RAW",value:e},ht.get(e)||[]]}function yt(e){switch(e.type){case"HANDLER":return rt.get(e.name).deserialize(e.value);case"RAW":return e.value}}function gt(e,t,r){return new Promise((s=>{const n=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(r){!r.data||!r.data.id||r.data.id!==n||(e.removeEventListener("message",t),s(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)}))}function Pt(e,t=void 0){!function(){if(wt)return;wt=!0,rt.set("EVENT",{canHandle:e=>e instanceof CustomEvent,serialize:e=>[{detail:e.detail},[]],deserialize:e=>e}),rt.set("FUNCTION",{canHandle:e=>"function"==typeof e,serialize(e){const{port1:t,port2:r}=new MessageChannel;return st(e,t),[r,[r]]},deserialize:e=>(e.start(),it(e))}),rt.set("PHPResponse",{canHandle:e=>"object"==typeof e&&null!==e&&"headers"in e&&"bytes"in e&&"errors"in e&&"exitCode"in e&&"httpStatusCode"in e,serialize:e=>[e.toRawData(),[]],deserialize:e=>oe.fromRawData(e)});const e=rt.get("throw"),t=null==e?void 0:e.serialize;e.serialize=({value:e})=>{const r=t({value:e});return e.response&&(r[0].value.response=e.response),e.source&&(r[0].value.source=e.source),r}}();const r=e instanceof Worker?e:function(e,t=globalThis,r="*"){return{postMessage:(t,s)=>e.postMessage(t,r,s),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(e,t),s=it(r),n=vt(s);return new Proxy(n,{get:(e,t)=>"isConnected"===t?async()=>{for(;;)try{await bt(s.isConnected(),200);break}catch{}}:s[t]})}async function bt(e,t){return new Promise(((r,s)=>{setTimeout(s,t),e.then(r)}))}let wt=!1;function vt(e){return new Proxy(e,{get(e,t){switch(typeof e[t]){case"function":return(...r)=>e[t](...r);case"object":return null===e[t]?e[t]:vt(e[t]);case"undefined":case"number":case"string":return e[t];default:return ft(e[t])}}})}async function kt({iframe:e,blueprint:t,remoteUrl:r,progressTracker:s=new X,disableProgressBar:n,onBlueprintStepCompleted:i,onClientConnected:o=()=>{},sapiName:a,onBeforeBlueprint:p,siteSlug:c}){(function(e){const t=new URL(e,Ot);if((t.origin===Ot||"localhost"===t.hostname)&&"/remote.html"!==t.pathname)throw new Error(`Invalid remote URL: ${t}. Expected origin to be ${Ot}/remote.html.`)})(r),function(e){var t,r;null!=(t=e.sandbox)&&t.length&&(null==(r=e.sandbox)||!r.contains("allow-storage-access-by-user-activation"))&&e.sandbox.add("allow-storage-access-by-user-activation")}(e),r=_t(r,{progressbar:!n}),s.setCaption("Preparing WordPress"),t||(t={phpExtensionBundles:["kitchen-sink"]});const d=Ue(t,{progress:s.stage(.5),onStepCompleted:i}),l=await async function(e,t,r){await new Promise((r=>{e.src=t,e.addEventListener("load",r,!1)}));const s=Pt(e.contentWindow,e.ownerDocument.defaultView);await s.isConnected(),r.pipe(s);const n=r.stage();return await s.onDownloadProgress(n.loadingListener),await s.isReady(),n.finish(),s}(e,_t(r,{php:d.versions.php,wp:d.versions.wp,"sapi-name":a,"php-extension":d.phpExtensions,networking:d.features.networking?"yes":"no","site-slug":c}),s);return T(k,l),o(l),p&&await p(),await async function(e,t){await e.run(t)}(d,l),s.finish(),l}new Promise((e=>{}));const Ot="https://playground.wordpress.net";function _t(e,t){const r=new URL(e,Ot),s=new URLSearchParams(r.search);for(const[n,i]of Object.entries(t))if(null!=i&&!1!==i)if(Array.isArray(i))for(const e of i)s.append(n,e.toString());else s.set(n,i.toString());return r.search=s.toString(),r.toString()}}}]);