"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[67276],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=l(n),d=o,m=u["".concat(p,".").concat(d)]||u[d]||f[d]||i;return n?r.createElement(m,a(a({ref:t},s),{},{components:n})):r.createElement(m,a({ref:t},s))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},11047:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return u}});var r=n(87462),o=n(63366),i=(n(67294),n(3905)),a=["components"],c={id:"wp-rocket-advanced-cache",title:"WP Rocket advanced cache"},p=void 0,l={unversionedId:"php/filters/geolocation/wp-rocket-advanced-cache",id:"php/filters/geolocation/wp-rocket-advanced-cache",title:"WP Rocket advanced cache",description:"This filter enables providing custom function in WP-Rocket plugin activation process by overriding advanced-cache.php file.",source:"@site/forms/php/filters/geolocation/wp-rocket-advanced-cache.md",sourceDirName:"php/filters/geolocation",slug:"/php/filters/geolocation/wp-rocket-advanced-cache",permalink:"/forms/php/filters/geolocation/wp-rocket-advanced-cache",draft:!1,tags:[],version:"current",frontMatter:{id:"wp-rocket-advanced-cache",title:"WP Rocket advanced cache"},sidebar:"forms",previous:{title:"Countries",permalink:"/forms/php/filters/geolocation/countries"},next:{title:"Fail mimetype validation",permalink:"/forms/php/filters/validation/fail-mimetype-validation-when-file-not-on-fs"}},s={},u=[],f={toc:u},d="wrapper";function m(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)(d,(0,r.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This filter enables providing custom function in WP-Rocket plugin activation process by overriding advanced-cache.php file."),(0,i.kt)("p",null,"In general you would never need to use this filter, because this is added by default in the plugin."),(0,i.kt)("p",null,"To be able to use this functionality you need to define global variable ",(0,i.kt)("inlineCode",{parentName:"p"},"ES_GEOLOCATION_USE_WP_ROCKET_ADVANCED_CACHE")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," using you ",(0,i.kt)("inlineCode",{parentName:"p"},"wp-config.php")," file."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"add_filter('es_forms_geolocation_wp_rocket_advanced_cache', function(string $content, string $outputContent): string {\n    $position = \\strpos($content, '$rocket_config_class');\n\n    $output = '\n        $esFormsPath = ABSPATH . \"wp-content/plugins/eightshift-forms/src/Geolocation/geolocationDetect.php\";\n        if (file_exists($esFormsPath)) {\n            require_once $esFormsPath;\n        };';\n\n    return \\substr_replace($content, $output, $position, 0);\n})\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Global variable dependency:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/forms/php/global-variables/geolocation#es_geolocation_use_wp_rocket_advanced_cache"},"ES_GEOLOCATION_USE_WP_ROCKET_ADVANCED_CACHE")))))}m.isMDXComponent=!0}}]);