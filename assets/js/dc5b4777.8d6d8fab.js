"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[22864],{99680:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var s=i(96540),a=i(44586),n=i(86025),l=i(49641),r=i(23271),o=i(74848);function p(){const e=(0,a.A)(),{siteConfig:t={}}=e,[i,p]=(0,s.useState)(!0),[c,d]=(0,s.useState)("Initializing"),[h,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{const e=await(0,r.QH)({iframe:m.current,remoteUrl:"https://playground.wordpress.net/remote.html",blueprint:{preferredVersions:{php:"8.3",wp:"6.4"},phpExtensionBundles:["kitchen-sink"],features:{networking:!0},landingPage:"/wp-admin",steps:[{step:"login",username:"admin",password:"password"}]},sapiName:"cli"});d("Loading theme"),u(25);const t="devkit-components.zip",i=await fetch(`/${t}`,{headers:{"Content-Type":"application/octet-stream"},credentials:"include"});u(33),d("Unpacking theme");const s=await i.blob(),a=new File([s],t);u(50),d("Installing theme"),await(0,r.XT)(e,{themeZipFile:a,options:{activate:!0}}),u(60),d("Setting up WP-CLI");const n="/wordpress/wp-cli.phar",l=await fetch("https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar"),o=await l.arrayBuffer();await e.writeFile(n,new Uint8Array(o)),d("Initializing block"),u(80);const{text:c}=await(0,r.gT)(e,{command:"wp post create --post_title='Welcome to Eightshift DevKit!' --post_content='\x3c!-- wp:eightshift-boilerplate/devkit-components /--\x3e' --post_status='publish'",wpCliPath:n}),h=c.substring(c.indexOf("Created post ")+13,c.lastIndexOf(".")).trim();d("Finalizing"),u(92),await e.goTo(`/wp-admin/post.php?post=${h}&action=edit`),u(100),await new Promise((e=>setTimeout(e,1500))),p(!1)})()}),[]);const m=(0,s.useRef)(null);return(0,o.jsxs)(l.A,{title:"Playground",description:t.tagline,keywords:t.customFields.keywords,metaImage:(0,n.A)(`img/${t.customFields.image}`),wrapperClassName:"es-single-full-screen-child es-has-t-border",children:[(0,o.jsx)("iframe",{className:"es-full-size",allow:"clipboard-read; clipboard-write",ref:m,style:{visibility:i?"hidden":"visible"}}),i&&(0,o.jsxs)("div",{className:"es-full-size flex flex-col items-center justify-center gap-1.5 esd-full-fixed",children:[(0,o.jsx)("progress",{value:h,max:100}),(0,o.jsx)("h3",{children:"Preparing component docs"}),(0,o.jsx)("span",{className:"text-12",children:c})]})]})}}}]);