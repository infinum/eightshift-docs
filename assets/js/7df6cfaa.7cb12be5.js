"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[28131],{81207:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var o=n(74848),a=n(28453);const s={title:"Using post templates",description:"Explaining post templates and how to use them.",slug:"using-post-templates",authors:"obradovic",date:new Date("2024-03-28T00:00:00.000Z"),tags:["eightshift","boilerplate","templates"],hide_table_of_contents:!1},i=void 0,l={permalink:"/blog/using-post-templates",source:"@site/blog/2024-03-28-using-post-templates.md",title:"Using post templates",description:"Explaining post templates and how to use them.",date:"2024-03-28T00:00:00.000Z",tags:[{inline:!0,label:"eightshift",permalink:"/blog/tags/eightshift"},{inline:!0,label:"boilerplate",permalink:"/blog/tags/boilerplate"},{inline:!0,label:"templates",permalink:"/blog/tags/templates"}],readingTime:5.05,hasTruncateMarker:!0,authors:[{name:"Igor Obradovi\u0107",title:"WordPress Engineer",url:"https://github.com/iobrado",imageURL:"https://avatars.githubusercontent.com/u/23059501?v=4",key:"obradovic"}],frontMatter:{title:"Using post templates",description:"Explaining post templates and how to use them.",slug:"using-post-templates",authors:"obradovic",date:"2024-03-28T00:00:00.000Z",tags:["eightshift","boilerplate","templates"],hide_table_of_contents:!1},unlisted:!1,nextItem:{title:"Using inner blocks",permalink:"/blog/using-inner-blocks"}},r={authorsImageUrls:[void 0]},c=[{value:"Template locking options",id:"template-locking-options",level:2},{value:"Adding a template",id:"adding-a-template",level:2},{value:"Building complex layouts",id:"building-complex-layouts",level:2},{value:"Editor options for unlocking the templates",id:"editor-options-for-unlocking-the-templates",level:2},{value:"Suggestions for using post templates",id:"suggestions-for-using-post-templates",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Sometimes you need your posts to follow a specific structure, or you simply want to provide a good starting point for the editors. This blog post will cover what post templates are, how to set them up, and what options they offer."}),"\n",(0,o.jsx)(t.p,{children:"A simple use case of post templates can be a review or a testimonial. For example, if you want each review to be a separate post and to use a single Quote block."}),"\n",(0,o.jsxs)(t.p,{children:["If you don\u2019t have the new post type registered, you can refer to one of the previous blog posts which explains how to ",(0,o.jsx)(t.a,{href:"/blog/using-cpts-and-taxonomies",children:"register Custom Post Types"}),". Once the new post type is registered, you can set the ",(0,o.jsx)(t.code,{children:"template_lock"})," argument."]}),"\n",(0,o.jsx)(t.h2,{id:"template-locking-options",children:"Template locking options"}),"\n",(0,o.jsxs)(t.p,{children:["The best way to lock the template is by adding the ",(0,o.jsx)(t.code,{children:"template_lock"})," argument into a ",(0,o.jsx)(t.code,{children:"return"})," statement from the ",(0,o.jsx)(t.code,{children:"getPostTypeArguments"})," method in your post type class."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-php",children:"return [\n\t// ...\n\t'template_lock' => 'all',\n];\n"})}),"\n",(0,o.jsx)(t.p,{children:"There are a few ways of locking the template:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"all"})," - blocks can\u2019t be inserted, removed, or moved around. Content can be edited for existing blocks"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"insert"})," - you can\u2019t insert or remove blocks, but you can move them around"]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["It\u2019s not mandatory to use ",(0,o.jsx)(t.code,{children:"template_lock"})," if you\u2019re using post templates. You can leave it out and have it fully unlocked to give the editors the freedom to modify the proposed template."]})}),"\n",(0,o.jsx)(t.p,{children:"Additionally, you can lock each block separately by adding the following attributes:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'"lock": {\n\t"remove": true,\n\t"move": true,\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"adding-a-template",children:"Adding a template"}),"\n",(0,o.jsxs)(t.p,{children:["A recommended approach for adding a post template is to add a service class. For this example, the post type is ",(0,o.jsx)(t.strong,{children:"Review"}),", so the WP-CLI command for creating a new service class looks like this:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"wp boilerplate create service-example --folder=Templates --file_name=ReviewTemplate\n"})}),"\n",(0,o.jsx)(t.p,{children:"If you\u2019re adding a template for another post type, create a separate class, but include it in the same namespace (folder). That way you\u2019ll have a much better overview of the templates in the project."}),"\n",(0,o.jsx)(t.p,{children:"Here\u2019s an example of how to add a single Quote block as a template:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-php",children:"/**\n * Register Review Template.\n *\n * @return void\n */\npublic function registerReviewTemplate(): void\n{\n\t$reviewPostType = \\get_post_type_object(ReviewPostType::POST_TYPE_SLUG);\n\n\t$reviewPostType->template = [\n\t\t[\n\t\t\t'eightshift-boilerplate/quote',\n\t\t\t[\n\t\t\t\t'wrapperSimple' => true,\n\t\t\t\t'quoteQuoteParagraphContent' => 'Content placeholder',\n\t\t\t\t'quoteQuoteAuthorContent' => 'Author name placeholder',\n\t\t\t]\n\t\t],\n\t];\n}\n"})}),"\n",(0,o.jsxs)(t.p,{children:["To assign a post template, you need to get the post type object and then update the ",(0,o.jsx)(t.code,{children:"template"})," property. Alternatively, you can also lock the post template in this method with the ",(0,o.jsx)(t.code,{children:"template_lock"})," property, but it\u2019s much cleaner to do it during custom post type registration."]}),"\n",(0,o.jsxs)(t.p,{children:["Don\u2019t forget to register your method with ",(0,o.jsx)(t.code,{children:"add_action"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-php",children:"\\add_action('init', [$this, 'registerReviewTemplate'], 20);\n"})}),"\n",(0,o.jsx)(t.h2,{id:"building-complex-layouts",children:"Building complex layouts"}),"\n",(0,o.jsx)(t.p,{children:"As you can see from the previous example, you can set any attribute you want, including wrapper-related options. The easiest way to add a complex post template is by building it in the Gutenberg editor first, then switching to Code Editor and copying the content. This will have to be rewritten in PHP to make it work, and here\u2019s how to do it. Let\u2019s say the code for the blocks looks like this:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'\x3c!-- wp:eightshift-boilerplate/paragraph {"paragraphParagraphContent":"Placeholder text"} /--\x3e\n\n\x3c!-- wp:eightshift-boilerplate/cta-modal {"ctaModalButtonContent":"Apply now!","ctaModalEndDateHide":true} --\x3e\n\x3c!-- wp:eightshift-boilerplate/heading {"wrapperUseShowControl":false,"wrapperSimpleShowControl":false,"wrapperSimple":true,"wrapperAnchorId":"apply-now","headingHeadingContent":"Application form","headingHeadingSize":"h4:bold","headingAlign":"center"} /--\x3e\n\n\x3c!-- wp:eightshift-forms/forms /--\x3e\n\x3c!-- /wp:eightshift-boilerplate/cta-modal --\x3e\n'})}),"\n",(0,o.jsx)(t.p,{children:"This is how it looks when you rewrite it in PHP."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-php",children:"$eventPostType->template = [ // array that holds all blocks.\n\t[ // array that holds a Paragraph block.\n\t\t'eightshift-boilerplate/paragraph', // full block name.\n\t\t[ // array that holds block attributes.\n\t\t\t'paragraphParagraphContent' => 'Placeholder text',\n\t\t]\n\t],\n\t[ // array that holds a CTA Modal block.\n\t\t'eightshift-boilerplate/cta-modal',\n\t\t[ // array that holds block attributes.\n\t\t\t'ctaModalEndDateHide' => true,\n\t\t\t'ctaModalButtonContent' => 'Apply now!',\n\t\t\t'ctaModalButtonAlign' => 'center',\n\t\t],\n\t\t[ // array of inner blocks for a CTA Modal block.\n\t\t\t[\n\t\t\t\t'eightshift-boilerplate/heading',\n\t\t\t\t[\n\t\t\t\t\t'wrapperAnchorId' => 'apply-now',\n\t\t\t\t\t'headingHeadingContent' => 'Application form',\n\t\t\t\t\t'headingHeadingSize' => 'h4:bold',\n\t\t\t\t\t'headingAlign' => 'center'\n\t\t\t\t]\n\t\t\t],\n\t\t\t[\n\t\t\t\t'eightshift-forms/forms',\n\t\t\t\t[] // not passing any attributes, so we just include an empty array.\n\t\t\t]\n\t\t]\n\t]\n];\n"})}),"\n",(0,o.jsx)(t.p,{children:"The comments were added above for an easier understanding of the structure. So, to summarize:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["the ",(0,o.jsx)(t.code,{children:"template"})," property is an array that holds all blocks"]}),"\n",(0,o.jsx)(t.li,{children:"each block is a separate array that accepts three values in the following order: block name (string), block attributes (array), and inner blocks (array)"}),"\n",(0,o.jsx)(t.li,{children:"the process of adding inner blocks is the same as for adding blocks to the main content"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"editor-options-for-unlocking-the-templates",children:"Editor options for unlocking the templates"}),"\n",(0,o.jsxs)(t.p,{children:["Even though the templates can be locked, some blocks can still be unlocked. This can be done by selecting a block and clicking on a lock icon. When locking or unlocking a block in this way, you can toggle two options, the ones already mentioned at the end of the ",(0,o.jsx)(t.a,{href:"#template-locking-options",children:"Template locking options"})," section:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Disable movement"})," - disable moving the block around"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Prevent removal"})," - prevents the block from being deleted"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"That way, even if you lock the template, some modifications can still be made to the template. Please note, that once you remove a block from the locked template, you can\u2019t add it again because the button for adding blocks is disabled."}),"\n",(0,o.jsx)(t.h2,{id:"suggestions-for-using-post-templates",children:"Suggestions for using post templates"}),"\n",(0,o.jsx)(t.p,{children:"Post templates offer a great way to streamline the process of adding content for specific post types and making the look and feel of the same post types more uniform. There are lots of ways to use them, so here are some suggestions to give you ideas:"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Posts/news articles"})," - a news article needs a title, an image, author information, and some content."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Events"})," - you can put the important information at the top with a few accordions, then follow up with some content and add a CTA button at the bottom that opens a modal with an application form."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Reviews"})," - use a single quote block for displaying user reviews. To make it work with the Featured Content block, you can modify the Featured Content block to render the Reviews CPT content directly, instead of rendering cards."]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var o=n(96540);const a={},s=o.createContext(a);function i(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);