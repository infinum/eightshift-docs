/*! For license information please see 7d86d510.cad2ab98.js.LICENSE.txt */
"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[40474],{23013:(e,n,t)=>{t.d(n,{I_:()=>a,KW:()=>r,QV:()=>u,Y5:()=>p,YP:()=>l,dZ:()=>d,qy:()=>c,uB:()=>m});var s=t(51857),i=t(13731),o=t(74848);const l=[{label:"Item 1",value:"item-1"},{label:"Item 2",value:"item-2"},{label:"Item 3",value:"item-3"},{label:"Item 4 with veeeery very long label",value:"item-4"},{label:"Item 5",value:"item-5"},{label:"Item 6",value:"item-6"}],a=e=>{const n=n=>{let{label:t}=n;return t.toLowerCase().includes(e.toLowerCase())};return new Promise((t=>{setTimeout((()=>{e||t(l.slice(0,3)),t(l.filter(n))}),1500)}))},r=e=>(0,o.jsx)(s.am,{...e,children:(0,o.jsx)("div",{className:"[&>svg]:es:text-red-500",children:e.selectProps.menuIsOpen?i.P.arrowUpCircleAlt:i.P.arrowDownCircleAlt})}),c=e=>(0,o.jsx)(s.pP,{...e,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{role:"img",children:i.P.emptyCircle}),(0,o.jsx)("span",{children:e.label})]})}),u=e=>(0,o.jsx)(s.mw,{...e,children:i.P.errorCircleFill}),d=e=>(0,o.jsx)(s.XS,{...e,children:(0,o.jsx)("span",{className:"es:text-red-500 es:font-mono es:font-semibold",children:e.children})}),p=e=>(0,o.jsx)(s.C6,{...e,children:i.P.remove}),m=e=>{const n=["es:bg-red-500","es:bg-blue-500","es:bg-green-500","es:bg-yellow-500","es:bg-slate-900"],t=e.options.findIndex((n=>n.value===e.data.value))%n.length;return(0,o.jsx)(s.ym,{...e,children:(0,o.jsx)("span",{className:`${n[t]} es:font-semibold es:p-1 es:text-white`,children:e.children})})}},26263:(e,n,t)=>{t.d(n,{A:()=>a});var s=t(94583),i=t(96540),o=t(3917),l=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var a=(0,i.forwardRef)((function(e,n){var t=function(e){var n=e.defaultOptions,t=void 0!==n&&n,o=e.cacheOptions,a=void 0!==o&&o,r=e.loadOptions;e.options;var c=e.isLoading,u=void 0!==c&&c,d=e.onInputChange,p=e.filterOption,m=void 0===p?null:p,h=(0,s.a)(e,l),f=h.inputValue,v=(0,i.useRef)(void 0),b=(0,i.useRef)(!1),x=(0,i.useState)(Array.isArray(t)?t:void 0),g=(0,s.b)(x,2),j=g[0],y=g[1],w=(0,i.useState)(void 0!==f?f:""),C=(0,s.b)(w,2),O=C[0],S=C[1],I=(0,i.useState)(!0===t),A=(0,s.b)(I,2),V=A[0],N=A[1],P=(0,i.useState)(void 0),M=(0,s.b)(P,2),k=M[0],D=M[1],R=(0,i.useState)([]),_=(0,s.b)(R,2),L=_[0],E=_[1],$=(0,i.useState)(!1),F=(0,s.b)($,2),z=F[0],T=F[1],U=(0,i.useState)({}),W=(0,s.b)(U,2),X=W[0],Y=W[1],q=(0,i.useState)(void 0),B=(0,s.b)(q,2),J=B[0],K=B[1],Q=(0,i.useState)(void 0),Z=(0,s.b)(Q,2),G=Z[0],H=Z[1];a!==G&&(Y({}),H(a)),t!==J&&(y(Array.isArray(t)?t:void 0),K(t)),(0,i.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var ee=(0,i.useCallback)((function(e,n){if(!r)return n();var t=r(e,n);t&&"function"==typeof t.then&&t.then(n,(function(){return n()}))}),[r]);(0,i.useEffect)((function(){!0===t&&ee(O,(function(e){b.current&&(y(e||[]),N(!!v.current))}))}),[]);var ne=(0,i.useCallback)((function(e,n){var t=(0,s.h)(e,n,d);if(!t)return v.current=void 0,S(""),D(""),E([]),N(!1),void T(!1);if(a&&X[t])S(t),D(t),E(X[t]),N(!1),T(!1);else{var i=v.current={};S(t),N(!0),T(!k),ee(t,(function(e){b&&i===v.current&&(v.current=void 0,N(!1),D(t),E(e||[]),T(!1),Y(e?(0,s.d)((0,s.d)({},X),{},(0,s.e)({},t,e)):X))}))}}),[a,ee,k,X,d]),te=z?[]:O&&k?L:j||[];return(0,s.d)((0,s.d)({},h),{},{options:te,isLoading:V||u,onInputChange:ne,filterOption:m})}(e),a=(0,o.u)(t);return i.createElement(o.S,(0,s._)({ref:n},a))}))},30590:(e,n,t)=>{t.d(n,{d:()=>r});var s=t(96540),i=t(82972),o=t(34164),l=t(73906),a=t(74848);const r=e=>{let{children:n,defaultValue:t,className:r,fitWidth:c=!1,resettable:u=!1,preContent:d}=e;const[p,m]=(0,s.useState)(t),h=(0,s.useRef)();return(0,a.jsx)(l.A,{children:()=>(0,a.jsxs)("div",{className:"es:flex es:font-sans",children:[(0,a.jsxs)("div",{className:(0,o.$)("es:border es:border-dashed es:border-gray-200 es:p-4 es:rounded-lg esd-space-v es:shrink-0 esd-showcase",c?"es:w-fit":"esd-showcase-w",r),children:["function"==typeof n&&n(p,m),"function"!=typeof n&&n]}),(0,a.jsxs)("div",{className:"esd-space-v es:ml-3 es:grow",children:[d&&d(p,m,h),u&&(0,a.jsx)(i.$,{size:"small",onPress:()=>m(t),disabled:p===t,children:"Reset"})]})]})})}},72932:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>x,default:()=>w,frontMatter:()=>b,metadata:()=>s,toc:()=>j});const s=JSON.parse('{"id":"es-ui-components/async-multi-select","title":"Async multi-select","description":"{(data, setData) => (","source":"@site/ui-components/es-ui-components/async-multi-select.mdx","sourceDirName":"es-ui-components","slug":"/es-ui-components/async-multi-select","permalink":"/components/es-ui-components/async-multi-select","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"components","previous":{"title":"Async single select","permalink":"/components/es-ui-components/async-select"},"next":{"title":"Customization","permalink":"/components/es-ui-components/select-customization"}}');var i=t(74848),o=t(28453),l=t(30590),a=t(96540),r=t(26263),c=t(19214),u=t(2522),d=t(82685),p=t(23338),m=t(49290),h=t(94583);const f=e=>{const{label:n,help:t,icon:s,subtitle:o,actions:l,inline:f,loadOptions:v,preloadOptions:b=!0,value:x,onChange:g,disabled:j=!1,noSearch:y=!1,clearable:w=!1,keepMenuOpenAfterSelect:C=!1,className:O,placeholder:S,customMenuOption:I,customValueRemove:A,customValueDisplay:V,customDropdownArrow:N,customValueContainer:P,customClearIndicator:M,processLoadedOptions:k=e=>e,hidden:D,...R}=e,_=(0,a.useId)(),L=x.map(((e,n)=>({...e,id:(null==e?void 0:e.value)??`${_}-${n}`}))),E=e=>{g(null==e?void 0:e.map((e=>({...e,id:void 0}))))};if(D)return null;return(0,i.jsx)(p.p,{label:n,icon:s,subtitle:o,actions:l,help:t,inline:f,children:(0,i.jsx)(c.D,{modifiers:[u.r],onDragEnd:(0,c.g)(E,L),children:(0,i.jsx)(c.S,{items:L.map((({id:e})=>e)),children:(0,i.jsx)(r.A,{isMulti:!0,unstyled:!0,loadOptions:async e=>{const n=await v(e);return k((null==n?void 0:n.map((e=>({id:e.value,...e}))))??[])},defaultOptions:b,value:L,onChange:E,closeMenuOnSelect:!C,isClearable:w,isSearchable:!y,isDisabled:j,className:O,placeholder:S,classNames:m.U,components:{MultiValue:(0,c.b)(V??h.c.MultiValue),MultiValueContainer:P??h.c.MultiValueContainer,MultiValueRemove:(0,c.a)(A??d.Xb),Option:I??h.c.Option,IndicatorSeparator:null,DropdownIndicator:N??d.D,ClearIndicator:M??d.P1},menuPortalTarget:document.body,...R})})})})};var v=t(23013);const b={},x="Async multi-select",g={},j=[];function y(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"async-multi-select",children:"Async multi-select"})}),"\n","\n",(0,i.jsx)(l.d,{defaultValue:[],children:(e,n)=>(0,i.jsx)(f,{value:e,onChange:n,loadOptions:v.I_})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const getOptions = async () => {\n\t...\n};\n\n<AsyncMultiSelect\n\tvalue={value}\n\tonChange={(value) => setValue(value)}\n\tloadOptions={getOptions}\n/>\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Props are mostly the same as for the ",(0,i.jsx)(n.a,{href:"/components/es-ui-components/select",children:"Single select"}),",\nwith the exceptions of ",(0,i.jsx)(n.code,{children:"options"})," (which is replaced with ",(0,i.jsx)(n.code,{children:"loadOptions"}),") and ",(0,i.jsx)(n.code,{children:"simpleValue"}),", which is not supported."]})}),"\n",(0,i.jsx)(n.p,{children:"For the complete list of props, use your IDE's autocomplete functionality."})]})}function w(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(y,{...e})}):y(e)}}}]);