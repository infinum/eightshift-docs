"use strict";(self.webpackChunk_eightshift_docs=self.webpackChunk_eightshift_docs||[]).push([[40606],{12746:(e,i,s)=>{s.d(i,{S:()=>V});var n=s(74848),a=s(1174),t=s(44640),l=s(17220),d=s(35971),o=s(96540),r=s(46378),c=s(8659),u=s(81889),h=s(20427),p=s(49221),v=s(79021),m=s(1126),b=s(57940),g=s(49189),f=s(61426),y=s(13731),x=s(54754);function j(e,i,s){let n=(0,r.$)({...e,value:i.isSelected}),{isInvalid:a,validationErrors:l,validationDetails:d}=n.displayValidation,{labelProps:h,inputProps:p,isSelected:v,isPressed:m,isDisabled:b,isReadOnly:g}=(0,u.$)({...e,isInvalid:a},i,s);(0,r.a)(e,n,s);let{isIndeterminate:f,isRequired:y,validationBehavior:x="aria"}=e;(0,o.useEffect)((()=>{s.current&&(s.current.indeterminate=!!f)}));let{pressProps:j}=(0,c.$)({isDisabled:b||g,onPress(){let{[r.b]:i}=e,{commitValidation:s}=i||n;s()}});return{labelProps:(0,t.d)(h,j),inputProps:{...p,checked:v,"aria-required":y&&"aria"===x||void 0,required:y&&"native"===x},isSelected:v,isPressed:m,isDisabled:b,isReadOnly:g,isInvalid:a,validationErrors:l,validationDetails:d}}const w=new WeakMap;const S=(0,o.createContext)(null),R=(0,o.forwardRef)((function(e,i){let{inputRef:s=null,...n}=e;[e,i]=(0,t.a)(n,i,a.a);let{validationBehavior:c}=(0,t.$)(l.$)||{};var u,b;let g=null!==(b=null!==(u=e.validationBehavior)&&void 0!==u?u:c)&&void 0!==b?b:"native",f=(0,o.useContext)(S),y=(0,t.l)((0,t.m)(s,void 0!==e.inputRef?e.inputRef:null)),{labelProps:x,inputProps:R,isSelected:V,isDisabled:k,isReadOnly:P,isPressed:I,isInvalid:N}=f?function(e,i,s){const n=(0,h.$)({isReadOnly:e.isReadOnly||i.isReadOnly,isSelected:i.isSelected(e.value),onChange(s){s?i.addValue(e.value):i.removeValue(e.value),e.onChange&&e.onChange(s)}});let{name:a,descriptionId:t,errorMessageId:l,validationBehavior:d}=w.get(i);var c;d=null!==(c=e.validationBehavior)&&void 0!==c?c:d;let{realtimeValidation:u}=(0,r.$)({...e,value:n.isSelected,name:void 0,validationBehavior:"aria"}),p=(0,o.useRef)(r.c),v=()=>{i.setInvalid(e.value,u.isInvalid?u:p.current)};(0,o.useEffect)(v);let m=i.realtimeValidation.isInvalid?i.realtimeValidation:u,b="native"===d?i.displayValidation:m;var g;let f=j({...e,isReadOnly:e.isReadOnly||i.isReadOnly,isDisabled:e.isDisabled||i.isDisabled,name:e.name||a,isRequired:null!==(g=e.isRequired)&&void 0!==g?g:i.isRequired,validationBehavior:d,[r.b]:{realtimeValidation:m,displayValidation:b,resetValidation:i.resetValidation,commitValidation:i.commitValidation,updateValidation(e){p.current=e,v()}}},n,s);return{...f,inputProps:{...f.inputProps,"aria-describedby":[e["aria-describedby"],i.isInvalid?l:null,t].filter(Boolean).join(" ")||void 0}}}({...(0,t.h)(e),value:e.value,children:"function"==typeof e.children||e.children},f,y):j({...(0,t.h)(e),children:"function"==typeof e.children||e.children,validationBehavior:g},(0,h.$)(e),y),{isFocused:D,isFocusVisible:$,focusProps:C}=(0,p.$)(),O=k||P,{hoverProps:A,isHovered:F}=(0,v.$)({...e,isDisabled:O}),q=(0,t.b)({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:V,isIndeterminate:e.isIndeterminate||!1,isPressed:I,isHovered:F,isFocused:D,isFocusVisible:$,isDisabled:k,isReadOnly:P,isInvalid:N,isRequired:e.isRequired||!1}}),E=(0,d.$)(e);return delete E.id,o.createElement("label",{...(0,t.d)(E,x,A,q),ref:i,slot:e.slot||void 0,"data-selected":V||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":I||void 0,"data-hovered":F||void 0,"data-focused":D||void 0,"data-focus-visible":$||void 0,"data-disabled":k||void 0,"data-readonly":P||void 0,"data-invalid":N||void 0,"data-required":e.isRequired||void 0},o.createElement(m.$,{elementType:"span"},o.createElement("input",{...(0,t.d)(R,C),ref:y})),q.children)})),V=e=>{const{icon:i,label:s,subtitle:a,checked:t,disabled:l,readOnly:d,indeterminate:o,onChange:r,className:c,labelClassName:u,inlineSubtitle:h,alignEnd:p,children:v,hidden:m,...j}=e;if(m)return null;const w=t||o;return(0,n.jsxs)(R,{isDisabled:l,isIndeterminate:o,isReadOnly:d,isSelected:t??!1,onChange:r,className:(0,g.c)("es:group es:flex es:w-full es:items-center es:gap-1.5 es:text-sm",c),...j,children:[(i||p)&&(s||a)&&(0,n.jsx)(x.b,{icon:i,label:s,subtitle:a,className:(0,g.c)("es:ml-1",u),inlineSubtitle:h,fullSizeSubtitle:!0,fullWidth:!0,as:b.$}),(0,n.jsxs)("div",{className:(0,g.c)("es:size-5 es:flex es:items-center es:justify-center","es:transition es:cursor-pointer","es:bg-radial es:border es:rounded-md","es:shadow-xs es:inset-ring es:inset-shadow-xs","es:any-focus:outline-hidden es:group-focus-visible:ring-2 es:group-focus-visible:ring-accent-500/50",!w&&"es:group-focus-visible:border-accent-500",!w&&"es:border-secondary-300 es:inset-ring-secondary-100 es:inset-shadow-secondary-100/50",!w&&"es:from-secondary-50 es:to-white es:text-secondary-600 es:hover:text-accent-950",!w&&"es:hover:inset-shadow-secondary-100 es:hover:to-secondary-100 es:hover:inset-ring-secondary-100",w&&"es:text-white es:from-accent-500 es:to-accent-600",w&&"es:shadow-accent-600/30 es:border-accent-700 es:inset-ring es:inset-ring-accent-600 es:inset-shadow-accent-400/75",w&&"es:group-focus-visible:inset-ring-accent-600 es:group-focus-visible:inset-shadow-xs es:group-focus-visible:inset-shadow-accent-400",!p&&a&&"es:mb-auto"),children:[(0,n.jsx)(f.c,{transition:"scaleFade",visible:o,className:"es:transition-none",children:(0,n.jsx)("div",{className:"es:h-0.5 es:w-3 es:rounded es:bg-white"})}),(0,n.jsx)(f.c,{transition:"scaleRotateFade",visible:!o&&t,className:"es:transition-none es:icon:size-3 es:icon:stroke-3",noInitial:!0,children:y.P.check})]}),!i&&!p&&(s||a)&&(0,n.jsx)(x.b,{label:s,subtitle:a,className:(0,g.c)(a&&"es:mt-0.5","es:ml-0.5 es:*:space-y-0.5",u),inlineSubtitle:h,fullSizeSubtitle:!0,as:b.$}),!(i||s||a)&&v]})}},30590:(e,i,s)=>{s.d(i,{d:()=>o});var n=s(96540),a=s(82972),t=s(34164),l=s(73906),d=s(74848);const o=e=>{let{children:i,defaultValue:s,className:o,fitWidth:r=!1,resettable:c=!1,preContent:u}=e;const[h,p]=(0,n.useState)(s),v=(0,n.useRef)();return(0,d.jsx)(l.A,{children:()=>(0,d.jsxs)("div",{className:"es:flex es:font-sans",children:[(0,d.jsxs)("div",{className:(0,t.$)("es:border es:border-dashed es:border-gray-200 es:p-4 es:rounded-lg esd-space-v es:shrink-0 esd-showcase",r?"es:w-fit":"esd-showcase-w",o),children:["function"==typeof i&&i(h,p),"function"!=typeof i&&i]}),(0,d.jsxs)("div",{className:"esd-space-v es:ml-3 es:grow",children:[u&&u(h,p,v),c&&(0,d.jsx)(a.$,{size:"small",onPress:()=>p(s),disabled:h===s,children:"Reset"})]})]})})}},52963:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>c,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"es-ui-components/animated-visibility","title":"Animated visibility","description":"Allows showing/hiding content in an animated way. After hiding, the content is unmounted from the DOM.","source":"@site/ui-components/es-ui-components/animated-visibility.mdx","sourceDirName":"es-ui-components","slug":"/es-ui-components/animated-visibility","permalink":"/components/es-ui-components/animated-visibility","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"components","previous":{"title":"Triggered popover","permalink":"/components/es-ui-components/triggered-popover"},"next":{"title":"Expandable","permalink":"/components/es-ui-components/expandable"}}');var a=s(74848),t=s(28453),l=s(30590),d=s(12746),o=s(61426),r=s(69314);const c={},u="Animated visibility",h={},p=[{value:"Highlighted props",id:"highlighted-props",level:2},{value:"Transitions",id:"transitions",level:3},{value:"Skipping initial transition",id:"skipping-initial-transition",level:3}];function v(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"animated-visibility",children:"Animated visibility"})}),"\n","\n",(0,a.jsx)(i.p,{children:"Allows showing/hiding content in an animated way. After hiding, the content is unmounted from the DOM."}),"\n",(0,a.jsx)(l.d,{className:"esd-hide-bg-on-hover",defaultValue:!1,preContent:(e,i)=>(0,a.jsx)(d.S,{checked:e,onChange:i,label:"Visible"}),children:e=>(0,a.jsx)(o.c,{visible:e,noInitial:!0,children:(0,a.jsx)("div",{className:"es:w-full es:rounded-lg es:bg-gray-100 es:text-sm es:p-4 es:min-h-40",children:(0,a.jsx)("span",{children:"This is demo content"})})})}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n>\n\t<span>Your content goes here</span>\n</AnimatedVisibility>\n"})}),"\n",(0,a.jsx)(i.h2,{id:"highlighted-props",children:"Highlighted props"}),"\n",(0,a.jsx)(i.p,{children:"For the complete list of props, use your IDE's autocomplete functionality."}),"\n",(0,a.jsx)(i.h3,{id:"transitions",children:"Transitions"}),"\n",(0,a.jsx)(l.d,{className:"esd-hide-bg-on-hover",defaultValue:{checked:!1,transition:"slideFade"},preContent:(e,i)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.w,{label:"Transition",value:e.transition,onChange:s=>i({...e,transition:s}),options:[{value:"slideFade",label:"Slide and fade",subtitle:"Default"},{value:"scaleFade",label:"Scale and fade"},{value:"scaleRotateFade",label:"Scale, rotate, and fade"}],type:"menu",wrapperProps:{keepOpen:!1}}),(0,a.jsx)(d.S,{checked:e.checked,onChange:s=>i({...e,checked:s}),label:"Visible"})]}),children:e=>(0,a.jsx)(o.c,{visible:e.checked,transition:e.transition,noInitial:!0,children:(0,a.jsx)("div",{className:"es:w-full es:rounded-lg es:bg-gray-100 es:text-sm es:p-4 es:min-h-40",children:(0,a.jsx)("span",{children:"This is demo content"})})})}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n\t// highlight-next-line\n\ttransition='scaleFade'\n>\n\t<span>This is demo content</span>\n</AnimatedVisibility>\n"})}),"\n",(0,a.jsx)(i.h3,{id:"skipping-initial-transition",children:"Skipping initial transition"}),"\n",(0,a.jsxs)(i.p,{children:["If you want to skip the initial transition (when the component mounts), and just want to transition\nwhen the visibility changes afterwards, you can use the ",(0,a.jsx)(i.code,{children:"noInitial"})," prop."]}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-jsx",children:"<AnimatedVisibility\n\tvisibility={myVariable}\n\t// highlight-next-line\n\tnoInitial\n>\n\t<span>Your content goes here</span>\n</AnimatedVisibility>\n"})})]})}function m(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(v,{...e})}):v(e)}},81889:(e,i,s)=>{s.d(i,{$:()=>o});var n=s(44640),a=s(35971),t=s(46244),l=s(8659),d=s(79021);function o(e,i,s){let{isDisabled:o=!1,isReadOnly:r=!1,value:c,name:u,children:h,"aria-label":p,"aria-labelledby":v,validationState:m="valid",isInvalid:b}=e;null!=h||(null!=p||null!=v)||console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:g,isPressed:f}=(0,l.$)({isDisabled:o}),{pressProps:y,isPressed:x}=(0,l.$)({onPress(){var e;i.toggle(),null===(e=s.current)||void 0===e||e.focus()},isDisabled:o||r}),{focusableProps:j}=(0,d.a)(e,s),w=(0,n.d)(g,j),S=(0,a.$)(e,{labelable:!0});return(0,t.$)(s,i.isSelected,i.setSelected),{labelProps:(0,n.d)(y,{onClick:e=>e.preventDefault()}),inputProps:(0,n.d)(S,{"aria-invalid":b||"invalid"===m||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":r||void 0,onChange:e=>{e.stopPropagation(),i.setSelected(e.target.checked)},disabled:o,...null==c?{}:{value:c},name:u,type:"checkbox",...w}),isSelected:i.isSelected,isPressed:f||x,isDisabled:o,isReadOnly:r,isInvalid:b||"invalid"===m}}}}]);